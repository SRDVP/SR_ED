(window.piktoCreateWebpackJsonp=window.piktoCreateWebpackJsonp||[]).push([[7],{"+80P":function(t,e,n){"use strict";function o(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function r(t){return"[object Function]"===i(t)}function s(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var a={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(t,e,n){var o=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(o)?o.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var o=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(o)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:o.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var o=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(o)?o.match(n.re.mailto)[0].length:0}}},c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function u(t){var e=t.re=n("sRdV")(t.__opts__),o=t.__tlds__.slice();function a(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||o.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),o.push(e.src_xn),e.src_tlds=o.join("|"),e.email_fuzzy=RegExp(a(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(a(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(a(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(a(e.tpl_host_fuzzy_test),"i");var l=[];function c(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var o={validate:null,link:null};if(t.__compiled__[e]=o,"[object Object]"===i(n))return!function(t){return"[object RegExp]"===i(t)}(n.validate)?r(n.validate)?o.validate=n.validate:c(e,n):o.validate=function(t){return function(e,n){var o=e.slice(n);return t.test(o)?o.match(t)[0].length:0}}(n.validate),void(r(n.normalize)?o.normalize=n.normalize:n.normalize?c(e,n):o.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?c(e,n):l.push(e)}})),l.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var u=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(s).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+u+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+u+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function h(t,e){var n=t.__index__,o=t.__last_index__,i=t.__text_cache__.slice(n,o);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=o+e,this.raw=i,this.text=i,this.url=i}function p(t,e){var n=new h(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function d(t,e){if(!(this instanceof d))return new d(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||a.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=o({},a,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=o({},l,t),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},u(this)}d.prototype.add=function(t,e){return this.__schemas__[t]=e,u(this),this},d.prototype.set=function(t){return this.__opts__=o(this.__opts__,t),this},d.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,o,i,r,s,a,l;if(this.re.schema_test.test(t))for((a=this.re.schema_search).lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=n.index+n[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(o=t.match(this.re.email_fuzzy))&&(r=o.index+o[1].length,s=o.index+o[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=s)),this.__index__>=0},d.prototype.pretest=function(t){return this.re.pretest.test(t)},d.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},d.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(p(this,e)),e=this.__last_index__);for(var o=e?t.slice(e):t;this.test(o);)n.push(p(this,e)),o=o.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},d.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),u(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,u(this),this)},d.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},d.prototype.onCompile=function(){},t.exports=d},"/21U":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("isby");function i(t){return!Object(o.a)(t)&&t-parseFloat(t)+1>=0}},"/PH2":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),i=n("MGBS"),r=n("zotm");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var o=t;return e.lift(new a(o,n))}}var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.observables,this.project))},t}(),l=function(t){function e(e,n,o){var i=t.call(this,e)||this;i.observables=n,i.project=o,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var l=n[a];i.add(Object(r.a)(i,l,l,a))}return i}return o.__extends(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.values[n]=e;var r=this.toRespond;if(r.length>0){var s=r.indexOf(n);-1!==s&&r.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},"0hfp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=function(t){return t},i=function(t){if(null==t)return o;var e,n,i=t.scale[0],r=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,o){o||(e=n=0);var l=2,c=t.length,u=new Array(c);for(u[0]=(e+=t[0])*i+s,u[1]=(n+=t[1])*r+a;l<c;)u[l]=t[l],++l;return u}},r=function(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return s(t,e)}))}:s(t,e)};function s(t,e){var n=e.id,o=e.bbox,i=null==e.properties?{}:e.properties,r=a(t,e);return null==n&&null==o?{type:"Feature",properties:i,geometry:r}:null==o?{type:"Feature",id:n,properties:i,geometry:r}:{type:"Feature",id:n,bbox:o,properties:i,geometry:r}}function a(t,e){var n=i(t.transform),o=t.arcs;function r(t,e){e.length&&e.pop();for(var i=o[t<0?~t:t],r=0,s=i.length;r<s;++r)e.push(n(i[r],r));t<0&&function(t,e){for(var n,o=t.length,i=o-e;i<--o;)n=t[i],t[i++]=t[o],t[o]=n}(e,s)}function s(t){return n(t)}function a(t){for(var e=[],n=0,o=t.length;n<o;++n)r(t[n],e);return e.length<2&&e.push(e[0]),e}function l(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function c(t){return t.map(l)}return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=c(e.arcs);break;case"MultiPolygon":n=e.arcs.map(c);break;default:return null}return{type:o,coordinates:n}}(e)}},"1LK5":function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},"1ibS":function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return B}));var o=n("mPOO"),i=function(){var t,e=[];return{point:function(e,n,o){t.push([e,n,o])},lineStart:function(){e.push(t=[])},lineEnd:o.a,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},r=n("R0y8"),s=function(t,e){return Object(r.a)(t[0]-e[0])<r.h&&Object(r.a)(t[1]-e[1])<r.h};function a(t,e,n,o){this.x=t,this.z=e,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}var l=function(t,e,n,o,i){var l,u,h=[],p=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],c=t[e];if(s(o,c)){if(!o[2]&&!c[2]){for(i.lineStart(),l=0;l<e;++l)i.point((o=t[l])[0],o[1]);return void i.lineEnd()}c[0]+=2*r.h}h.push(n=new a(o,t,null,!0)),p.push(n.o=new a(o,null,n,!1)),h.push(n=new a(c,t,null,!1)),p.push(n.o=new a(c,null,n,!0))}})),h.length){for(p.sort(e),c(h),c(p),l=0,u=p.length;l<u;++l)p[l].e=n=!n;for(var d,f,m=h[0];;){for(var g=m,v=!0;g.v;)if((g=g.n)===m)return;d=g.z,i.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(l=0,u=d.length;l<u;++l)i.point((f=d[l])[0],f[1]);else o(g.x,g.n.x,1,i);g=g.n}else{if(v)for(d=g.p.z,l=d.length-1;l>=0;--l)i.point((f=d[l])[0],f[1]);else o(g.x,g.p.x,-1,i);g=g.p}d=(g=g.o).z,v=!v}while(!g.v);i.lineEnd()}}};function c(t){if(e=t.length){for(var e,n,o=0,i=t[0];++o<e;)i.n=n=t[o],n.p=i,i=n;i.n=n=t[0],n.p=i}}var u=n("uCr6");function h(t){return[Object(r.e)(t[1],t[0]),Object(r.c)(t[2])]}function p(t){var e=t[0],n=t[1],o=Object(r.f)(n);return[o*Object(r.f)(e),o*Object(r.q)(e),Object(r.q)(n)]}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function f(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function m(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function g(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function v(t){var e=Object(r.r)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var b=Object(u.a)();function y(t){return Object(r.a)(t[0])<=r.m?t[0]:Object(r.p)(t[0])*((Object(r.a)(t[0])+r.m)%r.t-r.m)}var w=n("vBe5"),E=function(t,e,n,o){return function(s){var a,c,u,h=e(s),d=i(),m=e(d),g=!1,E={point:M,lineStart:S,lineEnd:k,polygonStart:function(){E.point=R,E.lineStart=T,E.lineEnd=D,c=[],a=[]},polygonEnd:function(){E.point=M,E.lineStart=S,E.lineEnd=k,c=Object(w.d)(c);var t=function(t,e){var n=y(e),o=e[1],i=Object(r.q)(o),s=[Object(r.q)(n),-Object(r.f)(n),0],a=0,l=0;b.reset(),1===i?o=r.k+r.h:-1===i&&(o=-r.k-r.h);for(var c=0,u=t.length;c<u;++c)if(d=(h=t[c]).length)for(var h,d,m=h[d-1],g=y(m),w=m[1]/2+r.n,E=Object(r.q)(w),C=Object(r.f)(w),x=0;x<d;++x,g=_,E=k,C=R,m=M){var M=h[x],_=y(M),S=M[1]/2+r.n,k=Object(r.q)(S),R=Object(r.f)(S),T=_-g,D=T>=0?1:-1,L=D*T,O=L>r.m,A=E*k;if(b.add(Object(r.e)(A*D*Object(r.q)(L),C*R+A*Object(r.f)(L))),a+=O?T+D*r.t:T,O^g>=n^_>=n){var P=f(p(m),p(M));v(P);var z=f(s,P);v(z);var N=(O^T>=0?-1:1)*Object(r.c)(z[2]);(o>N||o===N&&(P[0]||P[1]))&&(l+=O^T>=0?1:-1)}}return(a<-r.h||a<r.h&&b<-r.h)^1&l}(a,o);c.length?(g||(s.polygonStart(),g=!0),l(c,x,t,n,s)):t&&(g||(s.polygonStart(),g=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),g&&(s.polygonEnd(),g=!1),c=a=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function M(e,n){t(e,n)&&s.point(e,n)}function _(t,e){h.point(t,e)}function S(){E.point=_,h.lineStart()}function k(){E.point=M,h.lineEnd()}function R(t,e){u.push([t,e]),m.point(t,e)}function T(){m.lineStart(),u=[]}function D(){R(u[0][0],u[0][1]),m.lineEnd();var t,e,n,o,i=m.clean(),r=d.result(),l=r.length;if(u.pop(),a.push(u),u=null,l)if(1&i){if((e=(n=r[0]).length-1)>0){for(g||(s.polygonStart(),g=!0),s.lineStart(),t=0;t<e;++t)s.point((o=n[t])[0],o[1]);s.lineEnd()}}else l>1&&2&i&&r.push(r.pop().concat(r.shift())),c.push(r.filter(C))}return E}};function C(t){return t.length>1}function x(t,e){return((t=t.x)[0]<0?t[1]-r.k-r.h:r.k-t[1])-((e=e.x)[0]<0?e[1]-r.k-r.h:r.k-e[1])}var M=E((function(){return!0}),(function(t){var e,n=NaN,o=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(s,a){var l=s>0?r.m:-r.m,c=Object(r.a)(s-n);Object(r.a)(c-r.m)<r.h?(t.point(n,o=(o+a)/2>0?r.k:-r.k),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(l,o),t.point(s,o),e=0):i!==l&&c>=r.m&&(Object(r.a)(n-i)<r.h&&(n-=i*r.h),Object(r.a)(s-l)<r.h&&(s-=l*r.h),o=function(t,e,n,o){var i,s,a=Object(r.q)(t-n);return Object(r.a)(a)>r.h?Object(r.d)((Object(r.q)(e)*(s=Object(r.f)(o))*Object(r.q)(n)-Object(r.q)(o)*(i=Object(r.f)(e))*Object(r.q)(t))/(i*s*a)):(e+o)/2}(n,o,s,a),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(l,o),e=0),t.point(n=s,o=a),i=l},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}),(function(t,e,n,o){var i;if(null==t)i=n*r.k,o.point(-r.m,i),o.point(0,i),o.point(r.m,i),o.point(r.m,0),o.point(r.m,-i),o.point(0,-i),o.point(-r.m,-i),o.point(-r.m,0),o.point(-r.m,i);else if(Object(r.a)(t[0]-e[0])>r.h){var s=t[0]<e[0]?r.m:-r.m;i=n*s/2,o.point(-s,i),o.point(0,i),o.point(s,i)}else o.point(e[0],e[1])}),[-r.m,-r.k]);var _=n("cwsO");function S(t,e,n,o,i,s){if(n){var a=Object(r.f)(e),l=Object(r.q)(e),c=o*n;null==i?(i=e+o*r.t,s=e-c/2):(i=k(a,i),s=k(a,s),(o>0?i<s:i>s)&&(i+=o*r.t));for(var u,p=i;o>0?p>s:p<s;p-=c)u=h([a,-l*Object(r.f)(p),-l*Object(r.q)(p)]),t.point(u[0],u[1])}}function k(t,e){(e=p(e))[0]-=t,v(e);var n=Object(r.b)(-e[1]);return((-e[2]<0?-n:n)+r.t-r.h)%r.t}var R=function(t){var e=Object(r.f)(t),n=6*r.o,o=e>0,i=Object(r.a)(e)>r.h;function a(t,n){return Object(r.f)(t)*Object(r.f)(n)>e}function l(t,n,o){var i=[1,0,0],s=f(p(t),p(n)),a=d(s,s),l=s[0],c=a-l*l;if(!c)return!o&&t;var u=e*a/c,v=-e*l/c,b=f(i,s),y=g(i,u);m(y,g(s,v));var w=b,E=d(y,w),C=d(w,w),x=E*E-C*(d(y,y)-1);if(!(x<0)){var M=Object(r.r)(x),_=g(w,(-E-M)/C);if(m(_,y),_=h(_),!o)return _;var S,k=t[0],R=n[0],T=t[1],D=n[1];R<k&&(S=k,k=R,R=S);var L=R-k,O=Object(r.a)(L-r.m)<r.h;if(!O&&D<T&&(S=T,T=D,D=S),O||L<r.h?O?T+D>0^_[1]<(Object(r.a)(_[0]-k)<r.h?T:D):T<=_[1]&&_[1]<=D:L>r.m^(k<=_[0]&&_[0]<=R)){var A=g(w,(-E+M)/C);return m(A,y),[_,h(A)]}}}function c(e,n){var i=o?t:r.m-t,s=0;return e<-i?s|=1:e>i&&(s|=2),n<-i?s|=4:n>i&&(s|=8),s}return E(a,(function(t){var e,n,u,h,p;return{lineStart:function(){h=u=!1,p=1},point:function(d,f){var m,g=[d,f],v=a(d,f),b=o?v?0:c(d,f):v?c(d+(d<0?r.m:-r.m),f):0;if(!e&&(h=u=v)&&t.lineStart(),v!==u&&(!(m=l(e,g))||s(e,m)||s(g,m))&&(g[2]=1),v!==u)p=0,v?(t.lineStart(),m=l(g,e),t.point(m[0],m[1])):(m=l(e,g),t.point(m[0],m[1],2),t.lineEnd()),e=m;else if(i&&e&&o^v){var y;b&n||!(y=l(g,e,!0))||(p=0,o?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||e&&s(e,g)||t.point(g[0],g[1]),e=g,u=v,n=b},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return p|(h&&u)<<1}}}),(function(e,o,i,r){S(r,t,n,i,e,o)}),o?[0,-t]:[-r.m,t-r.m])};function T(t,e,n,o){function s(i,r){return t<=i&&i<=n&&e<=r&&r<=o}function a(i,r,s,a){var l=0,u=0;if(null==i||(l=c(i,s))!==(u=c(r,s))||h(i,r)<0^s>0)do{a.point(0===l||3===l?t:n,l>1?o:e)}while((l=(l+s+4)%4)!==u);else a.point(r[0],r[1])}function c(o,i){return Object(r.a)(o[0]-t)<r.h?i>0?0:3:Object(r.a)(o[0]-n)<r.h?i>0?2:1:Object(r.a)(o[1]-e)<r.h?i>0?1:0:i>0?3:2}function u(t,e){return h(t.x,e.x)}function h(t,e){var n=c(t,1),o=c(e,1);return n!==o?n-o:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var c,h,p,d,f,m,g,v,b,y,E,C=r,x=i(),M={point:_,lineStart:function(){M.point=S,h&&h.push(p=[]);y=!0,b=!1,g=v=NaN},lineEnd:function(){c&&(S(d,f),m&&b&&x.rejoin(),c.push(x.result()));M.point=_,b&&C.lineEnd()},polygonStart:function(){C=x,c=[],h=[],E=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var r,s,a=h[n],l=1,c=a.length,u=a[0],p=u[0],d=u[1];l<c;++l)r=p,s=d,u=a[l],p=u[0],d=u[1],s<=o?d>o&&(p-r)*(o-s)>(d-s)*(t-r)&&++e:d<=o&&(p-r)*(o-s)<(d-s)*(t-r)&&--e;return e}(),n=E&&e,i=(c=Object(w.d)(c)).length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),a(null,null,1,r),r.lineEnd()),i&&l(c,u,e,a,r),r.polygonEnd());C=r,c=h=p=null}};function _(t,e){s(t,e)&&C.point(t,e)}function S(i,r){var a=s(i,r);if(h&&p.push([i,r]),y)d=i,f=r,m=a,y=!1,a&&(C.lineStart(),C.point(i,r));else if(a&&b)C.point(i,r);else{var l=[g=Math.max(-1e9,Math.min(1e9,g)),v=Math.max(-1e9,Math.min(1e9,v))],c=[i=Math.max(-1e9,Math.min(1e9,i)),r=Math.max(-1e9,Math.min(1e9,r))];!function(t,e,n,o,i,r){var s,a=t[0],l=t[1],c=0,u=1,h=e[0]-a,p=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<c)return;s<u&&(u=s)}else if(h>0){if(s>u)return;s>c&&(c=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>u)return;s>c&&(c=s)}else if(h>0){if(s<c)return;s<u&&(u=s)}if(s=o-l,p||!(s>0)){if(s/=p,p<0){if(s<c)return;s<u&&(u=s)}else if(p>0){if(s>u)return;s>c&&(c=s)}if(s=r-l,p||!(s<0)){if(s/=p,p<0){if(s>u)return;s>c&&(c=s)}else if(p>0){if(s<c)return;s<u&&(u=s)}return c>0&&(t[0]=a+c*h,t[1]=l+c*p),u<1&&(e[0]=a+u*h,e[1]=l+u*p),!0}}}}}(l,c,t,e,n,o)?a&&(C.lineStart(),C.point(i,r),E=!1):(b||(C.lineStart(),C.point(l[0],l[1])),C.point(c[0],c[1]),a||C.lineEnd(),E=!1)}g=i,v=r,b=a}return M}}var D=n("pbho"),L=n("IYKK");function O(t){return function(e){var n=new A;for(var o in t)n[o]=t[o];return n.stream=e,n}}function A(){}A.prototype={constructor:A,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var P=n("XAaG"),z=Object(r.f)(30*r.o),N=function(t,e){return+e?function(t,e){function n(o,i,s,a,l,c,u,h,p,d,f,m,g,v){var b=u-o,y=h-i,w=b*b+y*y;if(w>4*e&&g--){var E=a+d,C=l+f,x=c+m,M=Object(r.r)(E*E+C*C+x*x),_=Object(r.c)(x/=M),S=Object(r.a)(Object(r.a)(x)-1)<r.h||Object(r.a)(s-p)<r.h?(s+p)/2:Object(r.e)(C,E),k=t(S,_),R=k[0],T=k[1],D=R-o,L=T-i,O=y*D-b*L;(O*O/w>e||Object(r.a)((b*D+y*L)/w-.5)>.3||a*d+l*f+c*m<z)&&(n(o,i,s,a,l,c,R,T,S,E/=M,C/=M,x,g,v),v.point(R,T),n(R,T,S,E,C,x,u,h,p,d,f,m,g,v))}}return function(e){var o,i,r,s,a,l,c,u,h,d,f,m,g={point:v,lineStart:b,lineEnd:w,polygonStart:function(){e.polygonStart(),g.lineStart=E},polygonEnd:function(){e.polygonEnd(),g.lineStart=b}};function v(n,o){n=t(n,o),e.point(n[0],n[1])}function b(){u=NaN,g.point=y,e.lineStart()}function y(o,i){var r=p([o,i]),s=t(o,i);n(u,h,c,d,f,m,u=s[0],h=s[1],c=o,d=r[0],f=r[1],m=r[2],16,e),e.point(u,h)}function w(){g.point=v,e.lineEnd()}function E(){b(),g.point=C,g.lineEnd=x}function C(t,e){y(o=t,e),i=u,r=h,s=d,a=f,l=m,g.point=y}function x(){n(u,h,c,d,f,m,i,r,o,s,a,l,16,e),g.lineEnd=w,w()}return g}}(t,e):function(t){return O({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var F=O({point:function(t,e){this.stream.point(t*r.o,e*r.o)}});function j(t,e,n,o,i){function r(r,s){return[e+t*(r*=o),n-t*(s*=i)]}return r.invert=function(r,s){return[(r-e)/t*o,(n-s)/t*i]},r}function H(t,e,n,o,i,s){var a=Object(r.f)(s),l=Object(r.q)(s),c=a*t,u=l*t,h=a/t,p=l/t,d=(l*n-a*e)/t,f=(l*e+a*n)/t;function m(t,r){return[c*(t*=o)-u*(r*=i)+e,n-u*t-c*r]}return m.invert=function(t,e){return[o*(h*t-p*e+d),i*(f-p*t-h*e)]},m}function I(t){return B((function(){return t}))()}function B(t){var e,n,o,i,s,a,l,c,u,h,p=150,d=480,f=250,m=0,g=0,v=0,b=0,y=0,w=0,E=1,C=1,x=null,S=M,k=null,A=L.a,z=.5;function I(t){return c(t[0]*r.o,t[1]*r.o)}function B(t){return(t=c.invert(t[0],t[1]))&&[t[0]*r.g,t[1]*r.g]}function V(){var t=H(p,0,0,E,C,w).apply(null,e(m,g)),o=(w?H:j)(p,d-t[0],f-t[1],E,C,w);return n=Object(_.b)(v,b,y),l=Object(D.a)(e,o),c=Object(D.a)(n,l),a=N(l,z),W()}function W(){return u=h=null,I}return I.stream=function(t){return u&&h===t?u:u=F(function(t){return O({point:function(e,n){var o=t(e,n);return this.stream.point(o[0],o[1])}})}(n)(S(a(A(h=t)))))},I.preclip=function(t){return arguments.length?(S=t,x=void 0,W()):S},I.postclip=function(t){return arguments.length?(A=t,k=o=i=s=null,W()):A},I.clipAngle=function(t){return arguments.length?(S=+t?R(x=t*r.o):(x=null,M),W()):x*r.g},I.clipExtent=function(t){return arguments.length?(A=null==t?(k=o=i=s=null,L.a):T(k=+t[0][0],o=+t[0][1],i=+t[1][0],s=+t[1][1]),W()):null==k?null:[[k,o],[i,s]]},I.scale=function(t){return arguments.length?(p=+t,V()):p},I.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],V()):[d,f]},I.center=function(t){return arguments.length?(m=t[0]%360*r.o,g=t[1]%360*r.o,V()):[m*r.g,g*r.g]},I.rotate=function(t){return arguments.length?(v=t[0]%360*r.o,b=t[1]%360*r.o,y=t.length>2?t[2]%360*r.o:0,V()):[v*r.g,b*r.g,y*r.g]},I.angle=function(t){return arguments.length?(w=t%360*r.o,V()):w*r.g},I.reflectX=function(t){return arguments.length?(E=t?-1:1,V()):E<0},I.reflectY=function(t){return arguments.length?(C=t?-1:1,V()):C<0},I.precision=function(t){return arguments.length?(a=N(l,z=t*t),W()):Object(r.r)(z)},I.fitExtent=function(t,e){return Object(P.a)(I,t,e)},I.fitSize=function(t,e){return Object(P.c)(I,t,e)},I.fitWidth=function(t,e){return Object(P.d)(I,t,e)},I.fitHeight=function(t,e){return Object(P.b)(I,t,e)},function(){return e=t.apply(this,arguments),I.invert=e.invert&&B,V()}}},"3lw/":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("IUTb"),i=n("PU8L"),r=n("G5J1"),s=n("dEwP"),a=n("nkY7");function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(a.a)(n)?t.pop():n=null;var l=t.length;return 1!==l||n?l>0?Object(s.a)(e,Object(o.a)(t,n)):Object(s.a)(e,Object(r.b)(n)):Object(s.a)(e,Object(i.a)(t[0]))}}},"42CK":function(t,e,n){"use strict";var o=n("FmoU");function i(t,e,n,o,i){var r=t*t,s=r*t;return((1-3*t+3*r-s)*e+(4-6*r+3*s)*n+(1+3*t+3*r-3*s)*o+s*i)/6}var r=n("xpj1");function s(t,e){return function(n){return t+n*e}}function a(t){return 1==(t=+t)?l:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}(e,n,t):Object(r.a)(isNaN(e)?n:e)}}function l(t,e){var n=e-t;return n?s(t,n):Object(r.a)(isNaN(t)?e:t)}e.a=function t(e){var n=a(e);function i(t,e){var i=n((t=Object(o.c)(t)).r,(e=Object(o.c)(e)).r),r=n(t.g,e.g),s=n(t.b,e.b),a=l(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=s(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function c(t){return function(e){var n,i,r=e.length,s=new Array(r),a=new Array(r),l=new Array(r);for(n=0;n<r;++n)i=Object(o.c)(e[n]),s[n]=i.r||0,a[n]=i.g||0,l[n]=i.b||0;return s=t(s),a=t(a),l=t(l),i.opacity=1,function(t){return i.r=s(t),i.g=a(t),i.b=l(t),i+""}}}c((function(t){var e=t.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[o],s=t[o+1],a=o>0?t[o-1]:2*r-s,l=o<e-1?t[o+2]:2*s-r;return i((n-o/e)*e,a,r,s,l)}})),c((function(t){var e=t.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*e),r=t[(o+e-1)%e],s=t[o%e],a=t[(o+1)%e],l=t[(o+2)%e];return i((n-o/e)*e,r,s,a,l)}}))},"433b":function(t,e,n){"use strict";(function(t,o){n.d(e,"a",(function(){return yn}));var i=n("m0e+"),r=n("JSzz");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){l(t,e,n[e])}))}return t}var u=function(){};function h(t){return"string"==typeof t&&(t=t.split(" ")),t}function p(t,e){var n,o=h(e);n=t.className instanceof u?h(t.className.baseVal):h(t.className),o.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}function d(t,e){var n,o=h(e);n=t.className instanceof u?h(t.className.baseVal):h(t.className),o.forEach((function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})),t instanceof SVGElement?t.setAttribute("class",n.join(" ")):t.className=n.join(" ")}"undefined"!=typeof window&&(u=window.SVGAnimatedString);var f=!1;if("undefined"!=typeof window){f=!1;try{var m=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,m)}catch(t){}}var g={container:!1,delay:0,html:!1,placement:"top",title:"",template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",offset:0},v=[],b=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"_events",[]),l(this,"_setTooltipNodeEvent",(function(t,e,n,i){var r=t.relatedreference||t.toElement||t.relatedTarget;return!!o._tooltipNode.contains(r)&&(o._tooltipNode.addEventListener(t.type,(function n(r){var s=r.relatedreference||r.toElement||r.relatedTarget;o._tooltipNode.removeEventListener(t.type,n),e.contains(s)||o._scheduleHide(e,i.delay,i,r)})),!0)})),n=c({},g,n),e.jquery&&(e=e[0]),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.reference=e,this.options=n,this._isOpen=!1,this._init()}var e,n,o;return e=t,(n=[{key:"show",value:function(){this._show(this.reference,this.options)}},{key:"hide",value:function(){this._hide()}},{key:"dispose",value:function(){this._dispose()}},{key:"toggle",value:function(){return this._isOpen?this.hide():this.show()}},{key:"setClasses",value:function(t){this._classes=t}},{key:"setContent",value:function(t){this.options.title=t,this._tooltipNode&&this._setContent(t,this.options)}},{key:"setOptions",value:function(t){var e=!1,n=t&&t.classes||k.options.defaultClass;this._classes!==n&&(this.setClasses(n),e=!0),t=C(t);var o=!1,i=!1;for(var r in this.options.offset===t.offset&&this.options.placement===t.placement||(o=!0),(this.options.template!==t.template||this.options.trigger!==t.trigger||this.options.container!==t.container||e)&&(i=!0),t)this.options[r]=t[r];if(this._tooltipNode)if(i){var s=this._isOpen;this.dispose(),this._init(),s&&this.show()}else o&&this.popperInstance.update()}},{key:"_init",value:function(){var t="string"==typeof this.options.trigger?this.options.trigger.split(" "):[];this._isDisposed=!1,this._enableDocumentTouch=-1===t.indexOf("manual"),t=t.filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})),this._setEventListeners(this.reference,t,this.options),this.$_originalTitle=this.reference.getAttribute("title"),this.reference.removeAttribute("title"),this.reference.setAttribute("data-original-title",this.$_originalTitle)}},{key:"_create",value:function(t,e){var n=window.document.createElement("div");n.innerHTML=e.trim();var o=n.childNodes[0];return o.id="tooltip_".concat(Math.random().toString(36).substr(2,10)),o.setAttribute("aria-hidden","true"),this.options.autoHide&&-1!==this.options.trigger.indexOf("hover")&&(o.addEventListener("mouseenter",this.hide),o.addEventListener("click",this.hide)),o}},{key:"_setContent",value:function(t,e){var n=this;this.asyncContent=!1,this._applyContent(t,e).then((function(){n.popperInstance.update()}))}},{key:"_applyContent",value:function(t,e){var n=this;return new Promise((function(o,i){var r=e.html,s=n._tooltipNode;if(s){var a=s.querySelector(n.options.innerSelector);if(1===t.nodeType){if(r){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(t)}}else{if("function"==typeof t){var l=t();return void(l&&"function"==typeof l.then?(n.asyncContent=!0,e.loadingClass&&p(s,e.loadingClass),e.loadingContent&&n._applyContent(e.loadingContent,e),l.then((function(t){return e.loadingClass&&d(s,e.loadingClass),n._applyContent(t,e)})).then(o).catch(i)):n._applyContent(l,e).then(o).catch(i))}r?a.innerHTML=t:a.innerText=t}o()}}))}},{key:"_show",value:function(t,e){if(!e||"string"!=typeof e.container||document.querySelector(e.container)){clearTimeout(this._disposeTimer),delete(e=Object.assign({},e)).offset;var n=!0;this._tooltipNode&&(p(this._tooltipNode,this._classes),n=!1);var o=this._ensureShown(t,e);return n&&this._tooltipNode&&p(this._tooltipNode,this._classes),p(t,["v-tooltip-open"]),o}}},{key:"_ensureShown",value:function(t,e){var n=this;if(this._isOpen)return this;if(this._isOpen=!0,v.push(this),this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.enableEventListeners(),this.popperInstance.update(),this.asyncContent&&this._setContent(e.title,e),this;var o=t.getAttribute("title")||e.title;if(!o)return this;var r=this._create(t,e.template);this._tooltipNode=r,t.setAttribute("aria-describedby",r.id);var s=this._findContainer(e.container,t);this._append(r,s);var a=c({},e.popperOptions,{placement:e.placement});return a.modifiers=c({},a.modifiers,{arrow:{element:this.options.arrowSelector}}),e.boundariesElement&&(a.modifiers.preventOverflow={boundariesElement:e.boundariesElement}),this.popperInstance=new i.a(t,r,a),this._setContent(o,e),requestAnimationFrame((function(){!n._isDisposed&&n.popperInstance?(n.popperInstance.update(),requestAnimationFrame((function(){n._isDisposed?n.dispose():n._isOpen&&r.setAttribute("aria-hidden","false")}))):n.dispose()})),this}},{key:"_noLongerOpen",value:function(){var t=v.indexOf(this);-1!==t&&v.splice(t,1)}},{key:"_hide",value:function(){var t=this;if(!this._isOpen)return this;this._isOpen=!1,this._noLongerOpen(),this._tooltipNode.style.display="none",this._tooltipNode.setAttribute("aria-hidden","true"),this.popperInstance.disableEventListeners(),clearTimeout(this._disposeTimer);var e=k.options.disposeTimeout;return null!==e&&(this._disposeTimer=setTimeout((function(){t._tooltipNode&&(t._tooltipNode.removeEventListener("mouseenter",t.hide),t._tooltipNode.removeEventListener("click",t.hide),t._removeTooltipNode())}),e)),d(this.reference,["v-tooltip-open"]),this}},{key:"_removeTooltipNode",value:function(){if(this._tooltipNode){var t=this._tooltipNode.parentNode;t&&(t.removeChild(this._tooltipNode),this.reference.removeAttribute("aria-describedby")),this._tooltipNode=null}}},{key:"_dispose",value:function(){var t=this;return this._isDisposed=!0,this.reference.removeAttribute("data-original-title"),this.$_originalTitle&&this.reference.setAttribute("title",this.$_originalTitle),this._events.forEach((function(e){var n=e.func,o=e.event;t.reference.removeEventListener(o,n)})),this._events=[],this._tooltipNode?(this._hide(),this._tooltipNode.removeEventListener("mouseenter",this.hide),this._tooltipNode.removeEventListener("click",this.hide),this.popperInstance.destroy(),this.popperInstance.options.removeOnDestroy||this._removeTooltipNode()):this._noLongerOpen(),this}},{key:"_findContainer",value:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t}},{key:"_append",value:function(t,e){e.appendChild(t)}},{key:"_setEventListeners",value:function(t,e,n){var o=this,i=[],r=[];e.forEach((function(t){switch(t){case"hover":i.push("mouseenter"),r.push("mouseleave"),o.options.hideOnTargetClick&&r.push("click");break;case"focus":i.push("focus"),r.push("blur"),o.options.hideOnTargetClick&&r.push("click");break;case"click":i.push("click"),r.push("click")}})),i.forEach((function(e){var i=function(e){!0!==o._isOpen&&(e.usedByTooltip=!0,o._scheduleShow(t,n.delay,n,e))};o._events.push({event:e,func:i}),t.addEventListener(e,i)})),r.forEach((function(e){var i=function(e){!0!==e.usedByTooltip&&o._scheduleHide(t,n.delay,n,e)};o._events.push({event:e,func:i}),t.addEventListener(e,i)}))}},{key:"_onDocumentTouch",value:function(t){this._enableDocumentTouch&&this._scheduleHide(this.reference,this.options.delay,this.options,t)}},{key:"_scheduleShow",value:function(t,e,n){var o=this,i=e&&e.show||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){return o._show(t,n)}),i)}},{key:"_scheduleHide",value:function(t,e,n,o){var i=this,r=e&&e.hide||e||0;clearTimeout(this._scheduleTimer),this._scheduleTimer=window.setTimeout((function(){if(!1!==i._isOpen&&document.body.contains(i._tooltipNode)){if("mouseleave"===o.type&&i._setTooltipNodeEvent(o,t,e,n))return;i._hide(t,n)}}),r)}}])&&a(e.prototype,n),o&&a(e,o),t}();"undefined"!=typeof document&&document.addEventListener("touchstart",(function(t){for(var e=0;e<v.length;e++)v[e]._onDocumentTouch(t)}),!f||{passive:!0,capture:!0});var y={enabled:!0},w=["top","top-start","top-end","right","right-start","right-end","bottom","bottom-start","bottom-end","left","left-start","left-end"],E={defaultPlacement:"top",defaultClass:"vue-tooltip-theme",defaultTargetClass:"has-tooltip",defaultHtml:!0,defaultTemplate:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',defaultArrowSelector:".tooltip-arrow, .tooltip__arrow",defaultInnerSelector:".tooltip-inner, .tooltip__inner",defaultDelay:0,defaultTrigger:"hover focus",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultLoadingClass:"tooltip-loading",defaultLoadingContent:"...",autoHide:!0,defaultHideOnTargetClick:!0,disposeTimeout:5e3,popover:{defaultPlacement:"bottom",defaultClass:"vue-popover-theme",defaultBaseClass:"tooltip popover",defaultWrapperClass:"wrapper",defaultInnerClass:"tooltip-inner popover-inner",defaultArrowClass:"tooltip-arrow popover-arrow",defaultOpenClass:"open",defaultDelay:0,defaultTrigger:"click",defaultOffset:0,defaultContainer:"body",defaultBoundariesElement:void 0,defaultPopperOptions:{},defaultAutoHide:!0,defaultHandleResize:!0}};function C(t){var e={placement:void 0!==t.placement?t.placement:k.options.defaultPlacement,delay:void 0!==t.delay?t.delay:k.options.defaultDelay,html:void 0!==t.html?t.html:k.options.defaultHtml,template:void 0!==t.template?t.template:k.options.defaultTemplate,arrowSelector:void 0!==t.arrowSelector?t.arrowSelector:k.options.defaultArrowSelector,innerSelector:void 0!==t.innerSelector?t.innerSelector:k.options.defaultInnerSelector,trigger:void 0!==t.trigger?t.trigger:k.options.defaultTrigger,offset:void 0!==t.offset?t.offset:k.options.defaultOffset,container:void 0!==t.container?t.container:k.options.defaultContainer,boundariesElement:void 0!==t.boundariesElement?t.boundariesElement:k.options.defaultBoundariesElement,autoHide:void 0!==t.autoHide?t.autoHide:k.options.autoHide,hideOnTargetClick:void 0!==t.hideOnTargetClick?t.hideOnTargetClick:k.options.defaultHideOnTargetClick,loadingClass:void 0!==t.loadingClass?t.loadingClass:k.options.defaultLoadingClass,loadingContent:void 0!==t.loadingContent?t.loadingContent:k.options.defaultLoadingContent,popperOptions:c({},void 0!==t.popperOptions?t.popperOptions:k.options.defaultPopperOptions)};if(e.offset){var n=s(e.offset),o=e.offset;("number"===n||"string"===n&&-1===o.indexOf(","))&&(o="0, ".concat(o)),e.popperOptions.modifiers||(e.popperOptions.modifiers={}),e.popperOptions.modifiers.offset={offset:o}}return e.trigger&&-1!==e.trigger.indexOf("click")&&(e.hideOnTargetClick=!1),e}function x(t,e){for(var n=t.placement,o=0;o<w.length;o++){var i=w[o];e[i]&&(n=i)}return n}function M(t){var e=s(t);return"string"===e?t:!(!t||"object"!==e)&&t.content}function _(t){t._tooltip&&(t._tooltip.dispose(),delete t._tooltip,delete t._tooltipOldShow),t._tooltipTargetClasses&&(d(t,t._tooltipTargetClasses),delete t._tooltipTargetClasses)}function S(t,e){var n,o=e.value,i=(e.oldValue,e.modifiers),r=M(o);r&&y.enabled?(t._tooltip?((n=t._tooltip).setContent(r),n.setOptions(c({},o,{placement:x(o,i)}))):n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=M(e),i=void 0!==e.classes?e.classes:k.options.defaultClass,r=c({title:o},C(c({},e,{placement:x(e,n)}))),s=t._tooltip=new b(t,r);s.setClasses(i),s._vueEl=t;var a=void 0!==e.targetClasses?e.targetClasses:k.options.defaultTargetClass;return t._tooltipTargetClasses=a,p(t,a),s}(t,o,i),void 0!==o.show&&o.show!==t._tooltipOldShow&&(t._tooltipOldShow=o.show,o.show?n.show():n.hide())):_(t)}var k={options:E,bind:S,update:S,unbind:function(t){_(t)}};function R(t){t.addEventListener("click",D),t.addEventListener("touchstart",L,!!f&&{passive:!0})}function T(t){t.removeEventListener("click",D),t.removeEventListener("touchstart",L),t.removeEventListener("touchend",O),t.removeEventListener("touchcancel",A)}function D(t){var e=t.currentTarget;t.closePopover=!e.$_vclosepopover_touch,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}function L(t){if(1===t.changedTouches.length){var e=t.currentTarget;e.$_vclosepopover_touch=!0;var n=t.changedTouches[0];e.$_vclosepopover_touchPoint=n,e.addEventListener("touchend",O),e.addEventListener("touchcancel",A)}}function O(t){var e=t.currentTarget;if(e.$_vclosepopover_touch=!1,1===t.changedTouches.length){var n=t.changedTouches[0],o=e.$_vclosepopover_touchPoint;t.closePopover=Math.abs(n.screenY-o.screenY)<20&&Math.abs(n.screenX-o.screenX)<20,t.closeAllPopover=e.$_closePopoverModifiers&&!!e.$_closePopoverModifiers.all}}function A(t){t.currentTarget.$_vclosepopover_touch=!1}var P={bind:function(t,e){var n=e.value,o=e.modifiers;t.$_closePopoverModifiers=o,(void 0===n||n)&&R(t)},update:function(t,e){var n=e.value,o=e.oldValue,i=e.modifiers;t.$_closePopoverModifiers=i,n!==o&&(void 0===n||n?R(t):T(t))},unbind:function(t){T(t)}};function z(t){var e=k.options.popover[t];return void 0===e?k.options[t]:e}var N=!1;"undefined"!=typeof window&&"undefined"!=typeof navigator&&(N=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);var F=[],j=function(){};"undefined"!=typeof window&&(j=window.Element);var H={name:"VPopover",components:{ResizeObserver:r.a},props:{open:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placement:{type:String,default:function(){return z("defaultPlacement")}},delay:{type:[String,Number,Object],default:function(){return z("defaultDelay")}},offset:{type:[String,Number],default:function(){return z("defaultOffset")}},trigger:{type:String,default:function(){return z("defaultTrigger")}},container:{type:[String,Object,j,Boolean],default:function(){return z("defaultContainer")}},boundariesElement:{type:[String,j],default:function(){return z("defaultBoundariesElement")}},popperOptions:{type:Object,default:function(){return z("defaultPopperOptions")}},popoverClass:{type:[String,Array],default:function(){return z("defaultClass")}},popoverBaseClass:{type:[String,Array],default:function(){return k.options.popover.defaultBaseClass}},popoverInnerClass:{type:[String,Array],default:function(){return k.options.popover.defaultInnerClass}},popoverWrapperClass:{type:[String,Array],default:function(){return k.options.popover.defaultWrapperClass}},popoverArrowClass:{type:[String,Array],default:function(){return k.options.popover.defaultArrowClass}},autoHide:{type:Boolean,default:function(){return k.options.popover.defaultAutoHide}},handleResize:{type:Boolean,default:function(){return k.options.popover.defaultHandleResize}},openGroup:{type:String,default:null},openClass:{type:[String,Array],default:function(){return k.options.popover.defaultOpenClass}}},data:function(){return{isOpen:!1,id:Math.random().toString(36).substr(2,10)}},computed:{cssClass:function(){return l({},this.openClass,this.isOpen)},popoverId:function(){return"popover_".concat(this.id)}},watch:{open:function(t){t?this.show():this.hide()},disabled:function(t,e){t!==e&&(t?this.hide():this.open&&this.show())},container:function(e){if(this.isOpen&&this.popperInstance){var n=this.$refs.popover,o=this.$refs.trigger,i=this.$_findContainer(this.container,o);if(!i)return void t.warn("No container for popover",this);i.appendChild(n),this.popperInstance.scheduleUpdate()}},trigger:function(t){this.$_removeEventListeners(),this.$_addEventListeners()},placement:function(t){var e=this;this.$_updatePopper((function(){e.popperInstance.options.placement=t}))},offset:"$_restartPopper",boundariesElement:"$_restartPopper",popperOptions:{handler:"$_restartPopper",deep:!0}},created:function(){this.$_isDisposed=!1,this.$_mounted=!1,this.$_events=[],this.$_preventOpen=!1},mounted:function(){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t),this.$_init(),this.open&&this.show()},deactivated:function(){this.hide()},beforeDestroy:function(){this.dispose()},methods:{show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.event,o=(e.skipDelay,e.force),i=void 0!==o&&o;!i&&this.disabled||(this.$_scheduleShow(n),this.$emit("show")),this.$emit("update:open",!0),this.$_beingShowed=!0,requestAnimationFrame((function(){t.$_beingShowed=!1}))},hide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.event;t.skipDelay;this.$_scheduleHide(e),this.$emit("hide"),this.$emit("update:open",!1)},dispose:function(){if(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.popperInstance&&(this.popperInstance.destroy(),!this.popperInstance.options.removeOnDestroy)){var t=this.$refs.popover;t.parentNode&&t.parentNode.removeChild(t)}this.$_mounted=!1,this.popperInstance=null,this.isOpen=!1,this.$emit("dispose")},$_init:function(){-1===this.trigger.indexOf("manual")&&this.$_addEventListeners()},$_show:function(){var e=this,n=this.$refs.trigger,o=this.$refs.popover;if(clearTimeout(this.$_disposeTimer),!this.isOpen){if(this.popperInstance&&(this.isOpen=!0,this.popperInstance.enableEventListeners(),this.popperInstance.scheduleUpdate()),!this.$_mounted){var r=this.$_findContainer(this.container,n);if(!r)return void t.warn("No container for popover",this);r.appendChild(o),this.$_mounted=!0}if(!this.popperInstance){var s=c({},this.popperOptions,{placement:this.placement});if(s.modifiers=c({},s.modifiers,{arrow:c({},s.modifiers&&s.modifiers.arrow,{element:this.$refs.arrow})}),this.offset){var a=this.$_getOffset();s.modifiers.offset=c({},s.modifiers&&s.modifiers.offset,{offset:a})}this.boundariesElement&&(s.modifiers.preventOverflow=c({},s.modifiers&&s.modifiers.preventOverflow,{boundariesElement:this.boundariesElement})),this.popperInstance=new i.a(n,o,s),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();!e.$_isDisposed&&e.popperInstance?(e.popperInstance.scheduleUpdate(),requestAnimationFrame((function(){if(e.hidden)return e.hidden=!1,void e.$_hide();e.$_isDisposed?e.dispose():e.isOpen=!0}))):e.dispose()}))}var l=this.openGroup;if(l)for(var u,h=0;h<F.length;h++)(u=F[h]).openGroup!==l&&(u.hide(),u.$emit("close-group"));F.push(this),this.$emit("apply-show")}},$_hide:function(){var t=this;if(this.isOpen){var e=F.indexOf(this);-1!==e&&F.splice(e,1),this.isOpen=!1,this.popperInstance&&this.popperInstance.disableEventListeners(),clearTimeout(this.$_disposeTimer);var n=k.options.popover.disposeTimeout||k.options.disposeTimeout;null!==n&&(this.$_disposeTimer=setTimeout((function(){var e=t.$refs.popover;e&&(e.parentNode&&e.parentNode.removeChild(e),t.$_mounted=!1)}),n)),this.$emit("apply-hide")}},$_findContainer:function(t,e){return"string"==typeof t?t=window.document.querySelector(t):!1===t&&(t=e.parentNode),t},$_getOffset:function(){var t=s(this.offset),e=this.offset;return("number"===t||"string"===t&&-1===e.indexOf(","))&&(e="0, ".concat(e)),e},$_addEventListeners:function(){var t=this,e=this.$refs.trigger,n=[],o=[];("string"==typeof this.trigger?this.trigger.split(" ").filter((function(t){return-1!==["click","hover","focus"].indexOf(t)})):[]).forEach((function(t){switch(t){case"hover":n.push("mouseenter"),o.push("mouseleave");break;case"focus":n.push("focus"),o.push("blur");break;case"click":n.push("click"),o.push("click")}})),n.forEach((function(n){var o=function(e){t.isOpen||(e.usedByTooltip=!0,!t.$_preventOpen&&t.show({event:e}),t.hidden=!1)};t.$_events.push({event:n,func:o}),e.addEventListener(n,o)})),o.forEach((function(n){var o=function(e){e.usedByTooltip||(t.hide({event:e}),t.hidden=!0)};t.$_events.push({event:n,func:o}),e.addEventListener(n,o)}))},$_scheduleShow:function(){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),t)this.$_show();else{var e=parseInt(this.delay&&this.delay.show||this.delay||0);this.$_scheduleTimer=setTimeout(this.$_show.bind(this),e)}},$_scheduleHide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(clearTimeout(this.$_scheduleTimer),n)this.$_hide();else{var o=parseInt(this.delay&&this.delay.hide||this.delay||0);this.$_scheduleTimer=setTimeout((function(){if(t.isOpen){if(e&&"mouseleave"===e.type)if(t.$_setTooltipNodeEvent(e))return;t.$_hide()}}),o)}},$_setTooltipNodeEvent:function(t){var e=this,n=this.$refs.trigger,o=this.$refs.popover,i=t.relatedreference||t.toElement||t.relatedTarget;return!!o.contains(i)&&(o.addEventListener(t.type,(function i(r){var s=r.relatedreference||r.toElement||r.relatedTarget;o.removeEventListener(t.type,i),n.contains(s)||e.hide({event:r})})),!0)},$_removeEventListeners:function(){var t=this.$refs.trigger;this.$_events.forEach((function(e){var n=e.func,o=e.event;t.removeEventListener(o,n)})),this.$_events=[]},$_updatePopper:function(t){this.popperInstance&&(t(),this.isOpen&&this.popperInstance.scheduleUpdate())},$_restartPopper:function(){if(this.popperInstance){var t=this.isOpen;this.dispose(),this.$_isDisposed=!1,this.$_init(),t&&this.show({skipDelay:!0,force:!0})}},$_handleGlobalClose:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$_beingShowed||(this.hide({event:t}),t.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),n&&(this.$_preventOpen=!0,setTimeout((function(){e.$_preventOpen=!1}),300)))},$_handleResize:function(){this.isOpen&&this.popperInstance&&(this.popperInstance.scheduleUpdate(),this.$emit("resize"))}}};function I(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(n){var o=F[n];if(o.$refs.popover){var i=o.$refs.popover.contains(t.target);requestAnimationFrame((function(){(t.closeAllPopover||t.closePopover&&i||o.autoHide&&!i)&&o.$_handleGlobalClose(t,e)}))}},o=0;o<F.length;o++)n(o)}"undefined"!=typeof document&&"undefined"!=typeof window&&(N?document.addEventListener("touchend",(function(t){I(t,!0)}),!f||{passive:!0,capture:!0}):window.addEventListener("click",(function(t){I(t)}),!0));var B=function(t,e,n,o,i,r,s,a,l,c){"boolean"!=typeof s&&(l=a,a=s,s=!1);var u,h="function"==typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),o&&(h._scopeId=o),r?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},h._ssrRegister=u):e&&(u=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),u)if(h.functional){var p=h.render;h.render=function(t,e){return u.call(e),p(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,u):[u]}return n},V=H,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v-popover",class:t.cssClass},[n("div",{ref:"trigger",staticClass:"trigger",staticStyle:{display:"inline-block"},attrs:{"aria-describedby":t.popoverId,tabindex:-1!==t.trigger.indexOf("focus")?0:void 0}},[t._t("default")],2),t._v(" "),n("div",{ref:"popover",class:[t.popoverBaseClass,t.popoverClass,t.cssClass],style:{visibility:t.isOpen?"visible":"hidden"},attrs:{id:t.popoverId,"aria-hidden":t.isOpen?"false":"true",tabindex:t.autoHide?0:void 0},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.autoHide&&t.hide()}}},[n("div",{class:t.popoverWrapperClass},[n("div",{ref:"inner",class:t.popoverInnerClass,staticStyle:{position:"relative"}},[n("div",[t._t("popover")],2),t._v(" "),t.handleResize?n("ResizeObserver",{on:{notify:t.$_handleResize}}):t._e()],1),t._v(" "),n("div",{ref:"arrow",class:t.popoverArrowClass})])])])};W._withStripped=!0;var G=B({render:W,staticRenderFns:[]},void 0,V,void 0,!1,void 0,void 0,void 0);var Y=function(){this.__data__=[],this.size=0};var $=function(t,e){return t===e||t!=t&&e!=e};var X=function(t,e){for(var n=t.length;n--;)if($(t[n][0],e))return n;return-1},q=Array.prototype.splice;var U=function(t){var e=this.__data__,n=X(e,t);return!(n<0)&&(n==e.length-1?e.pop():q.call(e,n,1),--this.size,!0)};var J=function(t){var e=this.__data__,n=X(e,t);return n<0?void 0:e[n][1]};var K=function(t){return X(this.__data__,t)>-1};var Z=function(t,e){var n=this.__data__,o=X(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Q.prototype.clear=Y,Q.prototype.delete=U,Q.prototype.get=J,Q.prototype.has=K,Q.prototype.set=Z;var tt=Q;var et=function(){this.__data__=new tt,this.size=0};var nt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var ot=function(t){return this.__data__.get(t)};var it=function(t){return this.__data__.has(t)},rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{};function st(t,e){return t(e={exports:{}},e.exports),e.exports}var at="object"==typeof rt&&rt&&rt.Object===Object&&rt,lt="object"==typeof self&&self&&self.Object===Object&&self,ct=at||lt||Function("return this")(),ut=ct.Symbol,ht=Object.prototype,pt=ht.hasOwnProperty,dt=ht.toString,ft=ut?ut.toStringTag:void 0;var mt=function(t){var e=pt.call(t,ft),n=t[ft];try{t[ft]=void 0;var o=!0}catch(t){}var i=dt.call(t);return o&&(e?t[ft]=n:delete t[ft]),i},gt=Object.prototype.toString;var vt=function(t){return gt.call(t)},bt=ut?ut.toStringTag:void 0;var yt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":bt&&bt in Object(t)?mt(t):vt(t)};var wt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var Et,Ct=function(t){if(!wt(t))return!1;var e=yt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},xt=ct["__core-js_shared__"],Mt=(Et=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+Et:"";var _t=function(t){return!!Mt&&Mt in t},St=Function.prototype.toString;var kt=function(t){if(null!=t){try{return St.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Rt=/^\[object .+?Constructor\]$/,Tt=Function.prototype,Dt=Object.prototype,Lt=Tt.toString,Ot=Dt.hasOwnProperty,At=RegExp("^"+Lt.call(Ot).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Pt=function(t){return!(!wt(t)||_t(t))&&(Ct(t)?At:Rt).test(kt(t))};var zt=function(t,e){return null==t?void 0:t[e]};var Nt=function(t,e){var n=zt(t,e);return Pt(n)?n:void 0},Ft=Nt(ct,"Map"),jt=Nt(Object,"create");var Ht=function(){this.__data__=jt?jt(null):{},this.size=0};var It=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bt=Object.prototype.hasOwnProperty;var Vt=function(t){var e=this.__data__;if(jt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Bt.call(e,t)?e[t]:void 0},Wt=Object.prototype.hasOwnProperty;var Gt=function(t){var e=this.__data__;return jt?void 0!==e[t]:Wt.call(e,t)};var Yt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jt&&void 0===e?"__lodash_hash_undefined__":e,this};function $t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}$t.prototype.clear=Ht,$t.prototype.delete=It,$t.prototype.get=Vt,$t.prototype.has=Gt,$t.prototype.set=Yt;var Xt=$t;var qt=function(){this.size=0,this.__data__={hash:new Xt,map:new(Ft||tt),string:new Xt}};var Ut=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Jt=function(t,e){var n=t.__data__;return Ut(e)?n["string"==typeof e?"string":"hash"]:n.map};var Kt=function(t){var e=Jt(this,t).delete(t);return this.size-=e?1:0,e};var Zt=function(t){return Jt(this,t).get(t)};var Qt=function(t){return Jt(this,t).has(t)};var te=function(t,e){var n=Jt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function ee(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ee.prototype.clear=qt,ee.prototype.delete=Kt,ee.prototype.get=Zt,ee.prototype.has=Qt,ee.prototype.set=te;var ne=ee;var oe=function(t,e){var n=this.__data__;if(n instanceof tt){var o=n.__data__;if(!Ft||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new ne(o)}return n.set(t,e),this.size=n.size,this};function ie(t){var e=this.__data__=new tt(t);this.size=e.size}ie.prototype.clear=et,ie.prototype.delete=nt,ie.prototype.get=ot,ie.prototype.has=it,ie.prototype.set=oe;var re=ie,se=function(){try{var t=Nt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var ae=function(t,e,n){"__proto__"==e&&se?se(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var le=function(t,e,n){(void 0!==n&&!$(t[e],n)||void 0===n&&!(e in t))&&ae(t,e,n)};var ce=function(t){return function(e,n,o){for(var i=-1,r=Object(e),s=o(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(r[l],l,r))break}return e}}(),ue=st((function(t,e){var n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n?ct.Buffer:void 0,r=i?i.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,o=r?r(n):new t.constructor(n);return t.copy(o),o}})),he=ct.Uint8Array;var pe=function(t){var e=new t.constructor(t.byteLength);return new he(e).set(new he(t)),e};var de=function(t,e){var n=e?pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var fe=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e},me=Object.create,ge=function(){function t(){}return function(e){if(!wt(e))return{};if(me)return me(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var ve=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),be=Object.prototype;var ye=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||be)};var we=function(t){return"function"!=typeof t.constructor||ye(t)?{}:ge(ve(t))};var Ee=function(t){return null!=t&&"object"==typeof t};var Ce=function(t){return Ee(t)&&"[object Arguments]"==yt(t)},xe=Object.prototype,Me=xe.hasOwnProperty,_e=xe.propertyIsEnumerable,Se=Ce(function(){return arguments}())?Ce:function(t){return Ee(t)&&Me.call(t,"callee")&&!_e.call(t,"callee")},ke=Array.isArray;var Re=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Te=function(t){return null!=t&&Re(t.length)&&!Ct(t)};var De=function(t){return Ee(t)&&Te(t)};var Le=function(){return!1},Oe=st((function(t,e){var n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n?ct.Buffer:void 0,r=(i?i.isBuffer:void 0)||Le;t.exports=r})),Ae=Function.prototype,Pe=Object.prototype,ze=Ae.toString,Ne=Pe.hasOwnProperty,Fe=ze.call(Object);var je=function(t){if(!Ee(t)||"[object Object]"!=yt(t))return!1;var e=ve(t);if(null===e)return!0;var n=Ne.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ze.call(n)==Fe},He={};He["[object Float32Array]"]=He["[object Float64Array]"]=He["[object Int8Array]"]=He["[object Int16Array]"]=He["[object Int32Array]"]=He["[object Uint8Array]"]=He["[object Uint8ClampedArray]"]=He["[object Uint16Array]"]=He["[object Uint32Array]"]=!0,He["[object Arguments]"]=He["[object Array]"]=He["[object ArrayBuffer]"]=He["[object Boolean]"]=He["[object DataView]"]=He["[object Date]"]=He["[object Error]"]=He["[object Function]"]=He["[object Map]"]=He["[object Number]"]=He["[object Object]"]=He["[object RegExp]"]=He["[object Set]"]=He["[object String]"]=He["[object WeakMap]"]=!1;var Ie=function(t){return Ee(t)&&Re(t.length)&&!!He[yt(t)]};var Be=function(t){return function(e){return t(e)}},Ve=st((function(t,e){var n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,i=o&&o.exports===n&&at.process,r=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=r})),We=Ve&&Ve.isTypedArray,Ge=We?Be(We):Ie;var Ye=function(t,e){if("__proto__"!=e)return t[e]},$e=Object.prototype.hasOwnProperty;var Xe=function(t,e,n){var o=t[e];$e.call(t,e)&&$(o,n)&&(void 0!==n||e in t)||ae(t,e,n)};var qe=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=o?o(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),i?ae(n,a,l):Xe(n,a,l)}return n};var Ue=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o},Je=/^(?:0|[1-9]\d*)$/;var Ke=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Je.test(t))&&t>-1&&t%1==0&&t<e},Ze=Object.prototype.hasOwnProperty;var Qe=function(t,e){var n=ke(t),o=!n&&Se(t),i=!n&&!o&&Oe(t),r=!n&&!o&&!i&&Ge(t),s=n||o||i||r,a=s?Ue(t.length,String):[],l=a.length;for(var c in t)!e&&!Ze.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ke(c,l))||a.push(c);return a};var tn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},en=Object.prototype.hasOwnProperty;var nn=function(t){if(!wt(t))return tn(t);var e=ye(t),n=[];for(var o in t)("constructor"!=o||!e&&en.call(t,o))&&n.push(o);return n};var on=function(t){return Te(t)?Qe(t,!0):nn(t)};var rn=function(t){return qe(t,on(t))};var sn=function(t,e,n,o,i,r,s){var a=Ye(t,n),l=Ye(e,n),c=s.get(l);if(c)le(t,n,c);else{var u=r?r(a,l,n+"",t,e,s):void 0,h=void 0===u;if(h){var p=ke(l),d=!p&&Oe(l),f=!p&&!d&&Ge(l);u=l,p||d||f?ke(a)?u=a:De(a)?u=fe(a):d?(h=!1,u=ue(l,!0)):f?(h=!1,u=de(l,!0)):u=[]:je(l)||Se(l)?(u=a,Se(a)?u=rn(a):wt(a)&&!Ct(a)||(u=we(l))):h=!1}h&&(s.set(l,u),i(u,l,o,r,s),s.delete(l)),le(t,n,u)}};var an=function t(e,n,o,i,r){e!==n&&ce(n,(function(s,a){if(wt(s))r||(r=new re),sn(e,n,a,o,t,i,r);else{var l=i?i(Ye(e,a),s,a+"",e,n,r):void 0;void 0===l&&(l=s),le(e,a,l)}}),on)};var ln=function(t){return t};var cn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},un=Math.max;var hn=function(t,e,n){return e=un(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=un(o.length-e,0),s=Array(r);++i<r;)s[i]=o[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=o[i];return a[e]=n(s),cn(t,this,a)}};var pn=function(t){return function(){return t}},dn=se?function(t,e){return se(t,"toString",{configurable:!0,enumerable:!1,value:pn(e),writable:!0})}:ln,fn=Date.now;var mn=function(t){var e=0,n=0;return function(){var o=fn(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(dn);var gn=function(t,e){return mn(hn(t,e,ln),t+"")};var vn=function(t,e,n){if(!wt(n))return!1;var o=typeof e;return!!("number"==o?Te(n)&&Ke(e,n.length):"string"==o&&e in n)&&$(n[e],t)};var bn=function(t){return gn((function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(i--,r):void 0,s&&vn(n[0],n[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++o<i;){var a=n[o];a&&t(e,a,o,r)}return e}))}((function(t,e,n){an(t,e,n)}));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".resize-observer[data-v-b329ee4c]{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;border:none;background-color:transparent;pointer-events:none;display:block;overflow:hidden;opacity:0}.resize-observer[data-v-b329ee4c] object{display:block;position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1}");var yn=k,wn={install:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.installed){t.installed=!0;var o={};bn(o,E,n),wn.options=o,k.options=o,e.directive("tooltip",k),e.directive("close-popover",P),e.component("v-popover",G)}},get enabled(){return y.enabled},set enabled(t){y.enabled=t}},En=null;"undefined"!=typeof window?En=window.Vue:void 0!==o&&(En=o.Vue),En&&En.use(wn)}).call(this,n("ziTh"),n("yLpj"))},"4RRf":function(t,e,n){"use strict";var o=n("SqIO"),i=n("YR7Z"),r=Object(o.a)((function(t){return Object(i.a)(t.length,t)}));e.a=r},"4k54":function(t,e,n){"use strict";var o=n("AWXE");e.a=function(t){var e=function(){for(var t,e=o.b;t=e.sourceEvent;)e=t;return e}();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}},"4xGt":function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var o="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},"4xfg":function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}},"4yVO":function(t,n,o){"use strict";(function(t){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var r=e[i];if(t.call(o,r,i,e))return i;i++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var o=arguments[1],i=0;i<n;){var r=e[i];if(t.call(o,r,i,e))return r;i++}}}),String.prototype.includes||(String.prototype.includes=function(t,e){if(t instanceof RegExp)throw TypeError("first argument must not be a RegExp");return void 0===e&&(e=0),-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var i,r,s=0|e,a=Math.max(s>=0?s:o-Math.abs(s),0);for(;a<o;){if((i=n[a])===(r=t)||"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))return!0;a++}return!1}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0});var r=function(t){this.table=t,this.blockHozScrollEvent=!1,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};r.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},r.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),this.table.options.headerVisible||t.classList.add("tabulator-header-hidden"),t},r.prototype.initialize=function(){},r.prototype.setRowManager=function(t){this.rowManager=t},r.prototype.getElement=function(){return this.element},r.prototype.getHeadersElement=function(){return this.headersElement},r.prototype.scrollHorizontal=function(t){var e=0,n=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,t>n?(e=t-n,this.element.style.marginLeft=-e+"px"):this.element.style.marginLeft=0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.scrollHorizontal()},r.prototype.generateColumnsFromRowData=function(t){var e,n,i=[],r=this.table.options.autoColumnsDefinitions;if(t&&t.length){for(var s in e=t[0]){var a={field:s,title:s},l=e[s];switch(void 0===l?"undefined":o(l)){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":n=Array.isArray(l)?"array":"string";break;default:n=isNaN(l)||""===l?l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}a.sorter=n,i.push(a)}if(r)switch(void 0===r?"undefined":o(r)){case"function":this.table.options.columns=r.call(this.table,i);break;case"object":Array.isArray(r)?i.forEach((function(t){var e=r.find((function(e){return e.field===t.field}));e&&Object.assign(t,e)})):i.forEach((function(t){r[t.field]&&Object.assign(t,r[t.field])})),this.table.options.columns=i}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}},r.prototype.setColumns=function(t,e){for(var n=this;n.headersElement.firstChild;)n.headersElement.removeChild(n.headersElement.firstChild);n.columns=[],n.columnsByIndex=[],n.columnsByField={},n.table.modExists("frozenColumns")&&n.table.modules.frozenColumns.reset(),t.forEach((function(t,e){n._addColumn(t)})),n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!1,!0),n.redraw(!0)},r.prototype._addColumn=function(t,e,n){var o=new a(t,this),i=o.getElement(),r=n?this.findColumnIndex(n):n;if(n&&r>-1){var s=this.columns.indexOf(n.getTopColumn()),l=n.getElement();e?(this.columns.splice(s,0,o),l.parentNode.insertBefore(i,l)):(this.columns.splice(s+1,0,o),l.parentNode.insertBefore(i,l.nextSibling))}else e?(this.columns.unshift(o),this.headersElement.insertBefore(o.getElement(),this.headersElement.firstChild)):(this.columns.push(o),this.headersElement.appendChild(o.getElement())),o.columnRendered();return o},r.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},r.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},r.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach((function(t){t.reRegisterPosition()}))},r.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach((function(t){var n;t.clearVerticalAlign(),(n=t.getHeight())>e&&(e=n)})),t.columns.forEach((function(n){n.verticalAlign(t.table.options.columnHeaderVertAlign,e)})),t.rowManager.adjustTableSize()},r.prototype.findColumn=function(t){return"object"!=(void 0===t?"undefined":o(t))?this.columnsByField[t]||!1:t instanceof a?t:t instanceof s?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&this.columns.find((function(e){return e.element===t}))||!1},r.prototype.getColumnByField=function(t){return this.columnsByField[t]},r.prototype.getColumnsByFieldRoot=function(t){var e=this,n=[];return Object.keys(this.columnsByField).forEach((function(o){o.split(".")[0]===t&&n.push(e.columnsByField[o])})),n},r.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},r.prototype.getFirstVisibileColumn=function(t){return(t=this.columnsByIndex.findIndex((function(t){return t.visible})))>-1&&this.columnsByIndex[t]},r.prototype.getColumns=function(){return this.columns},r.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex((function(e){return t===e}))},r.prototype.getRealColumns=function(){return this.columnsByIndex},r.prototype.traverse=function(t){this.columnsByIndex.forEach((function(e,n){t(e,n)}))},r.prototype.getDefinitions=function(t){var e=[];return this.columnsByIndex.forEach((function(n){(!t||t&&n.visible)&&e.push(n.getDefinition())})),e},r.prototype.getDefinitionTree=function(){var t=[];return this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),t},r.prototype.getComponents=function(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach((function(t){e.push(t.getComponent())})),e},r.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach((function(e){e.visible&&(t+=e.getWidth())})),t},r.prototype.moveColumn=function(t,e,n){this.moveColumnActual(t,e,n),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),e.element.parentNode.insertBefore(t.element,e.element),n&&e.element.parentNode.insertBefore(e.element,t.element),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},r.prototype.moveColumnActual=function(t,e,n){t.parent.isGroup?this._moveColumnInArray(t.parent.columns,t,e,n):this._moveColumnInArray(this.columns,t,e,n),this._moveColumnInArray(this.columnsByIndex,t,e,n,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize(!0),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},r.prototype._moveColumnInArray=function(t,e,n,o,i){var r,s=this,a=t.indexOf(e),l=[];a>-1&&(t.splice(a,1),(r=t.indexOf(n))>-1?o&&(r+=1):r=a,t.splice(r,0,e),i&&(this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.rowManager.rows.forEach((function(t){l=l.concat(s.table.modules.dataTree.getTreeChildren(t,!1,!0))})),(l=l.concat(this.table.rowManager.rows)).forEach((function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(r,0,e)}}))))},r.prototype.scrollToColumn=function(e,n,o){var i=this,r=0,s=0,a=0,l=e.getElement();return new Promise((function(c,u){if(void 0===n&&(n=i.table.options.scrollToColumnPosition),void 0===o&&(o=i.table.options.scrollToColumnIfVisible),e.visible){switch(n){case"middle":case"center":a=-i.element.clientWidth/2;break;case"right":a=l.clientWidth-i.headersElement.clientWidth}if(!o&&(s=l.offsetLeft)>0&&s+l.offsetWidth<i.element.clientWidth)return!1;r=l.offsetLeft+a,r=Math.max(Math.min(r,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(r),i.scrollHorizontal(r),c()}else t.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")}))},r.prototype.generateCells=function(t){var e=[];return this.columnsByIndex.forEach((function(n){e.push(n.generateCell(t))})),e},r.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,n=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(o){var i,r,s;o.visible&&(i=o.definition.width||0,r=void 0===o.minWidth?t.table.options.columnMinWidth:parseInt(o.minWidth),s="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,n+=s>r?s:r)})),n},r.prototype.addColumn=function(t,e,n){var o=this;return new Promise((function(i,r){var s=o._addColumn(t,e,n);o._reIndexColumns(),o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout",!0)&&o.table.modules.responsiveLayout.initialize(),o.table.modExists("columnCalcs")&&o.table.modules.columnCalcs.recalc(o.table.rowManager.activeRows),o.redraw(!0),"fitColumns"!=o.table.modules.layout.getMode()&&s.reinitializeWidth(),o._verticalAlignHeaders(),o.table.rowManager.reinitialize(),o.table.options.virtualDomHoz&&o.table.vdomHoz.reinitialize(),i(s)}))},r.prototype.deregisterColumn=function(t){var e,n=t.getField();n&&delete this.columnsByField[n],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this._verticalAlignHeaders(),this.redraw()},r.prototype.redraw=function(t){t&&(m.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),["fitColumns","fitDataStretch"].indexOf(this.table.modules.layout.getMode())>-1||t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var s=function(t){this._column=t,this.type="ColumnComponent"};s.prototype.getElement=function(){return this._column.getElement()},s.prototype.getDefinition=function(){return this._column.getDefinition()},s.prototype.getField=function(){return this._column.getField()},s.prototype.getCells=function(){var t=[];return this._column.cells.forEach((function(e){t.push(e.getComponent())})),t},s.prototype.getVisibility=function(){return t.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._column.visible},s.prototype.isVisible=function(){return this._column.visible},s.prototype.show=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.show()})):this._column.show()},s.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach((function(t){t.hide()})):this._column.hide()},s.prototype.toggle=function(){this._column.visible?this.hide():this.show()},s.prototype.delete=function(){return this._column.delete()},s.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach((function(e){t.push(e.getComponent())})),t},s.prototype.getParentColumn=function(){return this._column.parent instanceof a&&this._column.parent.getComponent()},s.prototype._getSelf=function(){return this._column},s.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},s.prototype.getTable=function(){return this._column.table},s.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},s.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},s.prototype.getHeaderFilterValue=function(){if(this._column.table.modExists("filter",!0))return this._column.table.modules.filter.getHeaderFilterValue(this._column)},s.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)},s.prototype.move=function(e,n){var o=this._column.table.columnManager.findColumn(e);o?this._column.table.columnManager.moveColumn(this._column,o,n):t.warn("Move Error - No matching column found:",o)},s.prototype.getNextColumn=function(){var t=this._column.nextColumn();return!!t&&t.getComponent()},s.prototype.getPrevColumn=function(){var t=this._column.prevColumn();return!!t&&t.getComponent()},s.prototype.updateDefinition=function(t){return this._column.updateDefinition(t)},s.prototype.getWidth=function(){return this._column.getWidth()},s.prototype.setWidth=function(t){var e;return e=!0===t?this._column.reinitializeWidth(!0):this._column.setWidth(t),this._column.table.options.virtualDomHoz&&this._column.table.vdomHoz.reinitialize(!0),e},s.prototype.validate=function(){return this._column.validate()};var a=function t(e,n){var o=this;this.table=n.table,this.definition=e,this.parent=n,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.setField(this.definition.field),this.table.options.invalidOptionWarnings&&this.checkDefinition(),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this._mapDepricatedFunctionality(),e.columns?(this.isGroup=!0,e.columns.forEach((function(e,n){var i=new t(e,o);o.attachColumn(i)})),o.checkColumnVisibility()):n.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader(),this.bindModuleColumns()};a.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},a.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},a.prototype.checkDefinition=function(){var e=this;Object.keys(this.definition).forEach((function(n){-1===e.defaultOptionList.indexOf(n)&&t.warn("Invalid column definition option in '"+(e.field||e.definition.title)+"' column:",n)}))},a.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData},a.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},a.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},a.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach((function(t){t.reRegisterPosition()})):this.registerColumnPosition(this)},a.prototype._mapDepricatedFunctionality=function(){void 0!==this.definition.hideInHtml&&(this.definition.htmlOutput=!this.definition.hideInHtml,t.warn("hideInHtml column definition property is deprecated, you should now use htmlOutput")),void 0!==this.definition.align&&(this.definition.hozAlign=this.definition.align,t.warn("align column definition property is deprecated, you should now use hozAlign")),void 0!==this.definition.downloadTitle&&(this.definition.titleDownload=this.definition.downloadTitle,t.warn("downloadTitle definition property is deprecated, you should now use titleDownload"))},a.prototype.setTooltip=function(){var t=this,e=t.definition,n=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;n?!0===n?e.field?t.table.modules.localize.bind("columns|"+e.field,(function(n){t.element.setAttribute("title",n||e.title)})):t.element.setAttribute("title",e.title):("function"==typeof n&&!1===(n=n(t.getComponent()))&&(n=""),t.element.setAttribute("title",n)):t.element.setAttribute("title","")},a.prototype._buildHeader=function(){for(var t=this,e=t.definition;t.element.firstChild;)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&(void 0!==e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.table.modExists("persistence")&&t.table.modules.persistence.config.columns&&t.table.modules.persistence.initializeColumn(t),t.element.addEventListener("mouseenter",(function(e){t.setTooltip()}))},a.prototype._bindEvents=function(){var t,e,n,o=this,i=o.definition;"function"==typeof i.headerClick&&o.element.addEventListener("click",(function(t){i.headerClick(t,o.getComponent())})),"function"==typeof i.headerDblClick&&o.element.addEventListener("dblclick",(function(t){i.headerDblClick(t,o.getComponent())})),"function"==typeof i.headerContext&&o.element.addEventListener("contextmenu",(function(t){i.headerContext(t,o.getComponent())})),"function"==typeof i.headerTap&&(n=!1,o.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),o.element.addEventListener("touchend",(function(t){n&&i.headerTap(t,o.getComponent()),n=!1}))),"function"==typeof i.headerDblTap&&(t=null,o.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,i.headerDblTap(e,o.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),"function"==typeof i.headerTapHold&&(e=null,o.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,i.headerTapHold(t,o.getComponent())}),1e3)}),{passive:!0}),o.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),"function"==typeof i.cellClick&&(o.cellEvents.cellClick=i.cellClick),"function"==typeof i.cellDblClick&&(o.cellEvents.cellDblClick=i.cellDblClick),"function"==typeof i.cellContext&&(o.cellEvents.cellContext=i.cellContext),"function"==typeof i.cellMouseEnter&&(o.cellEvents.cellMouseEnter=i.cellMouseEnter),"function"==typeof i.cellMouseLeave&&(o.cellEvents.cellMouseLeave=i.cellMouseLeave),"function"==typeof i.cellMouseOver&&(o.cellEvents.cellMouseOver=i.cellMouseOver),"function"==typeof i.cellMouseOut&&(o.cellEvents.cellMouseOut=i.cellMouseOut),"function"==typeof i.cellMouseMove&&(o.cellEvents.cellMouseMove=i.cellMouseMove),"function"==typeof i.cellTap&&(o.cellEvents.cellTap=i.cellTap),"function"==typeof i.cellDblTap&&(o.cellEvents.cellDblTap=i.cellDblTap),"function"==typeof i.cellTapHold&&(o.cellEvents.cellTapHold=i.cellTapHold),"function"==typeof i.cellEdited&&(o.cellEvents.cellEdited=i.cellEdited),"function"==typeof i.cellEditing&&(o.cellEvents.cellEditing=i.cellEditing),"function"==typeof i.cellEditCancelled&&(o.cellEvents.cellEditCancelled=i.cellEditCancelled)},a.prototype._buildColumnHeader=function(){var t=this,e=this.definition,n=this.table;(n.modExists("sort")&&n.modules.sort.initializeColumn(this,this.titleHolderElement),(e.headerContextMenu||e.headerClickMenu||e.headerMenu)&&n.modExists("menu")&&n.modules.menu.initializeColumnHeader(this),n.modExists("format")&&n.modules.format.initializeColumn(this),void 0!==e.editor&&n.modExists("edit")&&n.modules.edit.initializeColumn(this),void 0!==e.validator&&n.modExists("validate")&&n.modules.validate.initializeColumn(this),n.modExists("mutator")&&n.modules.mutator.initializeColumn(this),n.modExists("accessor")&&n.modules.accessor.initializeColumn(this),o(n.options.responsiveLayout)&&n.modExists("responsiveLayout")&&n.modules.responsiveLayout.initializeColumn(this),void 0!==e.visible&&(e.visible?this.show(!0):this.hide(!0)),e.cssClass)&&e.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)}));e.field&&this.element.setAttribute("tabulator-field",e.field),this.setMinWidth(void 0===e.minWidth?this.table.options.columnMinWidth:parseInt(e.minWidth)),(e.maxWidth||this.table.options.columnMaxWidth)&&!1!==e.maxWidth&&this.setMaxWidth(void 0===e.maxWidth?this.table.options.columnMaxWidth:parseInt(e.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip||!1===this.definition.tooltip?this.definition.tooltip:this.table.options.tooltips,this.hozAlign=void 0===this.definition.hozAlign?this.table.options.cellHozAlign:this.definition.hozAlign,this.vertAlign=void 0===this.definition.vertAlign?this.table.options.cellVertAlign:this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign},a.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=document.createElement("div");return t.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),t.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),t},a.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,n=t.table,o=document.createElement("div");if(o.classList.add("tabulator-col-title"),e.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(function(t){t.stopPropagation(),i.focus()})),i.addEventListener("change",(function(){e.title=i.value,n.options.columnTitleChanged.call(t.table,t.getComponent())})),o.appendChild(i),e.field?n.modules.localize.bind("columns|"+e.field,(function(t){i.value=t||e.title||"&nbsp;"})):i.value=e.title||"&nbsp;"}else e.field?n.modules.localize.bind("columns|"+e.field,(function(n){t._formatColumnHeaderTitle(o,n||e.title||"&nbsp;")})):t._formatColumnHeaderTitle(o,e.title||"&nbsp;");return o},a.prototype._formatColumnHeaderTitle=function(e,n){var i,r,s,a,l,c=this;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(i=this.table.modules.format.getFormatter(this.definition.titleFormatter),l=function(t){c.titleFormatterRendered=t},a={getValue:function(){return n},getElement:function(){return e}},s="function"==typeof(s=this.definition.titleFormatterParams||{})?s():s,void 0===(r=i.call(this.table.modules.format,a,s,l))?"undefined":o(r)){case"object":r instanceof Node?e.appendChild(r):(e.innerHTML="",t.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",r));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=r}else e.innerHTML=n},a.prototype._buildGroupHeader=function(){var t=this;(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((function(e){t.element.classList.add(e)}));(this.definition.headerContextMenu||this.definition.headerMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeColumnHeader(this),this.titleElement.style.textAlign=this.definition.headerHozAlign||this.table.options.headerHozAlign,this.element.appendChild(this.groupElement)},a.prototype._getFlatData=function(t){return t[this.field]},a.prototype._getNestedData=function(t){for(var e,n=t,o=this.fieldStructure,i=o.length,r=0;r<i&&(e=n=n[o[r]],n);r++);return e},a.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},a.prototype._setNestedData=function(t,e){for(var n=t,o=this.fieldStructure,i=o.length,r=0;r<i;r++)if(r==i-1)n[o[r]]=e;else{if(!n[o[r]]){if(void 0===e)break;n[o[r]]={}}n=n[o[r]]}},a.prototype.attachColumn=function(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):t.warn("Column Warning - Column being attached to another column instead of column group")},a.prototype.verticalAlign=function(t,e){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(e){e.verticalAlign(t)}))},a.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(t){t.clearVerticalAlign()}))},a.prototype.bindModuleColumns=function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)},a.prototype.getElement=function(){return this.element},a.prototype.getGroupElement=function(){return this.groupElement},a.prototype.getField=function(){return this.field},a.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},a.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},a.prototype.getColumns=function(){return this.columns},a.prototype.getCells=function(){return this.cells},a.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},a.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),this.definition.columns=e),this.definition},a.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach((function(e){e.visible&&(t=!0)})),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},a.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},a.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(t){t.hide()})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),!this.silent&&this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitialize())},a.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})),this.contentElement.style.maxWidth=t-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())},a.prototype.removeChild=function(t){var e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),this.columns.length||this.delete()},a.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},a.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.maxWidth&&(t=Math.min(this.maxWidth,t)),this.width=t,this.widthStyled=t?t+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(t){t.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},a.prototype.checkCellHeights=function(){var t=[];this.cells.forEach((function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)})),t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()}))},a.prototype.getWidth=function(){var t=0;return this.isGroup?this.columns.forEach((function(e){e.visible&&(t+=e.getWidth())})):t=this.width,t},a.prototype.getHeight=function(){return this.element.offsetHeight},a.prototype.setMinWidth=function(t){this.minWidth=t,this.minWidthStyled=t?t+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(t){t.setMinWidth()}))},a.prototype.setMaxWidth=function(t){this.maxWidth=t,this.maxWidthStyled=t?t+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(t){t.setMaxWidth()}))},a.prototype.delete=function(){var t=this;return new Promise((function(e,n){t.isGroup&&t.columns.forEach((function(t){t.delete()})),t.table.modExists("edit")&&t.table.modules.edit.currentCell.column===t&&t.table.modules.edit.cancelEdit();for(var o=t.cells.length,i=0;i<o;i++)t.cells[0].delete();t.element.parentNode&&t.element.parentNode.removeChild(t.element),t.element=!1,t.contentElement=!1,t.titleElement=!1,t.groupElement=!1,t.parent.isGroup&&t.parent.removeChild(t),t.table.columnManager.deregisterColumn(t),t.table.options.virtualDomHoz&&t.table.vdomHoz.reinitialize(!0),e()}))},a.prototype.columnRendered=function(){this.titleFormatterRendered&&this.titleFormatterRendered()},a.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},a.prototype.generateCell=function(t){var e=new d(this,t);return this.cells.push(e),e},a.prototype.nextColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._nextVisibleColumn(t+1)},a.prototype._nextVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._nextVisibleColumn(t+1)},a.prototype.prevColumn=function(){var t=this.table.columnManager.findColumnIndex(this);return t>-1&&this._prevVisibleColumn(t-1)},a.prototype._prevVisibleColumn=function(t){var e=this.table.columnManager.getColumnByIndex(t);return!e||e.visible?e:this._prevVisibleColumn(t-1)},a.prototype.reinitializeWidth=function(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},a.prototype.fitToData=function(){this.widthFixed||(this.element.style.width="",this.cells.forEach((function(t){t.clearWidth()})));var t=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach((function(e){var n=e.getWidth();n>t&&(t=n)})),t&&this.setWidthActual(t+1))},a.prototype.updateDefinition=function(e){var n=this;return new Promise((function(o,i){var r;n.isGroup||n.parent.isGroup?(t.warn("Column Update Error - The updateDefinition function is only available on ungrouped columns"),i("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(r=Object.assign({},n.getDefinition()),r=Object.assign(r,e),n.table.columnManager.addColumn(r,!1,n).then((function(t){r.field==n.field&&(n.field=!1),n.delete().then((function(){o(t.getComponent())})).catch((function(t){i(t)}))})).catch((function(t){i(t)})))}))},a.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},a.prototype.defaultOptionList=["title","field","columns","visible","align","hozAlign","vertAlign","width","minWidth","maxWidth","widthGrow","widthShrink","resizable","frozen","responsive","tooltip","cssClass","rowHandle","hideInHtml","print","htmlOutput","sorter","sorterParams","formatter","formatterParams","variableHeight","editable","editor","editorParams","validator","mutator","mutatorParams","mutatorData","mutatorDataParams","mutatorEdit","mutatorEditParams","mutatorClipboard","mutatorClipboardParams","accessor","accessorParams","accessorData","accessorDataParams","accessorDownload","accessorDownloadParams","accessorClipboard","accessorClipboardParams","accessorPrint","accessorPrintParams","accessorHtmlOutput","accessorHtmlOutputParams","clipboard","download","downloadTitle","topCalc","topCalcParams","topCalcFormatter","topCalcFormatterParams","bottomCalc","bottomCalcParams","bottomCalcFormatter","bottomCalcFormatterParams","cellClick","cellDblClick","cellContext","cellTap","cellDblTap","cellTapHold","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellEditing","cellEdited","cellEditCancelled","headerSort","headerSortStartingDir","headerSortTristate","headerClick","headerDblClick","headerContext","headerTap","headerDblTap","headerTapHold","headerTooltip","headerVertical","headerHozAlign","editableTitle","titleFormatter","titleFormatterParams","headerFilter","headerFilterPlaceholder","headerFilterParams","headerFilterEmptyCheck","headerFilterFunc","headerFilterFuncParams","headerFilterLiveFilter","print","headerContextMenu","headerMenu","contextMenu","clickMenu","formatterPrint","formatterPrintParams","formatterClipboard","formatterClipboardParams","formatterHtmlOutput","formatterHtmlOutputParams","titlePrint","titleClipboard","titleHtmlOutput","titleDownload"],a.prototype.getComponent=function(){return this.component||(this.component=new s(this)),this.component};var l=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[],this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1};l.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},l.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},l.prototype.getElement=function(){return this.element},l.prototype.getTableElement=function(){return this.tableElement},l.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},l.prototype.setColumnManager=function(t){this.columnManager=t},l.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",(function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e),t.table.options.scrollHorizontal(e)),t.scrollLeft=e})),"virtual"===this.renderMode&&t.element.addEventListener("scroll",(function(){var e=t.element.scrollTop,n=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(n),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e),t.table.options.scrollVertical(e)):t.scrollTop=e}))},l.prototype.findRow=function(t){var e=this;return"object"!=(void 0===t?"undefined":o(t))?null!=t&&(e.rows.find((function(n){return n.data[e.table.options.index]==t}))||!1):t instanceof h?t:t instanceof u?t._getSelf()||!1:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.rows.find((function(e){return e.getElement()===t}))||!1},l.prototype.getRowFromDataObject=function(t){return this.rows.find((function(e){return e.data===t}))||!1},l.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},l.prototype.scrollToRow=function(e,n,o){var i,r=this,s=this.getDisplayRows().indexOf(e),a=e.getElement(),l=0;return new Promise((function(e,c){if(s>-1){if(void 0===n&&(n=r.table.options.scrollToRowPosition),void 0===o&&(o=r.table.options.scrollToRowIfVisible),"nearest"===n)switch(r.renderMode){case"classic":i=m.prototype.helpers.elOffset(a).top,n=Math.abs(r.element.scrollTop-i)>Math.abs(r.element.scrollTop+r.element.clientHeight-i)?"bottom":"top";break;case"virtual":n=Math.abs(r.vDomTop-s)>Math.abs(r.vDomBottom-s)?"bottom":"top"}if(!o&&m.prototype.helpers.elVisible(a)&&(l=m.prototype.helpers.elOffset(a).top-m.prototype.helpers.elOffset(r.element).top)>0&&l<r.element.clientHeight-a.offsetHeight)return!1;switch(r.renderMode){case"classic":r.element.scrollTop=m.prototype.helpers.elOffset(a).top-m.prototype.helpers.elOffset(r.element).top+r.element.scrollTop;break;case"virtual":r._virtualRenderFill(s,!0)}switch(n){case"middle":case"center":r.element.scrollHeight-r.element.scrollTop==r.element.clientHeight?r.element.scrollTop=r.element.scrollTop+(a.offsetTop-r.element.scrollTop)-(r.element.scrollHeight-a.offsetTop)/2:r.element.scrollTop=r.element.scrollTop-r.element.clientHeight/2;break;case"bottom":r.element.scrollHeight-r.element.scrollTop==r.element.clientHeight?r.element.scrollTop=r.element.scrollTop-(r.element.scrollHeight-a.offsetTop)+a.offsetHeight:r.element.scrollTop=r.element.scrollTop-r.element.clientHeight+a.offsetHeight}e()}else t.warn("Scroll Error - Row not visible"),c("Scroll Error - Row not visible")}))},l.prototype.setData=function(t,e,n){var o=this,i=this;return new Promise((function(r,s){e&&o.getDisplayRows().length?i.table.options.pagination?i._setDataActual(t,!0):o.reRenderInPosition((function(){i._setDataActual(t)})):(o.table.options.autoColumns&&n&&o.table.columnManager.generateColumnsFromRowData(t),o.resetScroll(),o._setDataActual(t)),r()}))},l.prototype._setDataActual=function(e,n){var i=this;i.table.options.dataLoading.call(this.table,e),this._wipeElements(),this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(e)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchData(e),e.forEach((function(e,n){if(e&&"object"===(void 0===e?"undefined":o(e))){var r=new h(e,i);i.rows.push(r)}else t.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),i.refreshActiveData(!1,!1,n),i.table.options.dataLoaded.call(this.table,e)):t.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===e?"undefined":o(e),"\nData:     ",e)},l.prototype._wipeElements=function(){this.rows.forEach((function(t){t.wipe()})),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.wipe(),this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()},l.prototype.deleteRow=function(t,e){var n=this.rows.indexOf(t),o=this.activeRows.indexOf(t);o>-1&&this.activeRows.splice(o,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(e){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e||this.reRenderInPosition(),this.regenerateRowNumbers(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},l.prototype.addRow=function(t,e,n,o){var i=this.addRowActual(t,e,n,o);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",i,{data:t,pos:e,index:n}),i},l.prototype.addRows=function(t,e,n){var o=this,i=this,r=[];return new Promise((function(s,a){e=o.findAddRowPos(e),Array.isArray(t)||(t=[t]),t.length-1,(void 0===n&&e||void 0!==n&&!e)&&t.reverse(),t.forEach((function(t,o){var s=i.addRow(t,e,n,!0);r.push(s)})),o.table.options.groupBy&&o.table.modExists("groupRows")?o.table.modules.groupRows.updateGroupRows(!0):o.table.options.pagination&&o.table.modExists("page")?o.refreshActiveData(!1,!1,!0):o.reRenderInPosition(),o.table.modExists("columnCalcs")&&o.table.modules.columnCalcs.recalc(o.table.rowManager.activeRows),o.regenerateRowNumbers(),s(r)}))},l.prototype.findAddRowPos=function(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},l.prototype.addRowActual=function(t,e,n,o){var i,r,s=t instanceof h?t:new h(t||{},this),a=this.findAddRowPos(e),l=-1;if(!n&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(r=this.getDisplayRows(),a?r.length?n=r[0]:this.activeRows.length&&(n=this.activeRows[this.activeRows.length-1],a=!1):r.length&&(n=r[r.length-1],a=!(r.length<this.table.modules.page.getPageSize()))),void 0!==n&&(n=this.findRow(n)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(s);var c=s.getGroup().rows;c.length>1&&(!n||n&&-1==c.indexOf(n)?a?c[0]!==s&&(n=c[0],this._moveRowInArray(s.getGroup().rows,s,n,!a)):c[c.length-1]!==s&&(n=c[c.length-1],this._moveRowInArray(s.getGroup().rows,s,n,!a)):this._moveRowInArray(s.getGroup().rows,s,n,!a))}return n&&(l=this.rows.indexOf(n)),n&&l>-1?(i=this.activeRows.indexOf(n),this.displayRowIterator((function(t){var e=t.indexOf(n);e>-1&&t.splice(a?e:e+1,0,s)})),i>-1&&this.activeRows.splice(a?i:i+1,0,s),this.rows.splice(a?l:l+1,0,s)):a?(this.displayRowIterator((function(t){t.unshift(s)})),this.activeRows.unshift(s),this.rows.unshift(s)):(this.displayRowIterator((function(t){t.push(s)})),this.activeRows.push(s),this.rows.push(s)),this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,s.getComponent()),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.getData()),o||this.reRenderInPosition(),s},l.prototype.moveRow=function(t,e,n){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{posFrom:this.getRowPosition(t),posTo:this.getRowPosition(e),to:e,after:n}),this.moveRowActual(t,e,n),this.regenerateRowNumbers(),this.table.options.rowMoved.call(this.table,t.getComponent())},l.prototype.moveRowActual=function(t,e,n){var o=this;if(this._moveRowInArray(this.rows,t,e,n),this._moveRowInArray(this.activeRows,t,e,n),this.displayRowIterator((function(i){o._moveRowInArray(i,t,e,n)})),this.table.options.groupBy&&this.table.modExists("groupRows")){!n&&e instanceof z&&(e=this.table.rowManager.prevDisplayRow(t)||e);var i=e.getGroup(),r=t.getGroup();i===r?this._moveRowInArray(i.rows,t,e,n):(r&&r.removeRow(t),i.insertRow(t,e,n))}},l.prototype._moveRowInArray=function(t,e,n,o){var i,r,s;if(e!==n&&((i=t.indexOf(e))>-1&&(t.splice(i,1),(r=t.indexOf(n))>-1?o?t.splice(r+1,0,e):t.splice(r,0,e):t.splice(i,0,e)),t===this.getDisplayRows())){s=r>i?r:i+1;for(var a=i<r?i:r;a<=s;a++)t[a]&&this.styleRow(t[a],a)}},l.prototype.clearData=function(){this.setData([])},l.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},l.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},l.prototype.nextDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),o=!1;return!1!==n&&n<this.displayRowsCount-1&&(o=this.getDisplayRows()[n+1]),!o||o instanceof h&&"row"==o.type?o:this.nextDisplayRow(o,e)},l.prototype.prevDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),o=!1;return n&&(o=this.getDisplayRows()[n-1]),!e||!o||o instanceof h&&"row"==o.type?o:this.prevDisplayRow(o,e)},l.prototype.findRowIndex=function(t,e){var n;return!!((t=this.findRow(t))&&(n=e.indexOf(t))>-1)&&n},l.prototype.getData=function(t,e){var n=[];return this.getRows(t).forEach((function(t){"row"==t.type&&n.push(t.getData(e||"data"))})),n},l.prototype.getComponents=function(t){var e=[];return this.getRows(t).forEach((function(t){e.push(t.getComponent())})),e},l.prototype.getDataCount=function(t){return this.getRows(t).length},l.prototype._genRemoteRequest=function(){var t=this,e=this.table,n=e.options,o={};if(e.modExists("page")){if(n.ajaxSorting){var i=this.table.modules.sort.getSort();i.forEach((function(t){delete t.column})),o[this.table.modules.page.paginationDataSentNames.sorters]=i}if(n.ajaxFiltering){var r=this.table.modules.filter.getFilters(!0,!0);o[this.table.modules.page.paginationDataSentNames.filters]=r}this.table.modules.ajax.setParams(o,!0)}e.modules.ajax.sendRequest().then((function(e){t._setDataActual(e,!0)})).catch((function(t){}))},l.prototype.filterRefresh=function(){var t=this.table,e=t.options,n=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then((function(){})).catch((function(){}))):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(n)},l.prototype.sorterRefresh=function(t){var e=this.table,n=this.table.options,o=this.scrollLeft;n.ajaxSorting?("remote"==n.pagination||n.progressiveLoad)&&e.modExists("page")?(e.modules.page.reset(!0),e.modules.page.setPage(1).then((function(){})).catch((function(){}))):n.ajaxProgressiveLoad?e.modules.ajax.loadData().then((function(){})).catch((function(){})):this._genRemoteRequest():this.refreshActiveData(t?"filter":"sort"),this.scrollHorizontal(o)},l.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},l.prototype.refreshActiveData=function(t,e,n){var o,i=this.table,r=["all","filter","sort","display","freeze","group","tree","page"];if(this.redrawBlock)(!this.redrawBlockRestoreConfig||r.indexOf(t)<r.indexOf(this.redrawBlockRestoreConfig.stage))&&(this.redrawBlockRestoreConfig={stage:t,skipStage:e,renderInPosition:n});else{switch(this.table.modExists("edit")&&this.table.modules.edit.cancelEdit(),t||(t="all"),i.options.selectable&&!i.options.selectablePersistence&&i.modExists("selectRow")&&i.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:i.modExists("filter")?this.setActiveRows(i.modules.filter.filter(this.rows)):this.setActiveRows(this.rows.slice(0));case"sort":e?e=!1:i.modExists("sort")&&i.modules.sort.sort(this.activeRows),this.regenerateRowNumbers();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&i.modules.frozenRows.isFrozen()&&(i.modules.frozenRows.getDisplayIndex()||i.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),o=i.modules.frozenRows.getDisplayIndex(),!0!==(o=this.setDisplayRows(i.modules.frozenRows.getRows(this.getDisplayRows(o-1)),o))&&i.modules.frozenRows.setDisplayIndex(o));case"group":e?e=!1:i.options.groupBy&&i.modExists("groupRows")&&(i.modules.groupRows.getDisplayIndex()||i.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),o=i.modules.groupRows.getDisplayIndex(),!0!==(o=this.setDisplayRows(i.modules.groupRows.getRows(this.getDisplayRows(o-1)),o))&&i.modules.groupRows.setDisplayIndex(o));case"tree":e?e=!1:i.options.dataTree&&i.modExists("dataTree")&&(i.modules.dataTree.getDisplayIndex()||i.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),o=i.modules.dataTree.getDisplayIndex(),!0!==(o=this.setDisplayRows(i.modules.dataTree.getRows(this.getDisplayRows(o-1)),o))&&i.modules.dataTree.setDisplayIndex(o)),i.options.pagination&&i.modExists("page")&&!n&&"local"==i.modules.page.getMode()&&i.modules.page.reset();case"page":e?e=!1:i.options.pagination&&i.modExists("page")&&(i.modules.page.getDisplayIndex()||i.modules.page.setDisplayIndex(this.getNextDisplayIndex()),o=i.modules.page.getDisplayIndex(),"local"==i.modules.page.getMode()&&i.modules.page.setMaxRows(this.getDisplayRows(o-1).length),!0!==(o=this.setDisplayRows(i.modules.page.getRows(this.getDisplayRows(o-1)),o))&&i.modules.page.setDisplayIndex(o))}m.prototype.helpers.elVisible(this.element)&&(n?this.reRenderInPosition():("all"===t&&this.table.options.virtualDomHoz&&this.table.vdomHoz.dataChange(),this.renderTable(),i.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(this.activeRows)}},l.prototype.regenerateRowNumbers=function(){var t=this;this.rowNumColumn&&this.activeRows.forEach((function(e){var n=e.getCell(t.rowNumColumn);n&&n._generateContents()}))},l.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},l.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},l.prototype.getNextDisplayIndex=function(){return this.displayRows.length},l.prototype.setDisplayRows=function(t,e){var n=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,n=!0):(this.displayRows.push(t),n=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n},l.prototype.getDisplayRows=function(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},l.prototype.getVisibleRows=function(t){var e=this.element.scrollTop,n=this.element.clientHeight+e,o=!1,i=0,r=0,s=this.getDisplayRows();if(t){this.getDisplayRows();for(var a=this.vDomTop;a<=this.vDomBottom;a++)if(s[a])if(o){if(!(n-s[a].getElement().offsetTop>=0))break;r=a}else if(e-s[a].getElement().offsetTop>=0)i=a;else{if(o=!0,!(n-s[a].getElement().offsetTop>=0))break;r=a}}else i=this.vDomTop,r=this.vDomBottom;return s.slice(i,r+1)},l.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},l.prototype.getRows=function(t){var e;switch(t){case"active":e=this.activeRows;break;case"display":e=this.table.rowManager.getDisplayRows();break;case"visible":e=this.getVisibleRows(!0);break;case"selected":e=this.table.modules.selectRow.selectedRows;break;default:e=this.rows}return e},l.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode())if(this.redrawBlock)t?t():this.redrawBlockRederInPosition=!0;else{for(var e=this.element.scrollTop,n=!1,o=!1,i=this.scrollLeft,r=this.getDisplayRows(),s=this.vDomTop;s<=this.vDomBottom;s++)if(r[s]){var a=e-r[s].getElement().offsetTop;if(!(!1===o||Math.abs(a)<o))break;o=a,n=s}t&&t(),this._virtualRenderFill(!1===n?this.displayRowsCount-1:n,!0,o||0),this.scrollHorizontal(i)}else this.renderTable(),t&&t()},l.prototype.setRenderMode=function(){this.table.options.virtualDom?(this.renderMode="virtual",this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):this.renderMode="classic"},l.prototype.getRenderMode=function(){return this.renderMode},l.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px"),this.table.options.renderComplete.call(this.table)},l.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},l.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,n=!0;t.getDisplayRows().forEach((function(o,i){t.styleRow(o,i),e.appendChild(o.getElement()),o.initialize(!0),"group"!==o.type&&(n=!1)})),e.style.minWidth=n?t.table.columnManager.getWidth()+"px":""},l.prototype.renderEmptyScroll=function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"},l.prototype._clearVirtualDom=function(){var t=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.display="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},l.prototype.styleRow=function(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))},l.prototype._virtualRenderFill=function(t,e,n){var o=this.tableElement,i=this.element,r=0,s=0,a=0,l=0,c=!0,u=this.getDisplayRows();if(n=n||0,t=t||0){for(;o.firstChild;)o.removeChild(o.firstChild);var h=(this.displayRowsCount-t+1)*this.vDomRowHeight;h<this.height&&(t-=Math.ceil((this.height-h)/this.vDomRowHeight))<0&&(t=0),t-=r=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this._clearVirtualDom();if(this.displayRowsCount&&m.prototype.helpers.elVisible(this.element)){for(this.vDomTop=t,this.vDomBottom=t-1;(s<=this.height+this.vDomWindowBuffer||l<this.vDomWindowMinTotalRows)&&this.vDomBottom<this.displayRowsCount-1;){var p,d=this.vDomBottom+1,f=u[d];this.styleRow(f,d),o.appendChild(f.getElement()),f.initialize(),f.heightInitialized||f.normalizeHeight(!0),p=f.getHeight(),l<r?a+=p:s+=p,p>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*p),"group"!==f.type&&(c=!1),this.vDomBottom++,l++}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+n:this.scrollTop-a,this.vDomBottomPad=this.vDomBottom==this.displayRowsCount-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-s-a,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((s+a)/l),this.vDomBottomPad=this.vDomRowHeight*(this.displayRowsCount-this.vDomBottom-1),this.vDomScrollHeight=a+s+this.vDomBottomPad-this.height),o.style.paddingTop=this.vDomTopPad+"px",o.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+a+n-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,i.scrollTop=this.scrollTop,o.style.minWidth=c?this.table.columnManager.getWidth()+"px":"",this.table.options.groupBy&&"fitDataFill"!=this.table.modules.layout.getMode()&&this.displayRowsCount==this.table.modules.groupRows.countGroups()&&(this.tableElement.style.minWidth=this.table.columnManager.getWidth())}else this.renderEmptyScroll();this.fixedHeight||this.adjustTableSize()},l.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,n=this.scrollTop-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer;if(-e>o||n>o){var i=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(i)}else t?(e<0&&this._addTopRow(-e),n<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(-n):this.vDomScrollPosBottom=this.scrollTop)):(e>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(e):this.vDomScrollPosTop=this.scrollTop),n>=0&&this._addBottomRow(n))},l.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,o=this.getDisplayRows();if(this.vDomTop){var i=this.vDomTop-1,r=o[i],s=r.getHeight()||this.vDomRowHeight;t>=s&&(this.styleRow(r,i),n.insertBefore(r.getElement(),n.firstChild),r.initialized&&r.heightInitialized||(this.vDomTopNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomTopPad-=s,this.vDomTopPad<0&&(this.vDomTopPad=i*this.vDomRowHeight),i||(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=s,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(o[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},l.prototype._removeTopRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomTop],o=n.getHeight()||this.vDomRowHeight;if(t>=o){var i=n.getElement();i.parentNode.removeChild(i),this.vDomTopPad+=o,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?o:o+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t)}},l.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,o=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var i=this.vDomBottom+1,r=o[i],s=r.getHeight()||this.vDomRowHeight;t>=s&&(this.styleRow(r,i),n.appendChild(r.getElement()),r.initialized&&r.heightInitialized||(this.vDomBottomNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomBottomPad-=s,(this.vDomBottomPad<0||i==this.displayRowsCount-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=s,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,r.getHeight()>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*r.getHeight()),e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(o[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},l.prototype._removeBottomRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomBottom],o=n.getHeight()||this.vDomRowHeight;if(t>=o){var i=n.getElement();i.parentNode&&i.parentNode.removeChild(i),this.vDomBottomPad+=o,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=o,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t)}},l.prototype._quickNormalizeRowHeight=function(t){t.forEach((function(t){t.calcHeight()})),t.forEach((function(t){t.setCellHeight()})),t.length=0},l.prototype.normalizeHeight=function(){this.activeRows.forEach((function(t){t.normalizeHeight()}))},l.prototype.adjustTableSize=function(){var t,e=this.element.clientHeight;if("virtual"===this.renderMode){var n=Math.floor(this.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+n+"px)",this.element.style.height="calc(100% - "+n+"px)",this.element.style.maxHeight="calc(100% - "+n+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-n+"px",this.element.scrollTop=this.scrollTop),this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height,this.fixedHeight||e==this.element.clientHeight||((t=this.table.modExists("resizeTable"))&&!this.table.modules.resizeTable.autoResize||!t)&&this.redraw()}},l.prototype.reinitialize=function(){this.rows.forEach((function(t){t.reinitialize(!0)}))},l.prototype.blockRedraw=function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1},l.prototype.restoreRedraw=function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.stage,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1},l.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,t?this.renderTable():("classic"==this.renderMode?this.table.options.groupBy?this.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},l.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var c=function(t){this.table=t,this.element=this.table.rowManager.tableElement,this.holderEl=this.table.rowManager.element,this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[],this.compatabilityCheck()&&this.initialize()};c.prototype.compatabilityCheck=function(){var e=this.table.options,n=!0;return"fitDataTable"==e.layout&&(t.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),n=!1),e.responsiveLayout&&(t.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),n=!1),this.table.rtl&&(t.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),n=!1),e.columns&&e.columns.find((function(t){return t.frozen}))&&(t.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),n=!1),n||(e.virtualDomHoz=!1),n},c.prototype.initialize=function(){var t=this;this.holderEl.addEventListener("scroll",(function(){var e=t.holderEl.scrollLeft;t.scrollLeft!=e&&(t.scrollLeft=e,t.scroll(e-(t.vDomScrollPosLeft+t.window)))}))},c.prototype.deinitialize=function(){this.initialized=!1},c.prototype.clear=function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0},c.prototype.dataChange=function(){var t,e,n=!1,o=0,i=0;if("fitData"===this.table.options.layout){if(this.table.columnManager.columnsByIndex.forEach((function(t){!t.definition.width&&t.visible&&(n=!0)})),n&&n&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window,t=this.table.options.groupBy?this.table.modules.groupRows.getGroups(!1)[0].getRows(!1)[0]:this.table.rowManager.getDisplayRows()[0])){e=t.getElement(),t.generateCells(),this.element.appendChild(e);for(i=0;i<t.cells.length;i++){var r=t.cells[i];if(e.appendChild(r.getElement()),r.column.reinitializeWidth(),(o+=r.column.getWidth())>this.vDomScrollPosRight)break}for(e.parentNode.removeChild(e),this.fitDataColAvg=Math.floor(o/(i+1));i<this.table.columnManager.columnsByIndex.length;i++)this.table.columnManager.columnsByIndex[i].setWidth(this.fitDataColAvg);this.reinitialize(!1,!0)}}else"fitColumns"===this.table.options.layout&&(this.table.modules.layout.layout(),this.table.vdomHoz.reinitialize(!1,!0))},c.prototype.fitDataLayoutOverride=function(){for(var t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()},c.prototype.reinitialize=function(t,e){var n=this,o={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!t||this.initialized){this.clear(),this.scrollLeft=this.holderEl.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.holderEl.clientWidth+this.window;var i=0;this.table.columnManager.columnsByIndex.forEach((function(t){var e={};if(t.visible){var o=t.getWidth();e.leftPos=i,e.rightPos=i+o,i+o>n.vDomScrollPosLeft&&i<n.vDomScrollPosRight?(-1==n.leftCol&&(n.leftCol=n.columns.length,n.vDomPadLeft=i),n.rightCol=n.columns.length):-1!==n.leftCol&&(n.vDomPadRight+=o),n.columns.push(t),t.modules.vdomHoz=e,i+=o}})),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.element.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,e||t&&!this.reinitChanged(o)||this.renitializeRows(),this.holderEl.scrollLeft=this.scrollLeft}},c.prototype.reinitChanged=function(t){var e=this,n=!0;return t.cols.length!==this.columns.length||t.leftCol!==this.leftCol||t.rightCol!==this.rightCol||(t.cols.forEach((function(t,o){t!==e.columns[o]&&(n=!1)})),!n)},c.prototype.renitializeRows=function(){var t=this;this.table.rowManager.getVisibleRows().forEach((function(e){t.reinitializeRow(e,!0)}))},c.prototype.scroll=function(t){this.vDomScrollPosLeft+=t,this.vDomScrollPosRight+=t,t>.8*this.holderEl.clientWidth?this.reinitialize():t>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())},c.prototype.colPositionAdjust=function(t,e,n){for(var o=t;o<e;o++){var i=this.columns[o];i.modules.vdomHoz.leftPos-=n,i.modules.vdomHoz.rightPos-=n}},c.prototype.addColRight=function(){var t,e,n=this.columns[this.rightCol+1];n&&n.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var e=t.getCell(n);t.getElement().appendChild(e.getElement()),e.cellRendered()}})),this.fitDataColAvg&&(t=n.getWidth())===this.fitDataColAvg&&(n.reinitializeWidth(),(e=t-n.getWidth())&&(n.modules.vdomHoz.rightPos-=e,this.colPositionAdjust(this.rightCol+1,this.columns.length,e))),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=n.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.addColRight())},c.prototype.addColLeft=function(){var t=this.columns[this.leftCol-1];t&&t.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var n=e.getCell(t);e.getElement().prepend(n.getElement()),n.cellRendered()}})),this.leftCol?this.vDomPadLeft-=t.getWidth():this.vDomPadLeft=0,this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())},c.prototype.removeColRight=function(t){var e;(t=this.columns[this.rightCol])&&t.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(e=this.table.rowManager.getVisibleRows(),t.modules.vdomHoz.visible=!1,e.forEach((function(e){if("group"!==e.type){var n=e.getCell(t);e.getElement().removeChild(n.getElement())}})),this.vDomPadRight+=t.getWidth(),this.element.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())},c.prototype.removeColLeft=function(){var t=this.columns[this.leftCol];t&&t.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(e){if("group"!==e.type){var n=e.getCell(t);e.getElement().removeChild(n.getElement())}})),this.vDomPadLeft+=t.getWidth(),this.element.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())},c.prototype.initializeRow=function(t){if("group"!==t.type){t.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var e=this.leftCol;e<=this.rightCol;e++){var n=this.columns[e];if(n&&n.visible){var o=t.getCell(n);t.getElement().appendChild(o.getElement()),o.cellRendered()}}}},c.prototype.reinitializeRow=function(t,e){if("group"!==t.type&&(e||!t.modules.vdomHoz||t.modules.vdomHoz.leftCol!==this.leftCol||t.modules.vdomHoz.rightCol!==this.rightCol)){for(var n=t.getElement();n.firstChild;)n.removeChild(n.firstChild);this.initializeRow(t)}};var u=function(t){this._row=t};u.prototype.getData=function(t){return this._row.getData(t)},u.prototype.getElement=function(){return this._row.getElement()},u.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},u.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},u.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},u.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},u.prototype.delete=function(){return this._row.delete()},u.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},u.prototype.pageTo=function(){if(this._row.table.modExists("page",!0))return this._row.table.modules.page.setPageToRow(this._row)},u.prototype.move=function(t,e){this._row.moveToRow(t,e)},u.prototype.update=function(t){return this._row.updateData(t)},u.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},u.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},u.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},u.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},u.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},u.prototype._getSelf=function(){return this._row},u.prototype.validate=function(){return this._row.validate()},u.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},u.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},u.prototype.isFrozen=function(){return!!this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.rows.indexOf(this._row)>-1},u.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},u.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},u.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},u.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},u.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row,!0)},u.prototype.addTreeChild=function(t,e,n){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.addTreeChildRow(this._row,t,e,n)},u.prototype.reformat=function(){return this._row.reinitialize()},u.prototype.getGroup=function(){return this._row.getGroup().getComponent()},u.prototype.getTable=function(){return this._row.table},u.prototype.getNextRow=function(){var t=this._row.nextRow();return t?t.getComponent():t},u.prototype.getPrevRow=function(){var t=this._row.prevRow();return t?t.getComponent():t};var h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";this.table=e.table,this.parent=e,this.data={},this.type=n,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(t)};h.prototype.create=function(){this.created||(this.created=!0,this.generateElement())},h.prototype.createElement=function(){var t=document.createElement("div");t.classList.add("tabulator-row"),t.setAttribute("role","row"),this.element=t},h.prototype.getElement=function(){return this.create(),this.element},h.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},h.prototype.generateElement=function(){var t,e,n,o=this;this.createElement(),!1!==o.table.options.selectable&&o.table.modExists("selectRow")&&o.table.modules.selectRow.initializeRow(this),!1!==o.table.options.movableRows&&o.table.modExists("moveRow")&&o.table.modules.moveRow.initializeRow(this),!1!==o.table.options.dataTree&&o.table.modExists("dataTree")&&o.table.modules.dataTree.initializeRow(this),"collapse"===o.table.options.responsiveLayout&&o.table.modExists("responsiveLayout")&&o.table.modules.responsiveLayout.initializeRow(this),(o.table.options.rowContextMenu||o.table.options.rowClickMenu)&&this.table.modExists("menu")&&o.table.modules.menu.initializeRow(this),o.table.options.rowClick&&o.element.addEventListener("click",(function(t){o.table.options.rowClick(t,o.getComponent())})),o.table.options.rowDblClick&&o.element.addEventListener("dblclick",(function(t){o.table.options.rowDblClick(t,o.getComponent())})),o.table.options.rowContext&&o.element.addEventListener("contextmenu",(function(t){o.table.options.rowContext(t,o.getComponent())})),o.table.options.rowMouseEnter&&o.element.addEventListener("mouseenter",(function(t){o.table.options.rowMouseEnter(t,o.getComponent())})),o.table.options.rowMouseLeave&&o.element.addEventListener("mouseleave",(function(t){o.table.options.rowMouseLeave(t,o.getComponent())})),o.table.options.rowMouseOver&&o.element.addEventListener("mouseover",(function(t){o.table.options.rowMouseOver(t,o.getComponent())})),o.table.options.rowMouseOut&&o.element.addEventListener("mouseout",(function(t){o.table.options.rowMouseOut(t,o.getComponent())})),o.table.options.rowMouseMove&&o.element.addEventListener("mousemove",(function(t){o.table.options.rowMouseMove(t,o.getComponent())})),o.table.options.rowTap&&(n=!1,o.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),o.element.addEventListener("touchend",(function(t){n&&o.table.options.rowTap(t,o.getComponent()),n=!1}))),o.table.options.rowDblTap&&(t=null,o.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,o.table.options.rowDblTap(e,o.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),o.table.options.rowTapHold&&(e=null,o.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,o.table.options.rowTapHold(t,o.getComponent())}),1e3)}),{passive:!0}),o.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null})))},h.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},h.prototype.initialize=function(t){var e=this;if(this.create(),!this.initialized||t){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),this.table.options.virtualDomHoz&&this.table.vdomHoz.initialized?this.table.vdomHoz.initializeRow(this):this.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()})),t&&this.normalizeHeight(),this.table.options.dataTree&&this.table.modExists("dataTree")&&this.table.modules.dataTree.layoutRow(this),"collapse"===this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout")&&this.table.modules.responsiveLayout.layoutRow(this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.table.options.resizableRows&&this.table.modExists("resizeRows")&&this.table.modules.resizeRows.initializeRow(this),this.initialized=!0}else this.table.options.virtualDomHoz&&this.table.vdomHoz.reinitializeRow(this)},h.prototype.reinitializeHeight=function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)},h.prototype.reinitialize=function(t){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.getTreeChildren(this,!1,!0).forEach((function(t){t.reinitialize(!0)}))},h.prototype.calcHeight=function(t){var e=0,n=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(t){var n=t.getHeight();n>e&&(e=n)})),this.height=t?Math.max(e,n):this.manualHeight?this.height:Math.max(e,n),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight},h.prototype.setCellHeight=function(){this.cells.forEach((function(t){t.setHeight()})),this.heightInitialized=!0},h.prototype.clearCellHeight=function(){this.cells.forEach((function(t){t.clearHeight()}))},h.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(t),this.setCellHeight()},h.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.manualHeight=!0,this.height=t,this.heightStyled=t?t+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},h.prototype.getHeight=function(){return this.outerHeight},h.prototype.getWidth=function(){return this.element.offsetWidth},h.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},h.prototype.setData=function(t){this.table.modExists("mutator")&&(t=this.table.modules.mutator.transformRow(t,"data")),this.data=t,this.table.options.reactiveData&&this.table.modExists("reactiveData",!0)&&this.table.modules.reactiveData.watchRow(this)},h.prototype.updateData=function(t){var e,n=this,o=this.element&&m.prototype.helpers.elVisible(this.element),i={};return new Promise((function(r,s){for(var a in"string"==typeof t&&(t=JSON.parse(t)),n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.block(),n.table.modExists("mutator")?(i=Object.assign(i,n.data),i=Object.assign(i,t),e=n.table.modules.mutator.transformRow(i,"data",t)):e=t,e)n.data[a]=e[a];for(var a in n.table.options.reactiveData&&n.table.modExists("reactiveData",!0)&&n.table.modules.reactiveData.unblock(),t){n.table.columnManager.getColumnsByFieldRoot(a).forEach((function(t){var i=n.getCell(t.getField());if(i){var r=t.getFieldValue(e);i.getValue()!=r&&(i.setValueProcessData(r),o&&i.cellRendered())}}))}n.table.options.groupUpdateOnCellEdit&&n.table.options.groupBy&&n.table.modExists("groupRows")&&n.table.modules.groupRows.reassignRowToGroup(n.row),o?(n.normalizeHeight(!0),n.table.options.rowFormatter&&n.table.options.rowFormatter(n.getComponent())):(n.initialized=!1,n.height=0,n.heightStyled=""),!1!==n.table.options.dataTree&&n.table.modExists("dataTree")&&n.table.modules.dataTree.redrawNeeded(t)&&(n.table.modules.dataTree.initializeRow(n),o&&(n.table.modules.dataTree.layoutRow(n),n.table.rowManager.refreshActiveData("tree",!1,!0))),n.table.options.rowUpdated.call(n.table,n.getComponent()),n.table.options.dataChanged&&n.table.options.dataChanged.call(n.table,n.table.rowManager.getData()),r()}))},h.prototype.getData=function(t){return t&&this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this,t):this.data},h.prototype.getCell=function(t){return t=this.table.columnManager.findColumn(t),this.cells.find((function(e){return e.column===t}))},h.prototype.getCellIndex=function(t){return this.cells.findIndex((function(e){return e===t}))},h.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var n=t+1;n<this.cells.length;n++){var o=this.cells[n];if(o.column.modules.edit&&m.prototype.helpers.elVisible(o.getElement())){var i=!0;if("function"==typeof o.column.modules.edit.check&&(i=o.column.modules.edit.check(o.getComponent())),i){e=o;break}}}return e},h.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var n=t-1;n>=0;n--){var o=this.cells[n],i=!0;if(o.column.modules.edit&&m.prototype.helpers.elVisible(o.getElement())&&("function"==typeof o.column.modules.edit.check&&(i=o.column.modules.edit.check(o.getComponent())),i)){e=o;break}}return e},h.prototype.getCells=function(){return this.cells},h.prototype.nextRow=function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1},h.prototype.prevRow=function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1},h.prototype.moveToRow=function(e,n){var o=this.table.rowManager.findRow(e);o?(this.table.rowManager.moveRowActual(this,o,!n),this.table.rowManager.refreshActiveData("display",!1,!0)):t.warn("Move Error - No matching row found:",e)},h.prototype.validate=function(){var t=[];return this.cells.forEach((function(e){e.validate()||t.push(e.getComponent())})),!t.length||t},h.prototype.delete=function(){var t=this;return new Promise((function(e,n){var o,i;t.table.options.history&&t.table.modExists("history")&&(t.table.options.groupBy&&t.table.modExists("groupRows")?(o=(i=t.getGroup().rows).indexOf(t))&&(o=i[o-1]):(o=t.table.rowManager.getRowIndex(t))&&(o=t.table.rowManager.rows[o-1]),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!o,index:o})),t.deleteActual(),e()}))},h.prototype.deleteActual=function(t){this.table.rowManager.getRowIndex(this);this.detatchModules(),this.table.options.reactiveData&&this.table.modExists("reactiveData",!0),this.modules.group&&this.modules.group.removeRow(this),this.table.rowManager.deleteRow(this,t),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.table.options.dataTree&&this.table.modExists("dataTree",!0)&&this.table.modules.dataTree.rowDelete(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},h.prototype.detatchModules=function(){this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.modExists("edit")&&this.table.modules.edit.currentCell.row===this&&this.table.modules.edit.cancelEdit(),this.table.modExists("frozenRows")&&this.table.modules.frozenRows.detachRow(this)},h.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},h.prototype.wipe=function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}},h.prototype.getGroup=function(){return this.modules.group||!1},h.prototype.getComponent=function(){return this.component||(this.component=new u(this)),this.component};var p=function(t){this._cell=t};p.prototype.getValue=function(){return this._cell.getValue()},p.prototype.getOldValue=function(){return this._cell.getOldValue()},p.prototype.getInitialValue=function(){return this._cell.initialValue},p.prototype.getElement=function(){return this._cell.getElement()},p.prototype.getRow=function(){return this._cell.row.getComponent()},p.prototype.getData=function(){return this._cell.row.getData()},p.prototype.getField=function(){return this._cell.column.getField()},p.prototype.getColumn=function(){return this._cell.column.getComponent()},p.prototype.setValue=function(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)},p.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},p.prototype.restoreInitialValue=function(){this._cell.setValueActual(this._cell.initialValue)},p.prototype.edit=function(t){return this._cell.edit(t)},p.prototype.cancelEdit=function(){this._cell.cancelEdit()},p.prototype.isEdited=function(){return!!this._cell.modules.edit&&this._cell.modules.edit.edited},p.prototype.clearEdited=function(){self.table.modExists("edit",!0)&&this._cell.table.modules.edit.clearEdited(this._cell)},p.prototype.isValid=function(){return!this._cell.modules.validate||!this._cell.modules.validate.invalid},p.prototype.validate=function(){return this._cell.validate()},p.prototype.clearValidation=function(){this._cell.table.modExists("validate",!0)&&this._cell.table.modules.validate.clearValidation(this._cell)},p.prototype.nav=function(){return this._cell.nav()},p.prototype.checkHeight=function(){this._cell.checkHeight()},p.prototype.getTable=function(){return this._cell.table},p.prototype._getSelf=function(){return this._cell};var d=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.initialValue,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()};d.prototype.build=function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value},d.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},d.prototype._configureCell=function(){var t=this,e=t.column.cellEvents,n=t.element,o=this.column.getField();(n.style.textAlign=t.column.hozAlign,t.column.vertAlign&&(n.style.display="inline-flex",n.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[t.column.vertAlign]||"",t.column.hozAlign&&(n.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[t.column.hozAlign]||"")),o&&n.setAttribute("tabulator-field",o),t.column.definition.cssClass)&&t.column.definition.cssClass.split(" ").forEach((function(t){n.classList.add(t)}));"hover"===this.table.options.tooltipGenerationMode&&n.addEventListener("mouseenter",(function(e){t._generateTooltip()})),t._bindClickEvents(e),t._bindTouchEvents(e),t._bindMouseEvents(e),t.column.modules.edit&&t.table.modules.edit.bindEditor(t),t.column.definition.rowHandle&&!1!==t.table.options.movableRows&&t.table.modExists("moveRow")&&t.table.modules.moveRow.initializeCell(t),t.column.visible||t.hide()},d.prototype._bindClickEvents=function(t){var e=this,n=e.element;(t.cellClick||e.table.options.cellClick)&&n.addEventListener("click",(function(n){var o=e.getComponent();t.cellClick&&t.cellClick.call(e.table,n,o),e.table.options.cellClick&&e.table.options.cellClick.call(e.table,n,o)})),t.cellDblClick||this.table.options.cellDblClick?n.addEventListener("dblclick",(function(n){var o=e.getComponent();t.cellDblClick&&t.cellDblClick.call(e.table,n,o),e.table.options.cellDblClick&&e.table.options.cellDblClick.call(e.table,n,o)})):n.addEventListener("dblclick",(function(t){if(!e.table.modExists("edit")||e.table.modules.edit.currentCell!==e){t.preventDefault();try{if(document.selection)(n=document.body.createTextRange()).moveToElementText(e.element),n.select();else if(window.getSelection){var n;(n=document.createRange()).selectNode(e.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch(t){}}})),(t.cellContext||this.table.options.cellContext)&&n.addEventListener("contextmenu",(function(n){var o=e.getComponent();t.cellContext&&t.cellContext.call(e.table,n,o),e.table.options.cellContext&&e.table.options.cellContext.call(e.table,n,o)}))},d.prototype._bindMouseEvents=function(t){var e=this,n=e.element;(t.cellMouseEnter||e.table.options.cellMouseEnter)&&n.addEventListener("mouseenter",(function(n){var o=e.getComponent();t.cellMouseEnter&&t.cellMouseEnter.call(e.table,n,o),e.table.options.cellMouseEnter&&e.table.options.cellMouseEnter.call(e.table,n,o)})),(t.cellMouseLeave||e.table.options.cellMouseLeave)&&n.addEventListener("mouseleave",(function(n){var o=e.getComponent();t.cellMouseLeave&&t.cellMouseLeave.call(e.table,n,o),e.table.options.cellMouseLeave&&e.table.options.cellMouseLeave.call(e.table,n,o)})),(t.cellMouseOver||e.table.options.cellMouseOver)&&n.addEventListener("mouseover",(function(n){var o=e.getComponent();t.cellMouseOver&&t.cellMouseOver.call(e.table,n,o),e.table.options.cellMouseOver&&e.table.options.cellMouseOver.call(e.table,n,o)})),(t.cellMouseOut||e.table.options.cellMouseOut)&&n.addEventListener("mouseout",(function(n){var o=e.getComponent();t.cellMouseOut&&t.cellMouseOut.call(e.table,n,o),e.table.options.cellMouseOut&&e.table.options.cellMouseOut.call(e.table,n,o)})),(t.cellMouseMove||e.table.options.cellMouseMove)&&n.addEventListener("mousemove",(function(n){var o=e.getComponent();t.cellMouseMove&&t.cellMouseMove.call(e.table,n,o),e.table.options.cellMouseMove&&e.table.options.cellMouseMove.call(e.table,n,o)}))},d.prototype._bindTouchEvents=function(t){var e,n,o,i=this,r=i.element;(t.cellTap||this.table.options.cellTap)&&(o=!1,r.addEventListener("touchstart",(function(t){o=!0}),{passive:!0}),r.addEventListener("touchend",(function(e){if(o){var n=i.getComponent();t.cellTap&&t.cellTap.call(i.table,e,n),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,e,n)}o=!1}))),(t.cellDblTap||this.table.options.cellDblTap)&&(e=null,r.addEventListener("touchend",(function(n){if(e){clearTimeout(e),e=null;var o=i.getComponent();t.cellDblTap&&t.cellDblTap.call(i.table,n,o),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,n,o)}else e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),(t.cellTapHold||this.table.options.cellTapHold)&&(n=null,r.addEventListener("touchstart",(function(e){clearTimeout(n),n=setTimeout((function(){clearTimeout(n),n=null,o=!1;var r=i.getComponent();t.cellTapHold&&t.cellTapHold.call(i.table,e,r),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,e,r)}),1e3)}),{passive:!0}),r.addEventListener("touchend",(function(t){clearTimeout(n),n=null})))},d.prototype._generateContents=function(){var e;switch(void 0===(e=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":o(e)){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&t.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}},d.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},d.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),void 0===t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},d.prototype.getElement=function(t){return this.loaded||(this.loaded=!0,t||this.layoutElement()),this.element},d.prototype.getValue=function(){return this.value},d.prototype.getOldValue=function(){return this.oldValue},d.prototype.setValue=function(t,e){var n;this.setValueProcessData(t,e)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),n=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,n),this.table.options.groupUpdateOnCellEdit&&this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.reassignRowToGroup(this.row),this.cellRendered(),this.table.options.cellEdited.call(this.table,n),this.table.options.dataChanged&&this.table.options.dataChanged.call(this.table,this.table.rowManager.getData()))},d.prototype.setValueProcessData=function(t,e){var n=!1;return this.value!=t&&(n=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),n&&this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),"table"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.recalcRowGroup(this.row)):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows)),n},d.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.block(),this.column.setFieldValue(this.row.data,t),this.table.options.reactiveData&&this.table.modExists("reactiveData")&&this.table.modules.reactiveData.unblock(),this.loaded&&this.layoutElement()},d.prototype.layoutElement=function(){this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&"row"===this.row.type&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),(this.column.definition.contextMenu||this.column.definition.clickMenu)&&this.table.modExists("menu")&&this.table.modules.menu.initializeCell(this),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},d.prototype.setWidth=function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled},d.prototype.clearWidth=function(){this.width="",this.element.style.width=""},d.prototype.getWidth=function(){return this.width||this.element.offsetWidth},d.prototype.setMinWidth=function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled},d.prototype.setMaxWidth=function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled},d.prototype.checkHeight=function(){this.row.reinitializeHeight()},d.prototype.clearHeight=function(){this.element.style.height="",this.height=null},d.prototype.setHeight=function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled},d.prototype.getHeight=function(){return this.height||this.element.offsetHeight},d.prototype.show=function(){this.element.style.display=this.column.vertAlign?"inline-flex":""},d.prototype.hide=function(){this.element.style.display="none"},d.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},d.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var e=this.table.modules.edit.getCurrentCell();e&&e._getSelf()===this?this.table.modules.edit.cancelEdit():t.warn("Cancel Editor Error - This cell is not currently being edited ")}},d.prototype.validate=function(){return!this.column.modules.validate||!this.table.modExists("validate",!0)||!0===this.table.modules.validate.validate(this.column.modules.validate,this,this.getValue())},d.prototype.delete=function(){!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.modules.validate&&this.modules.validate.invalid&&this.table.modules.validate.clearValidation(this),this.modules.edit&&this.modules.edit.edited&&this.table.modules.edit.clearEdited(this),this.table.options.history&&this.table.modules.history.clearComponentHistory(this),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}},d.prototype.nav=function(){var t=this,e=!1,n=this.row.getCellIndex(this);return{next:function(){var e,n=this.right();return!!n||!(!(e=t.table.rowManager.nextDisplayRow(t.row,!0))||!(n=e.findNextEditableCell(-1)))&&(n.edit(),!0)},prev:function(){var e,n=this.left();return!!n||!(!(e=t.table.rowManager.prevDisplayRow(t.row,!0))||!(n=e.findPrevEditableCell(e.cells.length)))&&(n.edit(),!0)},left:function(){return!!(e=t.row.findPrevEditableCell(n))&&(e.edit(),!0)},right:function(){return!!(e=t.row.findNextEditableCell(n))&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[n].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[n].edit()}}},d.prototype.getIndex=function(){this.row.getCellIndex(this)},d.prototype.getComponent=function(){return this.component||(this.component=new p(this)),this.component};var f=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};f.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},f.prototype._initialize=function(t){if(this.table.options.footerElement)switch(o(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},f.prototype.getElement=function(){return this.element},f.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},f.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},f.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},f.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},f.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},f.prototype.redraw=function(){this.links.forEach((function(t){t.footerRedraw()}))};var m=function t(e,n){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.modules={},this.initializeElement(e)&&(this.initializeOptions(n||{}),this._create()),t.prototype.comms.register(this)};m.prototype.defaultOptions={height:!1,minHeight:!1,maxHeight:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnMaxWidth:!1,columnHeaderVertAlign:"top",columnVertAlign:!1,resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],cellHozAlign:"",cellVertAlign:"",headerHozAlign:"",data:[],autoColumns:!1,autoColumnsDefinitions:!1,reactiveData:!1,nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,initialHeaderFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,headerSort:!0,headerSortTristate:!1,headerSortElement:"<div class='tabulator-arrow'></div>",footerElement:!1,index:"id",textDirection:"auto",keybindings:[],tabEndNewRow:!1,invalidOptionWarnings:!0,clipboard:!1,clipboardCopyStyled:!0,clipboardCopyConfig:!1,clipboardCopyFormatter:!1,clipboardCopyRowRange:"active",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:{},downloadRowRange:"active",dataTree:!1,dataTreeFilter:!0,dataTreeSort:!0,dataTreeElementColumn:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},dataTreeChildColumnCalcs:!1,dataTreeSelectPropagate:!1,printAsHtml:!1,printFormatter:!1,printHeader:!1,printFooter:!1,printCopyStyle:!0,printStyled:!0,printVisibleRows:!0,printRowRange:"visible",printConfig:{},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterLiveFilterDelay:300,headerFilterPlaceholder:!1,headerVisible:!0,history:!1,locale:!1,langs:{},virtualDom:!0,virtualDomBuffer:0,virtualDomHoz:!1,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,persistenceReaderFunc:!1,persistenceWriterFunc:!1,persistence:!1,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationInitialPage:1,paginationButtonCount:5,paginationSizeSelector:!1,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupUpdateOnCellEdit:!1,groupHeader:!1,groupHeaderPrint:null,groupHeaderClipboard:null,groupHeaderHtmlOutput:null,groupHeaderDownload:null,htmlOutputConfig:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsConnectedElements:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},movableRowsElementDrop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowMouseEnter:!1,rowMouseLeave:!1,rowMouseOver:!1,rowMouseOut:!1,rowMouseMove:!1,rowContextMenu:!1,rowClickMenu:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellMouseEnter:!1,cellMouseLeave:!1,cellMouseOver:!1,cellMouseOut:!1,cellMouseMove:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:!1,dataChanged:!1,ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupContextMenu:!1,groupClickMenu:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationMode:"blocking",validationFailed:function(){},historyUndo:function(){},historyRedo:function(){},scrollHorizontal:function(){},scrollVertical:function(){}},m.prototype.initializeOptions=function(e){if(!1!==e.invalidOptionWarnings)for(var n in e)void 0===this.defaultOptions[n]&&t.warn("Invalid table constructor option:",n);for(var n in this.defaultOptions)n in e?this.options[n]=e[n]:Array.isArray(this.defaultOptions[n])?this.options[n]=Object.assign([],this.defaultOptions[n]):"object"===o(this.defaultOptions[n])&&null!==this.defaultOptions[n]?this.options[n]=Object.assign({},this.defaultOptions[n]):this.options[n]=this.defaultOptions[n]},m.prototype.initializeElement=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"==typeof e?(this.element=document.querySelector(e),!!this.element||(t.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(t.error("Tabulator Creation Error - Invalid element provided:",e),!1)},m.prototype.rtlCheck=function(){var t=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==t.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}},m.prototype._mapDepricatedFunctionality=function(){(this.options.persistentLayout||this.options.persistentSort||this.options.persistentFilter)&&(this.options.persistence||(this.options.persistence={})),this.options.dataEdited&&(t.warn("DEPRECATION WARNING - dataEdited option has been deprecated, please use the dataChanged option instead"),this.options.dataChanged=this.options.dataEdited),this.options.downloadDataFormatter&&t.warn("DEPRECATION WARNING - downloadDataFormatter option has been deprecated"),void 0!==this.options.clipboardCopyHeader&&(this.options.columnHeaders=this.options.clipboardCopyHeader,t.warn("DEPRECATION WARNING - clipboardCopyHeader option has been deprecated, please use the columnHeaders property on the clipboardCopyConfig option")),!0!==this.options.printVisibleRows&&(t.warn("printVisibleRows option is deprecated, you should now use the printRowRange option"),this.options.persistence.printRowRange="active"),!0!==this.options.printCopyStyle&&(t.warn("printCopyStyle option is deprecated, you should now use the printStyled option"),this.options.persistence.printStyled=this.options.printCopyStyle),this.options.persistentLayout&&(t.warn("persistentLayout option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.columns&&(this.options.persistence.columns=!0)),this.options.persistentSort&&(t.warn("persistentSort option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.sort&&(this.options.persistence.sort=!0)),this.options.persistentFilter&&(t.warn("persistentFilter option is deprecated, you should now use the persistence option"),!0!==this.options.persistence&&void 0===this.options.persistence.filter&&(this.options.persistence.filter=!0)),this.options.columnVertAlign&&(t.warn("columnVertAlign option is deprecated, you should now use the columnHeaderVertAlign option"),this.options.columnHeaderVertAlign=this.options.columnVertAlign)},m.prototype._clearSelection=function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")},m.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),this.rtlCheck(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new r(this),this.rowManager=new l(this),this.footerManager=new f(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this.options.virtualDomHoz&&(this.vdomHoz=new c(this)),this._buildElement(),this._loadInitialData()},m.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.reactiveData||(this.options.data=this.options.data.slice(0))},m.prototype._buildElement=function(){var e=this,n=this.element,o=this.modules,i=this.options;for(i.tableBuilding.call(this),n.classList.add("tabulator"),n.setAttribute("role","grid");n.firstChild;)n.removeChild(n.firstChild);for(var r in i.height&&(i.height=isNaN(i.height)?i.height:i.height+"px",n.style.height=i.height),!1!==i.minHeight&&(i.minHeight=isNaN(i.minHeight)?i.minHeight:i.minHeight+"px",n.style.minHeight=i.minHeight),!1!==i.maxHeight&&(i.maxHeight=isNaN(i.maxHeight)?i.maxHeight:i.maxHeight+"px",n.style.maxHeight=i.maxHeight),this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&o.layout.initialize(i.layout),o.localize.initialize(),!1!==i.headerFilterPlaceholder&&o.localize.setHeaderFilterPlaceholder(i.headerFilterPlaceholder),i.langs)o.localize.installLang(r,i.langs[r]);if(o.localize.setLocale(i.locale),"string"==typeof i.placeholder){var s=document.createElement("div");s.classList.add("tabulator-placeholder");var a=document.createElement("span");a.innerHTML=i.placeholder,s.appendChild(a),i.placeholder=s}if(n.appendChild(this.columnManager.getElement()),n.appendChild(this.rowManager.getElement()),i.footerElement&&this.footerManager.activate(),i.persistence&&this.modExists("persistence",!0)&&o.persistence.initialize(),i.movableRows&&this.modExists("moveRow")&&o.moveRow.initialize(),i.autoColumns&&this.options.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modExists("columnCalcs")&&o.columnCalcs.initialize(),this.columnManager.setColumns(i.columns),i.dataTree&&this.modExists("dataTree",!0)&&o.dataTree.initialize(),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort||i.initialSort)&&this.modExists("sort",!0)){var l=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.sort?!1===(l=o.persistence.load("sort"))&&i.initialSort&&(l=i.initialSort):i.initialSort&&(l=i.initialSort),o.sort.setSort(l)}if((i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter||i.initialFilter)&&this.modExists("filter",!0)){var c=[];i.persistence&&this.modExists("persistence",!0)&&o.persistence.config.filter?!1===(c=o.persistence.load("filter"))&&i.initialFilter&&(c=i.initialFilter):i.initialFilter&&(c=i.initialFilter),o.filter.setFilter(c)}i.initialHeaderFilter&&this.modExists("filter",!0)&&i.initialHeaderFilter.forEach((function(n){var i=e.columnManager.findColumn(n.field);if(!i)return t.warn("Column Filter Error - No matching column found:",n.field),!1;o.filter.setHeaderFilterValue(i,n.value)})),this.modExists("ajax")&&o.ajax.initialize(),i.pagination&&this.modExists("page",!0)&&o.page.initialize(),i.groupBy&&this.modExists("groupRows",!0)&&o.groupRows.initialize(),this.modExists("keybindings")&&o.keybindings.initialize(),this.modExists("selectRow")&&o.selectRow.clearSelectionData(!0),i.autoResize&&this.modExists("resizeTable")&&o.resizeTable.initialize(),this.modExists("clipboard")&&o.clipboard.initialize(),i.printAsHtml&&this.modExists("print")&&o.print.initialize(),i.tableBuilt.call(this)},m.prototype._loadInitialData=function(){var t=this;if(t.options.pagination&&t.modExists("page"))if(t.modules.page.reset(!0,!0),"local"==t.options.pagination){if(t.options.data.length)t.rowManager.setData(t.options.data,!1,!0);else{if((t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax"))return void t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}));t.rowManager.setData(t.options.data,!1,!0)}t.options.paginationInitialPage&&t.modules.page.setPage(t.options.paginationInitialPage)}else t.options.ajaxURL?t.modules.page.setPage(t.options.paginationInitialPage).then((function(){})).catch((function(){})):t.rowManager.setData([],!1,!0);else t.options.data.length?t.rowManager.setData(t.options.data):(t.options.ajaxURL||t.options.ajaxURLGenerator)&&t.modExists("ajax")?t.modules.ajax.loadData(!1,!0).then((function(){})).catch((function(){})):t.rowManager.setData(t.options.data,!1,!0)},m.prototype.destroy=function(){var t=this.element;for(m.prototype.comms.deregister(this),this.options.reactiveData&&this.modExists("reactiveData",!0)&&this.modules.reactiveData.unwatchData(),this.rowManager.rows.forEach((function(t){t.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator")},m.prototype._detectBrowser=function(){var t=navigator.userAgent||navigator.vendor||window.opera;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},m.prototype.blockRedraw=function(){return this.rowManager.blockRedraw()},m.prototype.restoreRedraw=function(){return this.rowManager.restoreRedraw()},m.prototype.setDataFromLocalFile=function(e){var n=this;return new Promise((function(o,i){var r=document.createElement("input");r.type="file",r.accept=e||".json,application/json",r.addEventListener("change",(function(e){var s,a=r.files[0],l=new FileReader;l.readAsText(a),l.onload=function(e){try{s=JSON.parse(l.result)}catch(e){return t.warn("File Load Error - File contents is invalid JSON",e),void i(e)}n.setData(s).then((function(t){o(t)})).catch((function(t){o(t)}))},l.onerror=function(e){t.warn("File Load Error - Unable to read file"),i()}})),r.click()}))},m.prototype.setData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!1,!0)},m.prototype._setData=function(t,e,n,o,i){return"string"!=typeof t?t?this.rowManager.setData(t,o,i):this.modExists("ajax")&&(this.modules.ajax.getUrl||this.options.ajaxURLGenerator)?"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0,!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(o,i):this.rowManager.setData([],o,i):0==t.indexOf("{")||0==t.indexOf("[")?this.rowManager.setData(JSON.parse(t),o,i):this.modExists("ajax",!0)?(e&&this.modules.ajax.setParams(e),n&&this.modules.ajax.setConfig(n),this.modules.ajax.setUrl(t),"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0,!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(o,i)):void 0},m.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},m.prototype.getData=function(e){return!0===e&&(t.warn("passing a boolean to the getData function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getData(e)},m.prototype.getDataCount=function(e){return!0===e&&(t.warn("passing a boolean to the getDataCount function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getDataCount(e)},m.prototype.searchRows=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,n)},m.prototype.searchData=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,n)},m.prototype.getHtml=function(t,e,n){if(this.modExists("export",!0))return this.modules.export.getHtml(t,e,n)},m.prototype.print=function(t,e,n){if(this.modExists("print",!0))return this.modules.print.printFullscreen(t,e,n)},m.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},m.prototype.replaceData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!0)},m.prototype.updateData=function(e){var n=this,o=this,i=0;return new Promise((function(r,s){n.modExists("ajax")&&n.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);e&&(i++,e.updateData(t).then((function(){--i||r()})))})):(t.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},m.prototype.addData=function(e,n,o){var i=this;return new Promise((function(r,s){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?i.rowManager.addRows(e,n,o).then((function(t){var e=[];t.forEach((function(t){e.push(t.getComponent())})),r(e)})):(t.warn("Update Error - No data provided"),s("Update Error - No data provided"))}))},m.prototype.updateOrAddData=function(e){var n=this,o=this,i=[],r=0;return new Promise((function(s,a){n.modExists("ajax")&&n.modules.ajax.blockActiveRequest(),"string"==typeof e&&(e=JSON.parse(e)),e?e.forEach((function(t){var e=o.rowManager.findRow(t[o.options.index]);r++,e?e.updateData(t).then((function(){r--,i.push(e.getComponent()),r||s(i)})):o.rowManager.addRows(t).then((function(t){r--,i.push(t[0].getComponent()),r||s(i)}))})):(t.warn("Update Error - No data provided"),a("Update Error - No data provided"))}))},m.prototype.getRow=function(e){var n=this.rowManager.findRow(e);return n?n.getComponent():(t.warn("Find Error - No matching row found:",e),!1)},m.prototype.getRowFromPosition=function(e,n){var o=this.rowManager.getRowFromPosition(e,n);return o?o.getComponent():(t.warn("Find Error - No matching row found:",e),!1)},m.prototype.deleteRow=function(e){var n=this;return new Promise((function(o,i){var r=n,s=0,a=0,l=[];function c(){++s==e.length&&a&&(r.rowManager.reRenderInPosition(),o())}Array.isArray(e)||(e=[e]),e.forEach((function(e){var o=n.rowManager.findRow(e,!0);o?l.push(o):(t.warn("Delete Error - No matching row found:",e),i("Delete Error - No matching row found"),c())})),l.sort((function(t,e){return n.rowManager.rows.indexOf(t)>n.rowManager.rows.indexOf(e)?1:-1})),l.forEach((function(t){t.delete().then((function(){a++,c()})).catch((function(t){c(),i(t)}))}))}))},m.prototype.addRow=function(t,e,n){var o=this;return new Promise((function(i,r){"string"==typeof t&&(t=JSON.parse(t)),o.rowManager.addRows(t,e,n).then((function(t){o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(o.rowManager.activeRows),i(t[0].getComponent())}))}))},m.prototype.updateOrAddRow=function(t,e){var n=this;return new Promise((function(o,i){var r=n.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then((function(){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),o(r.getComponent())})).catch((function(t){i(t)})):r=n.rowManager.addRows(e).then((function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),o(t[0].getComponent())})).catch((function(t){i(t)}))}))},m.prototype.updateRow=function(e,n){var o=this;return new Promise((function(i,r){var s=o.rowManager.findRow(e);"string"==typeof n&&(n=JSON.parse(n)),s?s.updateData(n).then((function(){i(s.getComponent())})).catch((function(t){r(t)})):(t.warn("Update Error - No matching row found:",e),r("Update Error - No matching row found"))}))},m.prototype.scrollToRow=function(e,n,o){var i=this;return new Promise((function(r,s){var a=i.rowManager.findRow(e);a?i.rowManager.scrollToRow(a,n,o).then((function(){r()})).catch((function(t){s(t)})):(t.warn("Scroll Error - No matching row found:",e),s("Scroll Error - No matching row found"))}))},m.prototype.moveRow=function(e,n,o){var i=this.rowManager.findRow(e);i?i.moveToRow(n,o):t.warn("Move Error - No matching row found:",e)},m.prototype.getRows=function(e){return!0===e&&(t.warn("passing a boolean to the getRows function is deprecated, you should now pass the string 'active'"),e="active"),this.rowManager.getComponents(e)},m.prototype.getRowPosition=function(e,n){var o=this.rowManager.findRow(e);return o?this.rowManager.getRowPosition(o,n):(t.warn("Position Error - No matching row found:",e),!1)},m.prototype.copyToClipboard=function(t){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t)},m.prototype.setColumns=function(t){this.columnManager.setColumns(t)},m.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},m.prototype.getColumn=function(e){var n=this.columnManager.findColumn(e);return n?n.getComponent():(t.warn("Find Error - No matching column found:",e),!1)},m.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},m.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},m.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},m.prototype.showColumn=function(e){var n=this.columnManager.findColumn(e);if(!n)return t.warn("Column Show Error - No matching column found:",e),!1;n.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},m.prototype.hideColumn=function(e){var n=this.columnManager.findColumn(e);if(!n)return t.warn("Column Hide Error - No matching column found:",e),!1;n.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},m.prototype.toggleColumn=function(e){var n=this.columnManager.findColumn(e);if(!n)return t.warn("Column Visibility Toggle Error - No matching column found:",e),!1;n.visible?n.hide():n.show()},m.prototype.addColumn=function(t,e,n){var o=this;return new Promise((function(i,r){var s=o.columnManager.findColumn(n);o.columnManager.addColumn(t,e,s).then((function(t){i(t.getComponent())})).catch((function(t){r(t)}))}))},m.prototype.deleteColumn=function(e){var n=this;return new Promise((function(o,i){var r=n.columnManager.findColumn(e);r?r.delete().then((function(){o()})).catch((function(t){i(t)})):(t.warn("Column Delete Error - No matching column found:",e),i())}))},m.prototype.updateColumnDefinition=function(e,n){var o=this;return new Promise((function(i,r){var s=o.columnManager.findColumn(e);s?s.updateDefinition(n).then((function(t){i(t)})).catch((function(t){r(t)})):(t.warn("Column Update Error - No matching column found:",e),r())}))},m.prototype.moveColumn=function(e,n,o){var i=this.columnManager.findColumn(e),r=this.columnManager.findColumn(n);i?r?this.columnManager.moveColumn(i,r,o):t.warn("Move Error - No matching column found:",r):t.warn("Move Error - No matching column found:",e)},m.prototype.scrollToColumn=function(e,n,o){var i=this;return new Promise((function(r,s){var a=i.columnManager.findColumn(e);a?i.columnManager.scrollToColumn(a,n,o).then((function(){r()})).catch((function(t){s(t)})):(t.warn("Scroll Error - No matching column found:",e),s("Scroll Error - No matching column found"))}))},m.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},m.prototype.getLocale=function(){return this.modules.localize.getLocale()},m.prototype.getLang=function(t){return this.modules.localize.getLang(t)},m.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},m.prototype.setHeight=function(e){"classic"!==this.rowManager.renderMode?(this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.setRenderMode(),this.rowManager.redraw()):t.warn("setHeight function is not available in classic render mode")},m.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},m.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},m.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},m.prototype.setFilter=function(t,e,n,o){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,n,o),this.rowManager.filterRefresh())},m.prototype.refreshFilter=function(){this.modExists("filter",!0)&&this.rowManager.filterRefresh()},m.prototype.addFilter=function(t,e,n,o){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,n,o),this.rowManager.filterRefresh())},m.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},m.prototype.setHeaderFilterFocus=function(e){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(e);if(!n)return t.warn("Column Filter Focus Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterFocus(n)}},m.prototype.getHeaderFilterValue=function(e){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(e);if(n)return this.modules.filter.getHeaderFilterValue(n);t.warn("Column Filter Error - No matching column found:",e)}},m.prototype.setHeaderFilterValue=function(e,n){if(this.modExists("filter",!0)){var o=this.columnManager.findColumn(e);if(!o)return t.warn("Column Filter Error - No matching column found:",e),!1;this.modules.filter.setHeaderFilterValue(o,n)}},m.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},m.prototype.removeFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,n),this.rowManager.filterRefresh())},m.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},m.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},m.prototype.selectRow=function(e){this.modExists("selectRow",!0)&&(!0===e&&(t.warn("passing a boolean to the selectRowselectRow function is deprecated, you should now pass the string 'active'"),e="active"),this.modules.selectRow.selectRows(e))},m.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},m.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},m.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},m.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},m.prototype.getInvalidCells=function(){if(this.modExists("validate",!0))return this.modules.validate.getInvalidCells()},m.prototype.clearCellValidation=function(t){var e=this;this.modExists("validate",!0)&&(t||(t=this.modules.validate.getInvalidCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.validate.clearValidation(t._getSelf())})))},m.prototype.validate=function(t){var e=[];return this.rowManager.rows.forEach((function(t){var n=t.validate();!0!==n&&(e=e.concat(n))})),!e.length||e},m.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},m.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise((function(t,e){e()}))},m.prototype.setPageToRow=function(t){var e=this;return new Promise((function(n,o){e.options.pagination&&e.modExists("page")&&(t=e.rowManager.findRow(t))?e.modules.page.setPageToRow(t).then((function(){n()})).catch((function(){o()})):o()}))},m.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then((function(){})).catch((function(){}))},m.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},m.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},m.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},m.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},m.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},m.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},m.prototype.setGroupValues=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupValues=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")},m.prototype.setGroupStartOpen=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):t.warn("Grouping Update - cant refresh view, no groups have been set")},m.prototype.setGroupHeader=function(e){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=e,this.modules.groupRows.initialize(),this.options.groupBy?(this.rowManager.refreshActiveData("group"),this.options.persistence&&this.modExists("persistence",!0)&&this.modules.persistence.config.group&&this.modules.persistence.save("group")):t.warn("Grouping Update - cant refresh view, no groups have been set")},m.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},m.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},m.prototype.getEditedCells=function(){if(this.modExists("edit",!0))return this.modules.edit.getEditedCells()},m.prototype.clearCellEdited=function(t){var e=this;this.modExists("edit",!0)&&(t||(t=this.modules.edit.getEditedCells()),Array.isArray(t)||(t=[t]),t.forEach((function(t){e.modules.edit.clearEdited(t._getSelf())})))},m.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},m.prototype.recalc=function(){this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.recalcAll(this.rowManager.activeRows)},m.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().prev()},m.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&t.nav().next()},m.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},m.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},m.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},m.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().down())},m.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},m.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},m.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},m.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},m.prototype.clearHistory=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.clear()},m.prototype.download=function(t,e,n,o){this.modExists("download",!0)&&this.modules.download.download(t,e,n,o)},m.prototype.downloadToTab=function(t,e,n,o){this.modExists("download",!0)&&this.modules.download.download(t,e,n,o,!0)},m.prototype.tableComms=function(t,e,n,o){this.modules.comms.receive(t,e,n,o)},m.prototype.moduleBindings={},m.prototype.extendModule=function(e,n,i){if(m.prototype.moduleBindings[e]){var r=m.prototype.moduleBindings[e].prototype[n];if(r)if("object"==(void 0===i?"undefined":o(i)))for(var s in i)r[s]=i[s];else t.warn("Module Error - Invalid value type, it must be an object");else t.warn("Module Error - property does not exist:",n)}else t.warn("Module Error - module does not exist:",e)},m.prototype.registerModule=function(t,e){m.prototype.moduleBindings[t]=e},m.prototype.bindModules=function(){for(var t in this.modules={},m.prototype.moduleBindings)this.modules[t]=new m.prototype.moduleBindings[t](this)},m.prototype.modExists=function(e,n){return!!this.modules[e]||(n&&t.error("Tabulator Module Not Installed: "+e),!1)},m.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Object.assign(Array.isArray(t)?[]:{},t);for(var n in t)null!=t[n]&&"object"===o(t[n])&&(t[n]instanceof Date?e[n]=new Date(t[n]):e[n]=this.deepClone(t[n]));return e}},m.prototype.comms={tables:[],register:function(t){m.prototype.comms.tables.push(t)},deregister:function(t){var e=m.prototype.comms.tables.indexOf(t);e>-1&&m.prototype.comms.tables.splice(e,1)},lookupTable:function(e,n){var o,i,r=[];if("string"==typeof e){if((o=document.querySelectorAll(e)).length)for(var s=0;s<o.length;s++)(i=m.prototype.comms.matchElement(o[s]))&&r.push(i)}else"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e instanceof m?(i=m.prototype.comms.matchElement(e))&&r.push(i):Array.isArray(e)?e.forEach((function(t){r=r.concat(m.prototype.comms.lookupTable(t))})):n||t.warn("Table Connection Error - Invalid Selector",e);return r},matchElement:function(t){return m.prototype.comms.tables.find((function(e){return t instanceof m?e===t:e.element===t}))}},m.prototype.findTable=function(t){var e=m.prototype.comms.lookupTable(t,!0);return!(Array.isArray(e)&&!e.length)&&e};var g=function(t){this.table=t,this.mode=null};g.prototype.initialize=function(e){this.modes[e]?this.mode=e:(t.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},g.prototype.getMode=function(){return this.mode},g.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),0===this.mode.indexOf("fitData")&&this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.columns&&this.table.modules.persistence.save("columns")},g.prototype.modes={fitData:function(t){this.table.options.virtualDomHoz?this.table.vdomHoz.fitDataLayoutOverride():t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataTable:function(t){t.forEach((function(t){t.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataStretch:function(t){var e=this,n=0,o=this.table.rowManager.element.clientWidth,i=0,r=!1;t.forEach((function(t,o){t.widthFixed||t.reinitializeWidth(),(e.table.options.responsiveLayout?t.modules.responsive.visible:t.visible)&&(r=t),t.visible&&(n+=t.getWidth())})),r?(i=o-n+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),i>0?r.setWidth(i):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e,n,o=this.table.element.clientWidth,i=0,r=0,s=0,a=[],l=[],c=0,u=0;function h(t){return"string"==typeof t?t.indexOf("%")>-1?o/100*parseInt(t):parseInt(t):t}function p(t,e,n,o){var i=[],r=0,a=0,l=0,c=s,u=0,d=0,f=[];function m(t){return n*(t.column.definition.widthGrow||1)}function g(t){return h(t.width)-n*(t.column.definition.widthShrink||0)}return t.forEach((function(t,r){var s=o?g(t):m(t);t.column.minWidth>=s?i.push(t):t.column.maxWidth&&t.column.maxWidth<s?(t.width=t.column.maxWidth,e-=t.column.maxWidth,(c-=o?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)&&(n=Math.floor(e/c))):(f.push(t),d+=o?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)})),i.length?(i.forEach((function(t){r+=o?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth})),u=(a=e-r)-(l=d?Math.floor(a/d):a)*d,u+=p(f,a,l,o)):(u=d?e-Math.floor(e/d)*d:e,f.forEach((function(t){t.width=o?g(t):m(t)}))),u}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(o-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach((function(t){var e,n,o;t.visible&&(e=t.definition.width,n=parseInt(t.minWidth),e?(o=h(e),i+=o>n?o:n,t.definition.widthShrink&&(l.push({column:t,width:o>n?o:n}),c+=t.definition.widthShrink)):(a.push({column:t,width:0}),s+=t.definition.widthGrow||1))})),r=o-i,e=Math.floor(r/s);u=p(a,r,e,!1);a.length&&u>0&&(a[a.length-1].width+=+u),a.forEach((function(t){r-=t.width})),(n=Math.abs(u)+r)>0&&c&&(u=p(l,n,Math.floor(n/c),!0)),l.length&&(l[l.length-1].width-=u),a.forEach((function(t){t.column.setWidth(t.width)})),l.forEach((function(t){t.column.setWidth(t.width)}))}},m.prototype.registerModule("layout",g);var v=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={},this.langList={}};v.prototype.initialize=function(){this.langList=m.prototype.helpers.deepClone(this.langs)},v.prototype.setHeaderFilterPlaceholder=function(t){this.langList.default.headerFilters.default=t},v.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langList.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},v.prototype.installLang=function(t,e){this.langList[t]?this._setLangProp(this.langList[t],e):this.langList[t]=e},v.prototype._setLangProp=function(t,e){for(var n in e)t[n]&&"object"==o(t[n])?this._setLangProp(t[n],e[n]):t[n]=e[n]},v.prototype.setLocale=function(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){var n=e.split("-")[0];this.langList[n]?(t.warn("Localization Error - Exact matching locale not found, using closest match: ",e,n),e=n):(t.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=m.prototype.helpers.deepClone(this.langList.default||{}),"default"!=e&&function t(e,n){for(var i in e)"object"==o(e[i])?(n[i]||(n[i]={}),t(e[i],n[i])):n[i]=e[i]}(this.langList[e],this.lang),this.table.options.localized.call(this.table,this.locale,this.lang),this._executeBindings()},v.prototype.getLocale=function(t){return self.locale},v.prototype.getLang=function(t){return t?this.langList[t]:this.lang},v.prototype.getText=function(t,e){var n=(t=e?t+"|"+e:t).split("|");return this._getLangElement(n,this.locale)||""},v.prototype._getLangElement=function(t,e){var n=this.lang;return t.forEach((function(t){var e;n&&(e=n[t],n=void 0!==e&&e)})),n},v.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},v.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach((function(n){n(t.getText(e),t.lang)}))};for(var n in t.bindings)e(n)},v.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},m.prototype.registerModule("localize",v);var b=function(t){this.table=t};b.prototype.getConnections=function(t){var e=this,n=[];return m.prototype.comms.lookupTable(t).forEach((function(t){e.table!==t&&n.push(t)})),n},b.prototype.send=function(e,n,o,i){var r=this,s=this.getConnections(e);s.forEach((function(t){t.tableComms(r.table.element,n,o,i)})),!s.length&&e&&t.warn("Table Connection Error - No tables matching selector found",e)},b.prototype.receive=function(e,n,o,i){if(this.table.modExists(n))return this.table.modules[n].commsReceived(e,o,i);t.warn("Inter-table Comms Error - no such module:",n)},m.prototype.registerModule("comms",b);var y=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard","print","htmlOutput"]};y.prototype.initializeColumn=function(t){var e=this,n=!1,o={};this.allowedTypes.forEach((function(i){var r,s="accessor"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[s]&&(r=e.lookupAccessor(t.definition[s]))&&(n=!0,o[s]={accessor:r,params:t.definition[s+"Params"]||{}})})),n&&(t.modules.accessor=o)},y.prototype.lookupAccessor=function(e){var n=!1;switch(void 0===e?"undefined":o(e)){case"string":this.accessors[e]?n=this.accessors[e]:t.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":n=e}return n},y.prototype.transformRow=function(t,e){var n="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),o=t.getComponent(),i=m.prototype.helpers.deepClone(t.data||{});return this.table.columnManager.traverse((function(t){var r,s,a,l;t.modules.accessor&&(s=t.modules.accessor[n]||t.modules.accessor.accessor||!1)&&"undefined"!=(r=t.getFieldValue(i))&&(l=t.getComponent(),a="function"==typeof s.params?s.params(r,i,e,l,o):s.params,t.setFieldValue(i,s.accessor(r,i,e,a,l,o)))})),i},y.prototype.accessors={},m.prototype.registerModule("accessor",y);var w=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};w.prototype.initialize=function(){var e;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=e.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&("string"==typeof this.table.options.ajaxLoaderError?((e=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderError.trim(),this.errorElement=e.content.firstChild):this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,t.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):t.error("Pagination plugin is required for progressive ajax loading"))},w.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},w.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},w.prototype.setParams=function(t,e){if(e)for(var n in this.params=this.params||{},t)this.params[n]=t[n];else this.params=t},w.prototype.getParams=function(){return this.params||{}},w.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},w.prototype._loadDefaultConfig=function(t){if(!this.config||t)for(var e in this.config={},this.defaultConfig)this.config[e]=this.defaultConfig[e]},w.prototype.setUrl=function(t){this.url=t},w.prototype.getUrl=function(){return this.url},w.prototype.loadData=function(t,e){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t,e)},w.prototype.nextPage=function(t){this.loading||t<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then((function(){})).catch((function(){}))},w.prototype.blockActiveRequest=function(){this.requestOrder++},w.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},w.prototype._loadDataStandard=function(t,e){var n=this;return new Promise((function(o,i){n.sendRequest(t).then((function(r){n.table.rowManager.setData(r,t,e).then((function(){o()})).catch((function(t){i(t)}))})).catch((function(t){i(t)}))}))},w.prototype.generateParamsList=function(t,e){var n=this,i=[];if(e=e||"",Array.isArray(t))t.forEach((function(t,o){i=i.concat(n.generateParamsList(t,e?e+"["+o+"]":o))}));else if("object"===(void 0===t?"undefined":o(t)))for(var r in t)i=i.concat(n.generateParamsList(t[r],e?e+"["+r+"]":r));else i.push({key:e,value:t});return i},w.prototype.serializeParams=function(t){var e=this.generateParamsList(t),n=[];return e.forEach((function(t){n.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))})),n.join("&")},w.prototype.sendRequest=function(e){var n,o=this,i=this,r=i.url;return i.requestOrder++,n=i.requestOrder,i._loadDefaultConfig(),new Promise((function(s,a){!1!==i.table.options.ajaxRequesting.call(o.table,i.url,i.params)?(i.loading=!0,e||i.showLoader(),o.loaderPromise(r,i.config,i.params).then((function(e){n===i.requestOrder?(i.table.options.ajaxResponse&&(e=i.table.options.ajaxResponse.call(i.table,i.url,i.params,e)),s(e),i.hideLoader(),i.loading=!1):t.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made")})).catch((function(e){t.error("Ajax Load Error: ",e),i.table.options.ajaxError.call(i.table,e),i.showError(),setTimeout((function(){i.hideLoader()}),3e3),i.loading=!1,a(e)}))):a()}))},w.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},w.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},w.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},w.prototype.defaultConfig={method:"GET"},w.prototype.defaultURLGenerator=function(t,e,n){return t&&n&&Object.keys(n).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+=(t.includes("?")?"&":"?")+this.modules.ajax.serializeParams(n))),t},w.prototype.defaultLoaderPromise=function(e,n,i){var r,s=this;return new Promise((function(a,l){if(e=s.urlGenerator.call(s.table,e,n,i),"GET"!=n.method.toUpperCase())if(r="object"===o(s.table.options.ajaxContentType)?s.table.options.ajaxContentType:s.contentTypeFormatters[s.table.options.ajaxContentType]){for(var c in r.headers)n.headers||(n.headers={}),void 0===n.headers[c]&&(n.headers[c]=r.headers[c]);n.body=r.body.call(s,e,n,i)}else t.warn("Ajax Error - Invalid ajaxContentType value:",s.table.options.ajaxContentType);e?(void 0===n.headers&&(n.headers={}),void 0===n.headers.Accept&&(n.headers.Accept="application/json"),void 0===n.headers["X-Requested-With"]&&(n.headers["X-Requested-With"]="XMLHttpRequest"),void 0===n.mode&&(n.mode="cors"),"cors"==n.mode?(void 0===n.headers["Access-Control-Allow-Origin"]&&(n.headers["Access-Control-Allow-Origin"]=window.location.origin),void 0===n.credentials&&(n.credentials="same-origin")):void 0===n.credentials&&(n.credentials="include"),fetch(e,n).then((function(e){e.ok?e.json().then((function(t){a(t)})).catch((function(e){l(e),t.warn("Ajax Load Error - Invalid JSON returned",e)})):(t.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),l(e))})).catch((function(e){t.error("Ajax Load Error - Connection Error: ",e),l(e)}))):(t.warn("Ajax Load Error - No URL Set"),a([]))}))},w.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,n){return JSON.stringify(n)}},form:{headers:{},body:function(t,e,n){var o=this.generateParamsList(n),i=new FormData;return o.forEach((function(t){i.append(t.key,t.value)})),i}}},m.prototype.registerModule("ajax",w);var E=function(t){this._row=t};E.prototype.getData=function(t){return this._row.getData(t)},E.prototype.getElement=function(){return this._row.getElement()},E.prototype.getTable=function(){return this._row.table},E.prototype.getCells=function(){var t=[];return this._row.getCells().forEach((function(e){t.push(e.getComponent())})),t},E.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},E.prototype._getSelf=function(){return this._row};var C=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};C.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},C.prototype.initialize=function(){this.genColumn=new a({field:"value"},this)},C.prototype.registerColumnField=function(){},C.prototype.initializeColumn=function(e){var n=e.definition,i={topCalcParams:n.topCalcParams||{},botCalcParams:n.bottomCalcParams||{}};if(n.topCalc){switch(o(n.topCalc)){case"string":this.calculations[n.topCalc]?i.topCalc=this.calculations[n.topCalc]:t.warn("Column Calc Error - No such calculation found, ignoring: ",n.topCalc);break;case"function":i.topCalc=n.topCalc}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(n.bottomCalc){switch(o(n.bottomCalc)){case"string":this.calculations[n.bottomCalc]?i.botCalc=this.calculations[n.bottomCalc]:t.warn("Column Calc Error - No such calculation found, ignoring: ",n.bottomCalc);break;case"function":i.botCalc=n.bottomCalc}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},C.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},C.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},C.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},C.prototype.scrollHorizontal=function(t){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-t+"px")},C.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},C.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},C.prototype.recalcAll=function(){var t=this;(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalc(this.table.rowManager.activeRows),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs&&table.modules.groupRows.getChildGroups().forEach((function(e){t.recalcGroup(e)})))},C.prototype.recalcGroup=function(t){var e,n;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),n=this.generateRowData("bottom",e),t.calcs.bottom.updateData(n),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),n=this.generateRowData("top",e),t.calcs.top.updateData(n),t.calcs.top.reinitialize()))},C.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},C.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},C.prototype.rowsToData=function(t){var e=this,n=[];return t.forEach((function(t){if(n.push(t.getData()),e.table.options.dataTree&&e.table.options.dataTreeChildColumnCalcs&&t.modules.dataTree.open){var o=e.rowsToData(e.table.modules.dataTree.getFilteredTreeChildren(t));n=n.concat(o)}})),n},C.prototype.generateRow=function(t,e){var n,o=this,i=this.generateRowData(t,e);return o.table.modExists("mutator")&&o.table.modules.mutator.disable(),n=new h(i,this,"calc"),o.table.modExists("mutator")&&o.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),n.component=!1,n.getComponent=function(){return this.component||(this.component=new E(this)),this.component},n.generateCells=function(){var e=[];o.table.columnManager.columnsByIndex.forEach((function(i){o.genColumn.setField(i.getField()),o.genColumn.hozAlign=i.hozAlign,i.definition[t+"CalcFormatter"]&&o.table.modExists("format")?o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter(i.definition[t+"CalcFormatter"]),params:i.definition[t+"CalcFormatterParams"]||{}}:o.genColumn.modules.format={formatter:o.table.modules.format.getFormatter("plaintext"),params:{}},o.genColumn.definition.cssClass=i.definition.cssClass;var r=new d(o.genColumn,n);r.getElement(),r.column=i,r.setWidth(),i.cells.push(r),e.push(r),i.visible||r.hide()})),this.cells=e},n},C.prototype.generateRowData=function(t,e){var n,o,i={},r="top"==t?this.topCalcs:this.botCalcs,s="top"==t?"topCalc":"botCalc";return r.forEach((function(t){var r=[];t.modules.columnCalcs&&t.modules.columnCalcs[s]&&(e.forEach((function(e){r.push(t.getFieldValue(e))})),o=s+"Params",n="function"==typeof t.modules.columnCalcs[o]?t.modules.columnCalcs[o](r,e):t.modules.columnCalcs[o],t.setFieldValue(i,t.modules.columnCalcs[s](r,e,n)))})),i},C.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},C.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},C.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},C.prototype.getResults=function(){var t=this,e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach((function(n){e[n.getKey()]=t.getGroupResults(n)})):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e},C.prototype.getGroupResults=function(t){var e=this,n=t._getSelf(),o=t.getSubGroups(),i={};return o.forEach((function(t){i[t.getKey()]=e.getGroupResults(t)})),{top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:i}},C.prototype.calculations={avg:function(t,e,n){var o=0,i=void 0!==n.precision?n.precision:2;return t.length&&(o=t.reduce((function(t,e){return Number(t)+Number(e)})),o/=t.length,o=!1!==i?o.toFixed(i):o),parseFloat(o).toString()},max:function(t,e,n){var o=null,i=void 0!==n.precision&&n.precision;return t.forEach((function(t){((t=Number(t))>o||null===o)&&(o=t)})),null!==o?!1!==i?o.toFixed(i):o:""},min:function(t,e,n){var o=null,i=void 0!==n.precision&&n.precision;return t.forEach((function(t){((t=Number(t))<o||null===o)&&(o=t)})),null!==o?!1!==i?o.toFixed(i):o:""},sum:function(t,e,n){var o=0,i=void 0!==n.precision&&n.precision;return t.length&&t.forEach((function(t){t=Number(t),o+=isNaN(t)?0:Number(t)})),!1!==i?o.toFixed(i):o},concat:function(t,e,n){var o=0;return t.length&&(o=t.reduce((function(t,e){return String(t)+String(e)}))),o},count:function(t,e,n){var o=0;return t.length&&t.forEach((function(t){t&&o++})),o}},m.prototype.registerModule("columnCalcs",C);var x=function(t){this.table=t,this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0};x.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(e){var n,o;if(!t.blocked){if(e.preventDefault(),t.customSelection)n=t.customSelection,t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n));else{var i=t.table.modules.export.generateExportList(t.table.options.clipboardCopyConfig,t.table.options.clipboardCopyStyled,t.rowRange,"clipboard");n=(o=t.table.modules.export.genereateHTMLTable(i))?t.generatePlainContent(i):"",t.table.options.clipboardCopyFormatter&&(n=t.table.options.clipboardCopyFormatter("plain",n),o=t.table.options.clipboardCopyFormatter("html",o))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",n),o&&e.clipboardData.setData("text/html",o)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",n),o&&e.originalEvent.clipboardData.setData("text/html",o)),t.table.options.clipboardCopied.call(t.table,n,o),t.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(e){t.paste(e)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},x.prototype.reset=function(){this.blocked=!0,this.customSelection=!1},x.prototype.generatePlainContent=function(t){var e=[];return t.forEach((function(t){var n=[];t.columns.forEach((function(e){var i="";if(e)if("group"===t.type&&(e.value=e.component.getKey()),null===e.value)i="";else switch(o(e.value)){case"object":i=JSON.stringify(e.value);break;case"undefined":i="";break;default:i=e.value}n.push(i)})),e.push(n.join("\t"))})),e.join("\n")},x.prototype.copy=function(t,e){var n,o;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=t||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((t=document.createRange()).selectNodeContents(this.table.element),(n=window.getSelection()).toString()&&e&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(t)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((o=document.body.createTextRange()).moveToElementText(this.table.element),o.select()),document.execCommand("copy"),n&&n.removeAllRanges())},x.prototype.setPasteAction=function(e){switch(void 0===e?"undefined":o(e)){case"string":this.pasteAction=this.pasteActions[e],this.pasteAction||t.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}},x.prototype.setPasteParser=function(e){switch(void 0===e?"undefined":o(e)){case"string":this.pasteParser=this.pasteParsers[e],this.pasteParser||t.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}},x.prototype.paste=function(t){var e,n,o;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),(n=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),o=this.pasteAction.call(this,n),this.table.options.clipboardPasted.call(this.table,e,n,o)):this.table.options.clipboardPasteError.call(this.table,e))},x.prototype.mutateData=function(t){var e=this,n=[];return Array.isArray(t)?t.forEach((function(t){n.push(e.table.modules.mutator.transformRow(t,"clipboard"))})):n=t,n},x.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},x.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},x.prototype.pasteParsers={table:function(t){var e=[],n=!0,o=this.table.columnManager.columns,i=[],r=[];return(t=t.split("\n")).forEach((function(t){e.push(t.split("\t"))})),!(!e.length||1===e.length&&e[0].length<2)&&(!0,e[0].forEach((function(t){var e=o.find((function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()}));e?i.push(e):n=!1})),n||(n=!0,i=[],e[0].forEach((function(t){var e=o.find((function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()}));e?i.push(e):n=!1})),n||(i=this.table.columnManager.columnsByIndex)),n&&e.shift(),e.forEach((function(t){var e={};t.forEach((function(t,n){i[n]&&(e[i[n].field]=t)})),r.push(e)})),r)}},x.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},m.prototype.registerModule("clipboard",x);var M=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0};M.prototype.initialize=function(){var t=null,e=this.table.columnManager.getFirstVisibileColumn(),n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.elementField=n.dataTreeElementColumn||!!e&&e.field,n.dataTreeBranchElement&&(!0===n.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof n.dataTreeBranchElement?((t=document.createElement("div")).innerHTML=n.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=n.dataTreeBranchElement),n.dataTreeCollapseElement?"string"==typeof n.dataTreeCollapseElement?((t=document.createElement("div")).innerHTML=n.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?"string"==typeof n.dataTreeExpandElement?((t=document.createElement("div")).innerHTML=n.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),o(n.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,e){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(t,e){return n.dataTreeStartExpanded[e]}}},M.prototype.initializeRow=function(t){var e=t.getData()[this.field],n=Array.isArray(e),i=n||!n&&"object"===(void 0===e?"undefined":o(e))&&null!==e;!i&&t.modules.dataTree&&t.modules.dataTree.branchEl&&t.modules.dataTree.branchEl.parentNode.removeChild(t.modules.dataTree.branchEl),!i&&t.modules.dataTree&&t.modules.dataTree.controlEl&&t.modules.dataTree.controlEl.parentNode.removeChild(t.modules.dataTree.controlEl),t.modules.dataTree={index:t.modules.dataTree?t.modules.dataTree.index:0,open:!!i&&(t.modules.dataTree?t.modules.dataTree.open:this.startOpen(t.getComponent(),0)),controlEl:!(!t.modules.dataTree||!i)&&t.modules.dataTree.controlEl,branchEl:!(!t.modules.dataTree||!i)&&t.modules.dataTree.branchEl,parent:!!t.modules.dataTree&&t.modules.dataTree.parent,children:i}},M.prototype.layoutRow=function(t){var e=(this.elementField?t.getCell(this.elementField):t.getCells()[0]).getElement(),n=t.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(t,e),t.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),e.insertBefore(n.branchEl,e.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?e.style.paddingRight=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":e.style.paddingLeft=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")},M.prototype.generateControlElement=function(t,e){var n=this,o=t.modules.dataTree,i=(e=e||t.getCells()[0].getElement(),o.controlEl);!1!==o.children&&(o.open?(o.controlEl=this.collapseEl.cloneNode(!0),o.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.collapseRow(t)}))):(o.controlEl=this.expandEl.cloneNode(!0),o.controlEl.addEventListener("click",(function(e){e.stopPropagation(),n.expandRow(t)}))),o.controlEl.addEventListener("mousedown",(function(t){t.stopPropagation()})),i&&i.parentNode===e?i.parentNode.replaceChild(o.controlEl,i):e.insertBefore(o.controlEl,e.firstChild))},M.prototype.setDisplayIndex=function(t){this.displayIndex=t},M.prototype.getDisplayIndex=function(){return this.displayIndex},M.prototype.getRows=function(t){var e=this,n=[];return t.forEach((function(t,o){var i;n.push(t),t instanceof h&&(t.create(),(i=t.modules.dataTree.children).index||!1===i.children||e.getChildren(t).forEach((function(t){t.create(),n.push(t)})))})),n},M.prototype.getChildren=function(t,e){var n=this,o=t.modules.dataTree,i=[],r=[];return!1!==o.children&&(o.open||e)&&(Array.isArray(o.children)||(o.children=this.generateChildren(t)),i=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(i),i.forEach((function(t){r.push(t),n.getChildren(t).forEach((function(t){r.push(t)}))}))),r},M.prototype.generateChildren=function(t){var e=this,n=[],o=t.getData()[this.field];return Array.isArray(o)||(o=[o]),o.forEach((function(o){var i=new h(o||{},e.table.rowManager);i.create(),i.modules.dataTree.index=t.modules.dataTree.index+1,i.modules.dataTree.parent=t,i.modules.dataTree.children&&(i.modules.dataTree.open=e.startOpen(i.getComponent(),i.modules.dataTree.index)),n.push(i)})),n},M.prototype.expandRow=function(t,e){var n=t.modules.dataTree;!1!==n.children&&(n.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},M.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},M.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},M.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},M.prototype.getFilteredTreeChildren=function(t){var e=t.modules.dataTree,n=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(e.children):e.children).forEach((function(t){t instanceof h&&n.push(t)}))),n},M.prototype.rowDelete=function(t){var e,n=t.modules.dataTree.parent;n&&(!1!==(e=this.findChildIndex(t,n))&&n.data[this.field].splice(e,1),n.data[this.field].length||delete n.data[this.field],this.initializeRow(n),this.layoutRow(n)),this.table.rowManager.refreshActiveData("tree",!1,!0)},M.prototype.addTreeChildRow=function(t,e,n,o){var i=!1;"string"==typeof e&&(e=JSON.parse(e)),Array.isArray(t.data[this.field])||(t.data[this.field]=[],t.modules.dataTree.open=this.startOpen(t.getComponent(),t.modules.dataTree.index)),void 0!==o&&!1!==(i=this.findChildIndex(o,t))&&t.data[this.field].splice(n?i:i+1,0,e),!1===i&&(n?t.data[this.field].unshift(e):t.data[this.field].push(e)),this.initializeRow(t),this.layoutRow(t),this.table.rowManager.refreshActiveData("tree",!1,!0)},M.prototype.findChildIndex=function(t,e){var n=this,i=!1;return"object"==(void 0===t?"undefined":o(t))?t instanceof h?i=t.data:t instanceof u?i=t._getSelf().data:"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&e.modules.dataTree&&(i=e.modules.dataTree.children.find((function(e){return e instanceof h&&e.element===t})))&&(i=i.data):i=null!=t&&e.data[this.field].find((function(e){return e.data[n.table.options.index]==t})),i&&(Array.isArray(e.data[this.field])&&(i=e.data[this.field].indexOf(i)),-1==i&&(i=!1)),i},M.prototype.getTreeChildren=function(t,e,n){var o=this,i=t.modules.dataTree,r=[];return i.children&&(Array.isArray(i.children)||(i.children=this.generateChildren(t)),i.children.forEach((function(t){t instanceof h&&(r.push(e?t.getComponent():t),n&&(r=r.concat(o.getTreeChildren(t,e,n))))}))),r},M.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||t.row.reinitialize()},M.prototype.getChildField=function(){return this.field},M.prototype.redrawNeeded=function(t){return!!this.field&&void 0!==t[this.field]||!!this.elementField&&void 0!==t[this.elementField]},m.prototype.registerModule("dataTree",M);var _=function(t){this.table=t};_.prototype.download=function(e,n,o,i,r){var s=this,a=!1;if("function"==typeof e?a=e:s.downloaders[e]?a=s.downloaders[e]:t.warn("Download Error - No such download type found: ",e),a){var l=this.generateExportList(i);a.call(this.table,l,o||{},(function(t,o){r?!0===r?s.triggerDownload(t,o,e,n,!0):r(t):s.triggerDownload(t,o,e,n)}))}},_.prototype.generateExportList=function(t){var e=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,t||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),e.forEach((function(t){var e;"group"===t.type&&(e=t.columns[0],n&&n[t.indent]&&(e.value=n[t.indent](e.value,t.component._group.getRowCount(),t.component._group.getData(),t.component)))})),e},_.prototype.triggerDownload=function(t,e,n,o,i){var r=document.createElement("a"),s=new Blob([t],{type:e});o=o||"Tabulator."+("function"==typeof n?"txt":n);(s=this.table.options.downloadReady.call(this.table,t,s))&&(i?window.open(window.URL.createObjectURL(s)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(s,o):(r.setAttribute("href",window.URL.createObjectURL(s)),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},_.prototype.commsReceived=function(t,e,n){switch(e){case"intercept":this.download(n.type,"",n.options,n.active,n.intercept)}},_.prototype.downloaders={csv:function(e,n,i){var r=n&&n.delimiter?n.delimiter:",",s=[],a=[];e.forEach((function(e){var n=[];switch(e.type){case"group":t.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":t.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":e.columns.forEach((function(t,e){t&&1===t.depth&&(a[e]=void 0===t.value||null===t.value?"":'"'+String(t.value).split('"').join('""')+'"')}));break;case"row":e.columns.forEach((function(t){if(t){switch(o(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}n.push('"'+String(t.value).split('"').join('""')+'"')}})),s.push(n.join(r))}})),a.length&&s.unshift(a.join(r)),s=s.join("\n"),n.bom&&(s="\ufeff"+s),i(s,"text/csv")},json:function(e,n,o){var i=[];e.forEach((function(e){var n={};switch(e.type){case"header":break;case"group":t.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":t.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((function(t){t&&(n[t.component.getField()]=t.value)})),i.push(n)}})),o(i=JSON.stringify(i,null,"\t"),"application/json")},pdf:function(t,e,n){var i=[],r=[],s={},a=e.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=e.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},c=e.jsPDF||{},u=e&&e.title?e.title:"";function h(t,e){var n=[];return t.columns.forEach((function(t){var i;if(t){switch(o(t.value)){case"object":t.value=JSON.stringify(t.value);break;case"undefined":case"null":t.value=""}i={content:t.value,colSpan:t.width,rowSpan:t.height},e&&(i.styles=e),n.push(i)}else n.push("")})),n}c.orientation||(c.orientation=e.orientation||"landscape"),c.unit||(c.unit="pt"),t.forEach((function(t){switch(t.type){case"header":i.push(h(t));break;case"group":r.push(h(t,a));break;case"calc":r.push(h(t,l));break;case"row":r.push(h(t))}}));var p=new jsPDF(c);e&&e.autoTable&&(s="function"==typeof e.autoTable?e.autoTable(p)||{}:e.autoTable),u&&(s.addPageContent=function(t){p.text(u,40,30)}),s.head=i,s.body=r,p.autoTable(s),e&&e.documentProcessing&&e.documentProcessing(p),n(p.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,n){var i=e.sheetName||"Sheet1",r=XLSX.utils.book_new();function s(){var e=[],n=[],i={},r={s:{c:0,r:0},e:{c:t[0]?t[0].columns.reduce((function(t,e){return t+(e&&e.width?e.width:1)}),0):0,r:t.length}};return t.forEach((function(t,i){var r=[];t.columns.forEach((function(t,e){t?(r.push(t.value instanceof Date||"object"!==o(t.value)?t.value:JSON.stringify(t.value)),(t.width>1||t.height>-1)&&n.push({s:{r:i,c:e},e:{r:i+t.height-1,c:e+t.width-1}})):r.push("")})),e.push(r)})),XLSX.utils.sheet_add_aoa(i,e),i["!ref"]=XLSX.utils.encode_range(r),n.length&&(i["!merges"]=n),i}if(r.SheetNames=[],r.Sheets={},e.sheetOnly)n(s());else{if(e.sheets)for(var a in e.sheets)!0===e.sheets[a]?(r.SheetNames.push(a),r.Sheets[a]=s()):(r.SheetNames.push(a),this.modules.comms.send(e.sheets[a],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(t){r.Sheets[a]=t}}));else r.SheetNames.push(i),r.Sheets[i]=s();e.documentProcessing&&(r=e.documentProcessing(r)),n(function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),o=0;o!=t.length;++o)n[o]=255&t.charCodeAt(o);return e}(XLSX.write(r,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(t,e,n){this.modExists("export",!0)&&n(this.modules.export.genereateHTMLTable(t),"text/html")}},m.prototype.registerModule("download",_);var S=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[]};S.prototype.initializeColumn=function(e){var n={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(o(e.definition.editor)){case"string":"tick"===e.definition.editor&&(e.definition.editor="tickCross",t.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),this.editors[e.definition.editor]?n.editor=this.editors[e.definition.editor]:t.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":n.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!=typeof e.definition.formatter?("tick"===e.definition.formatter&&(e.definition.formatter="tickCross",t.warn("DEPRECATION WARNING - the tick editor has been deprecated, please use the tickCross editor")),this.editors[e.definition.formatter]?n.editor=this.editors[e.definition.formatter]:n.editor=this.editors.input):t.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}n.editor&&(e.modules.edit=n)},S.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},S.prototype.clearEditor=function(t){var e,n=this.currentCell;if(this.invalidEdit=!1,n){for(this.currentCell=!1,e=n.getElement(),t?n.validate():e.classList.remove("tabulator-validation-fail"),e.classList.remove("tabulator-editing");e.firstChild;)e.removeChild(e.firstChild);n.row.getElement().classList.remove("tabulator-row-editing")}},S.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(!0),t.setValueActual(t.getValue()),t.cellRendered(),("textarea"==t.column.definition.editor||t.column.definition.variableHeight)&&t.row.normalizeHeight(!0),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},S.prototype.bindEditor=function(t){var e=this,n=t.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",(function(t){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})})),n.addEventListener("mousedown",(function(t){2===t.button?t.preventDefault():e.mouseClick=!0})),n.addEventListener("focus",(function(n){e.recursionBlock||e.edit(t,n,!1)}))},S.prototype.focusCellNoEvent=function(t,e){this.recursionBlock=!0,e&&"ie"===this.table.browser||t.getElement().focus({preventScroll:!0}),this.recursionBlock=!1},S.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},S.prototype.focusScrollAdjust=function(t){if("virtual"==this.table.rowManager.getRenderMode()){var e=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,o=t.row.getElement();o.offsetTop;o.offsetTop<e?this.table.rowManager.element.scrollTop-=e-o.offsetTop:o.offsetTop+o.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=o.offsetTop+o.offsetHeight-n);var i=this.table.rowManager.element.scrollLeft,r=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,s=t.getElement();s.offsetLeft;this.table.modExists("frozenColumns")&&(i+=parseInt(this.table.modules.frozenColumns.leftMargin),r-=parseInt(this.table.modules.frozenColumns.rightMargin)),this.table.options.virtualDomHoz&&(i-=parseInt(this.table.vdomHoz.vDomPadLeft),r-=parseInt(this.table.vdomHoz.vDomPadLeft)),s.offsetLeft<i?this.table.rowManager.element.scrollLeft-=i-s.offsetLeft:s.offsetLeft+s.offsetWidth>r&&(this.table.rowManager.element.scrollLeft+=s.offsetLeft+s.offsetWidth-r)}},S.prototype.edit=function(e,n,i){var r,s,a,l=this,c=!0,u=function(){},h=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,h.blur(),!1;switch(n&&n.stopPropagation(),o(e.column.modules.edit.check)){case"function":c=e.column.modules.edit.check(e.getComponent());break;case"boolean":c=e.column.modules.edit.check}if(c||i){if(l.cancelEdit(),l.currentCell=e,this.focusScrollAdjust(e),s=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.cellEvents.cellClick&&e.column.cellEvents.cellClick.call(this.table,n,s)),e.column.cellEvents.cellEditing&&e.column.cellEvents.cellEditing.call(this.table,s),l.table.options.cellEditing.call(this.table,s),a="function"==typeof e.column.modules.edit.params?e.column.modules.edit.params(s):e.column.modules.edit.params,!1===(r=e.column.modules.edit.editor.call(l,s,(function(t){u=t}),(function(t){if(l.currentCell===e){var n=!0;return e.column.modules.validate&&l.table.modExists("validate")&&"manual"!=l.table.options.validationMode&&(n=l.table.modules.validate.validate(e.column.modules.validate,e,t)),!0===n||"highlight"===l.table.options.validationMode?(l.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==l.editedCells.indexOf(e)&&l.editedCells.push(e),e.setValue(t,!0),l.table.options.dataTree&&l.table.modExists("dataTree")&&l.table.modules.dataTree.checkForRestyle(e),!0===n||(h.classList.add("tabulator-validation-fail"),l.table.options.validationFailed.call(l.table,e.getComponent(),t,n),!1)):(l.invalidEdit=!0,h.classList.add("tabulator-validation-fail"),l.focusCellNoEvent(e,!0),u(),l.table.options.validationFailed.call(l.table,e.getComponent(),t,n),!1)}}),(function(){l.currentCell===e&&(l.cancelEdit(),l.table.options.dataTree&&l.table.modExists("dataTree")&&l.table.modules.dataTree.checkForRestyle(e))}),a)))return h.blur(),!1;if(!(r instanceof Node))return t.warn("Edit Error - Editor should return an instance of Node, the editor returned:",r),h.blur(),!1;for(h.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");h.firstChild;)h.removeChild(h.firstChild);h.appendChild(r),u();for(var p=h.children,d=0;d<p.length;d++)p[d].addEventListener("click",(function(t){t.stopPropagation()}));return!0}return this.mouseClick=!1,h.blur(),!1}this.invalidEdit||this.cancelEdit()},S.prototype.maskInput=function(t,e){var n=e.mask,o=void 0!==e.maskLetterChar?e.maskLetterChar:"A",i=void 0!==e.maskNumberChar?e.maskNumberChar:"9",r=void 0!==e.maskWildcardChar?e.maskWildcardChar:"*";function s(e){var a=n[e];void 0!==a&&a!==r&&a!==o&&a!==i&&(t.value=t.value+""+a,s(e+1))}t.addEventListener("keydown",(function(e){var s=t.value.length,a=e.key;if(e.keyCode>46){if(s>=n.length)return e.preventDefault(),e.stopPropagation(),!1,!1;switch(n[s]){case o:if(a.toUpperCase()==a.toLowerCase())return e.preventDefault(),e.stopPropagation(),!1,!1;break;case i:if(isNaN(a))return e.preventDefault(),e.stopPropagation(),!1,!1;break;case r:break;default:if(a!==n[s])return e.preventDefault(),e.stopPropagation(),!1,!1}!0}})),t.addEventListener("keyup",(function(n){n.keyCode>46&&e.maskAutoFill&&s(t.value.length)})),t.placeholder||(t.placeholder=n),e.maskAutoFill&&s(t.value.length)},S.prototype.getEditedCells=function(){var t=[];return this.editedCells.forEach((function(e){t.push(e.getComponent())})),t},S.prototype.clearEdited=function(t){var e;t.modules.edit&&t.modules.edit.edited&&(t.modules.edit.edited=!1,t.modules.validate&&(t.modules.validate.invalid=!1)),(e=this.editedCells.indexOf(t))>-1&&this.editedCells.splice(e,1)},S.prototype.editors={input:function(t,e,n,i,r){var s=t.getValue(),a=document.createElement("input");if(a.setAttribute("type",r.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+r.elementAttributes["+"+l])):a.setAttribute(l,r.elementAttributes[l]);function c(t){null==s&&""!==a.value||a.value!==s?n(a.value)&&(s=a.value):i()}return a.value=void 0!==s?s:"",e((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("change",c),a.addEventListener("blur",c),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:i();break;case 35:case 36:t.stopPropagation()}})),r.mask&&this.table.modules.edit.maskInput(a,r),a},textarea:function(t,e,n,i,r){var s=t.getValue(),a=r.verticalNavigation||"hybrid",l=String(null!=s?s:""),c=((l.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),u=0;if(c.style.display="block",c.style.padding="2px",c.style.height="100%",c.style.width="100%",c.style.boxSizing="border-box",c.style.whiteSpace="pre-wrap",c.style.resize="none",r.elementAttributes&&"object"==o(r.elementAttributes))for(var h in r.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),c.setAttribute(h,c.getAttribute(h)+r.elementAttributes["+"+h])):c.setAttribute(h,r.elementAttributes[h]);function p(e){null==s&&""!==c.value||c.value!==s?(n(c.value)&&(s=c.value),setTimeout((function(){t.getRow().normalizeHeight()}),300)):i()}return c.value=l,e((function(){c.focus({preventScroll:!0}),c.style.height="100%",c.scrollHeight,c.style.height=c.scrollHeight+"px",t.getRow().normalizeHeight()})),c.addEventListener("change",p),c.addEventListener("blur",p),c.addEventListener("keyup",(function(){c.style.height="";var e=c.scrollHeight;c.style.height=e+"px",e!=u&&(u=e,t.getRow().normalizeHeight())})),c.addEventListener("keydown",(function(t){switch(t.keyCode){case 27:i();break;case 38:("editor"==a||"hybrid"==a&&c.selectionStart)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&c.selectionStart!==c.value.length)&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),r.mask&&this.table.modules.edit.maskInput(c,r),c},number:function(t,e,n,i,r){var s=t.getValue(),a=r.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),void 0!==r.max&&l.setAttribute("max",r.max),void 0!==r.min&&l.setAttribute("min",r.min),void 0!==r.step&&l.setAttribute("step",r.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var c in r.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),l.setAttribute(c,l.getAttribute(c)+r.elementAttributes["+"+c])):l.setAttribute(c,r.elementAttributes[c]);l.value=s;var u=function(t){h()};function h(){var t=l.value;isNaN(t)||""===t||(t=Number(t)),t!==s?n(t)&&(s=t):i()}return e((function(){l.removeEventListener("blur",u),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",u)})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:h();break;case 27:i();break;case 38:case 40:"editor"==a&&(t.stopImmediatePropagation(),t.stopPropagation());break;case 35:case 36:t.stopPropagation()}})),r.mask&&this.table.modules.edit.maskInput(l,r),l},range:function(t,e,n,i,r){var s=t.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),void 0!==r.max&&a.setAttribute("max",r.max),void 0!==r.min&&a.setAttribute("min",r.min),void 0!==r.step&&a.setAttribute("step",r.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var l in r.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+r.elementAttributes["+"+l])):a.setAttribute(l,r.elementAttributes[l]);function c(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!=s?n(t)&&(s=t):i()}return a.value=s,e((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("blur",(function(t){c()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:c();break;case 27:i()}})),a},select:function(e,n,i,r,s){var a=this,l=this,c=e.getElement(),u=e.getValue(),h=s.verticalNavigation||"editor",p=void 0!==u||null===u?Array.isArray(u)?u:[u]:void 0!==s.defaultValue?s.defaultValue:[],d=document.createElement("input"),f=document.createElement("div"),g=s.multiselect,v=[],b={},y=[],w=[],E=!0,C=!1,x="",M=null;function _(n){var o,i={},r=l.table.getData();return(o=n?l.table.columnManager.getColumnByField(n):e.getColumn()._getSelf())?r.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(i[e]=!0)})):t.warn("unable to find matching column to create select lookup list:",n),Object.keys(i)}function S(t,n){var i=[],r=[];function a(t){t={label:t.label,value:t.value,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1};return n.indexOf(t.value)>-1&&R(t),i.push(t),r.push(t),t}if("function"==typeof t&&(t=t(e)),Array.isArray(t))t.forEach((function(t){var e;"object"===(void 0===t?"undefined":o(t))?t.options?(e={label:t.label,group:!0,itemParams:t.itemParams,elementAttributes:t.elementAttributes,element:!1},r.push(e),t.options.forEach((function(t){a(t)}))):a(t):(e={label:t,value:t,element:!1},n.indexOf(e.value)>-1&&R(e),i.push(e),r.push(e))}));else for(var l in t){var c={label:t[l],value:l,element:!1};n.indexOf(c.value)>-1&&R(c),i.push(c),r.push(c)}s.sortValuesList&&(i.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),r.sort((function(t,e){return t.label<e.label?-1:t.label>e.label?1:0})),"asc"!==s.sortValuesList&&(i.reverse(),r.reverse())),v=i,y=r,function(){for(;f.firstChild;)f.removeChild(f.firstChild);y.forEach((function(t){var n=t.element;if(!n){if(n=document.createElement("div"),t.label=s.listItemFormatter?s.listItemFormatter(t.value,t.label,e,n,t.itemParams):t.label,t.group?(n.classList.add("tabulator-edit-select-list-group"),n.tabIndex=0,n.innerHTML=""===t.label?"&nbsp;":t.label):(n.classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=""===t.label?"&nbsp;":t.label,n.addEventListener("click",(function(){C=!0,setTimeout((function(){C=!1}),10),g?(D(t),d.focus()):L(t)})),w.indexOf(t)>-1&&n.classList.add("active")),t.elementAttributes&&"object"==o(t.elementAttributes))for(var i in t.elementAttributes)"+"==i.charAt(0)?(i=i.slice(1),n.setAttribute(i,d.getAttribute(i)+t.elementAttributes["+"+i])):n.setAttribute(i,t.elementAttributes[i]);n.addEventListener("mousedown",(function(){E=!1,setTimeout((function(){E=!0}),10)})),t.element=n}f.appendChild(n)}))}()}function k(t,e){!g&&b&&b.element&&b.element.classList.remove("active"),b&&b.element&&b.element.classList.remove("focused"),b=t,t.element&&(t.element.classList.add("focused"),e&&t.element.classList.add("active")),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function R(t){-1==w.indexOf(t)&&(w.push(t),k(t,!0)),A()}function T(t){var e=w[t];t>-1&&(w.splice(t,1),e.element&&e.element.classList.remove("active"))}function D(t){t||(t=b);var e=w.indexOf(t);e>-1?T(e):(!0!==g&&w.length>=g&&T(0),R(t)),A()}function L(t){z(),t||(t=b),t&&(d.value=t.label,i(t.value)),p=[t.value]}function O(t){t||z();var e=[];w.forEach((function(t){e.push(t.value)})),p=e,i(e)}function A(){var t=[];w.forEach((function(e){t.push(e.label)})),d.value=t.join(", "),!1===l.currentCell&&O(!0)}function P(){z(),r()}function z(){f.parentNode&&f.parentNode.removeChild(f),l.table.rowManager.element.removeEventListener("scroll",P)}if((Array.isArray(s)||!Array.isArray(s)&&"object"===(void 0===s?"undefined":o(s))&&!s.values)&&(t.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),s={values:s}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,s.elementAttributes&&"object"==o(s.elementAttributes))for(var N in s.elementAttributes)"+"==N.charAt(0)?(N=N.slice(1),d.setAttribute(N,d.getAttribute(N)+s.elementAttributes["+"+N])):d.setAttribute(N,s.elementAttributes[N]);return d.value=void 0!==u||null===u?u:"",d.addEventListener("search",(function(t){d.value||(!function(){for(var t=w.length,e=0;e<t;e++)T(0)}(),O())})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=v.indexOf(b),("editor"==h||"hybrid"==h&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e>0&&k(v[e-1],!g));break;case 40:e=v.indexOf(b),("editor"==h||"hybrid"==h&&e<v.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<v.length-1&&k(-1==e?v[0]:v[e+1],!g));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault();break;case 13:g?D():L();break;case 27:P();break;case 9:break;default:!1===l.currentCell&&t.preventDefault(),t.keyCode>=38&&t.keyCode<=90&&function(t){clearTimeout(M);var e=String.fromCharCode(event.keyCode).toLowerCase();x+=e.toLowerCase();var n=v.find((function(t){return void 0!==t.label&&t.label.toLowerCase().startsWith(x)}));n&&k(n,!g),M=setTimeout((function(){x=""}),800)}(t.keyCode)}})),d.addEventListener("blur",(function(t){E&&(g?O():P())})),d.addEventListener("focus",(function(t){C||function(){if(w=[],!f.parentNode){!0===s.values?S(_(),p):"string"==typeof s.values?S(_(s.values),p):S(s.values||[],p);var t=m.prototype.helpers.elOffset(c);f.style.minWidth=c.offsetWidth+"px",f.style.top=t.top+c.offsetHeight+"px",f.style.left=t.left+"px",f.addEventListener("mousedown",(function(t){E=!1,setTimeout((function(){E=!0}),10)})),document.body.appendChild(f)}}()})),(f=document.createElement("div")).classList.add("tabulator-edit-select-list"),n((function(){d.style.height="100%",d.focus({preventScroll:!0})})),setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",P)}),10),d},autocomplete:function(e,n,i,r,s){var a=this,l=this,c=e.getElement(),u=e.getValue(),h=s.verticalNavigation||"editor",p=void 0!==u||null===u?u:void 0!==s.defaultValue?s.defaultValue:"",d=document.createElement("input"),f=document.createElement("div"),g=[],v=!1,b=!0,y=!1;if(d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",s.elementAttributes&&"object"==o(s.elementAttributes))for(var w in s.elementAttributes)"+"==w.charAt(0)?(w=w.slice(1),d.setAttribute(w,d.getAttribute(w)+s.elementAttributes["+"+w])):d.setAttribute(w,s.elementAttributes[w]);function E(){!0===s.values?y=C():"string"==typeof s.values&&(y=C(s.values))}function C(n){var o,i={},r=l.table.getData();return(o=n?l.table.columnManager.getColumnByField(n):e.getColumn()._getSelf())?(r.forEach((function(t){var e=o.getFieldValue(t);null!=e&&""!==e&&(i[e]=!0)})),i=s.sortValuesList?"asc"==s.sortValuesList?Object.keys(i).sort():Object.keys(i).sort().reverse():Object.keys(i)):t.warn("unable to find matching column to create autocomplete lookup list:",n),i}function x(e,n){var o,i,r=[];o=y||(s.values||[]),s.searchFunc?(r=s.searchFunc(e,o))instanceof Promise?(M(void 0!==s.searchingPlaceholder?s.searchingPlaceholder:"Searching..."),r.then((function(t){k(_(t),n)})).catch((function(e){t.err("error in autocomplete search promise:",e)}))):k(_(r),n):(i=_(o),""===e?s.showListOnEmpty&&(r=i):i.forEach((function(t){null===t.value&&void 0===t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&r.push(t)})),k(r,n))}function M(t){var e=document.createElement("div");S(),!1!==t&&(e.classList.add("tabulator-edit-select-list-notice"),e.tabIndex=0,t instanceof Node?e.appendChild(t):e.innerHTML=t,f.appendChild(e))}function _(t){var e=[];if(Array.isArray(t))t.forEach((function(t){var n={};"object"===(void 0===t?"undefined":o(t))?(n.title=s.listItemFormatter?s.listItemFormatter(t.value,t.label):t.label,n.value=t.value):(n.title=s.listItemFormatter?s.listItemFormatter(t,t):t,n.value=t),e.push(n)}));else for(var n in t){var i={title:s.listItemFormatter?s.listItemFormatter(n,t[n]):t[n],value:n};e.push(i)}return e}function S(){for(;f.firstChild;)f.removeChild(f.firstChild)}function k(t,e){t.length?function(t,e){var n=!1;S(),(g=t).forEach((function(t){var o=t.element;o||((o=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),o.tabIndex=0,o.innerHTML=t.title,o.addEventListener("click",(function(e){T(t),R()})),o.addEventListener("mousedown",(function(t){b=!1,setTimeout((function(){b=!0}),10)})),t.element=o,e&&t.value==u&&(d.value=t.title,t.element.classList.add("active"),n=!0),t===v&&(t.element.classList.add("active"),n=!0)),f.appendChild(o)})),n||T(!1)}(t,e):s.emptyPlaceholder&&M(s.emptyPlaceholder)}function R(){D(),v?u!==v.value?(u=v.value,d.value=v.title,i(v.value)):r():s.freetext||s.allowEmpty&&""===d.value?(u=d.value,i(d.value)):r()}function T(t,e){v&&v.element&&v.element.classList.remove("active"),v=t,t&&t.element&&t.element.classList.add("active"),t&&t.element&&t.element.scrollIntoView&&t.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function D(){f.parentNode&&f.parentNode.removeChild(f),l.table.rowManager.element.removeEventListener("scroll",L)}function L(){D(),r()}return f.classList.add("tabulator-edit-select-list"),f.addEventListener("mousedown",(function(t){b=!1,setTimeout((function(){b=!0}),10)})),d.addEventListener("keydown",(function(t){var e;switch(t.keyCode){case 38:e=g.indexOf(v),("editor"==h||"hybrid"==h&&e)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),T(e>0&&g[e-1]));break;case 40:e=g.indexOf(v),("editor"==h||"hybrid"==h&&e<g.length-1)&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),e<g.length-1&&T(-1==e?g[0]:g[e+1]));break;case 37:case 39:t.stopImmediatePropagation(),t.stopPropagation();break;case 13:R();break;case 27:L();break;case 36:case 35:t.stopImmediatePropagation()}})),d.addEventListener("keyup",(function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:x(d.value)}})),d.addEventListener("search",(function(t){x(d.value)})),d.addEventListener("blur",(function(t){b&&R()})),d.addEventListener("focus",(function(e){var n=p;E(),function(){if(!f.parentNode){for(t.log("show",p);f.firstChild;)f.removeChild(f.firstChild);var e=m.prototype.helpers.elOffset(c);f.style.minWidth=c.offsetWidth+"px",f.style.top=e.top+c.offsetHeight+"px",f.style.left=e.left+"px",document.body.appendChild(f)}}(),d.value=n,x(n,!0)})),n((function(){d.style.height="100%",d.focus({preventScroll:!0})})),s.mask&&this.table.modules.edit.maskInput(d,s),setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",L)}),10),E(),d.value=p,x(p,!0),d},star:function(t,e,n,i,r){var s=this,a=t.getElement(),l=t.getValue(),c=a.getElementsByTagName("svg").length||5,u=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,h=[],p=document.createElement("div"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(t){h.forEach((function(e,n){n<t?("ie"==s.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==s.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function m(t){var e=document.createElement("span"),o=d.cloneNode(!0);h.push(o),e.addEventListener("mouseenter",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),f(t)})),e.addEventListener("mousemove",(function(t){t.stopPropagation(),t.stopImmediatePropagation()})),e.addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),n(t),a.blur()})),e.appendChild(o),p.appendChild(e)}function g(t){l=t,f(t)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",p.style.verticalAlign="middle",p.style.display="inline-block",p.style.padding="4px",d.setAttribute("width",u),d.setAttribute("height",u),d.setAttribute("viewBox","0 0 512 512"),d.setAttribute("xml:space","preserve"),d.style.padding="0 1px",r.elementAttributes&&"object"==o(r.elementAttributes))for(var v in r.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),p.setAttribute(v,p.getAttribute(v)+r.elementAttributes["+"+v])):p.setAttribute(v,r.elementAttributes[v]);for(var b=1;b<=c;b++)m(b);return f(l=Math.min(parseInt(l),c)),p.addEventListener("mousemove",(function(t){f(0)})),p.addEventListener("click",(function(t){n(0)})),a.addEventListener("blur",(function(t){i()})),a.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:g(l+1);break;case 37:g(l-1);break;case 13:n(l);break;case 27:i()}})),p},progress:function(t,e,n,i,r){var s,a,l=t.getElement(),c=void 0===r.max?l.getElementsByTagName("div")[0].getAttribute("max")||100:r.max,u=void 0===r.min?l.getElementsByTagName("div")[0].getAttribute("min")||0:r.min,h=(c-u)/100,p=t.getValue()||0,d=document.createElement("div"),f=document.createElement("div");function m(){var t=window.getComputedStyle(l,null),e=h*Math.round(f.offsetWidth/((l.clientWidth-parseInt(t.getPropertyValue("padding-left"))-parseInt(t.getPropertyValue("padding-right")))/100))+u;n(e),l.setAttribute("aria-valuenow",e),l.setAttribute("aria-label",p)}if(d.style.position="absolute",d.style.right="0",d.style.top="0",d.style.bottom="0",d.style.width="5px",d.classList.add("tabulator-progress-handle"),f.style.display="inline-block",f.style.position="relative",f.style.height="100%",f.style.backgroundColor="#488CE9",f.style.maxWidth="100%",f.style.minWidth="0%",r.elementAttributes&&"object"==o(r.elementAttributes))for(var g in r.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),f.setAttribute(g,f.getAttribute(g)+r.elementAttributes["+"+g])):f.setAttribute(g,r.elementAttributes[g]);return l.style.padding="4px 4px",p=Math.min(parseFloat(p),c),p=Math.max(parseFloat(p),u),p=Math.round((p-u)/h),f.style.width=p+"%",l.setAttribute("aria-valuemin",u),l.setAttribute("aria-valuemax",c),f.appendChild(d),d.addEventListener("mousedown",(function(t){s=t.screenX,a=f.offsetWidth})),d.addEventListener("mouseover",(function(){d.style.cursor="ew-resize"})),l.addEventListener("mousemove",(function(t){s&&(f.style.width=a+t.screenX-s+"px")})),l.addEventListener("mouseup",(function(t){s&&(t.stopPropagation(),t.stopImmediatePropagation(),s=!1,a=!1,m())})),l.addEventListener("keydown",(function(t){switch(t.keyCode){case 39:t.preventDefault(),f.style.width=f.clientWidth+l.clientWidth/100+"px";break;case 37:t.preventDefault(),f.style.width=f.clientWidth-l.clientWidth/100+"px";break;case 9:case 13:m();break;case 27:i()}})),l.addEventListener("blur",(function(){i()})),f},tickCross:function(t,e,n,i,r){var s=t.getValue(),a=document.createElement("input"),l=r.tristate,c=void 0===r.indeterminateValue?null:r.indeterminateValue,u=!1;if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",r.elementAttributes&&"object"==o(r.elementAttributes))for(var h in r.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),a.setAttribute(h,a.getAttribute(h)+r.elementAttributes["+"+h])):a.setAttribute(h,r.elementAttributes[h]);function p(t){return l?t?u?c:a.checked:a.checked&&!u?(a.checked=!1,a.indeterminate=!0,u=!0,c):(u=!1,a.checked):a.checked}return a.value=s,!l||void 0!==s&&s!==c&&""!==s||(u=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&e((function(){a.focus({preventScroll:!0})})),a.checked=!0===s||"true"===s||"True"===s||1===s,e((function(){a.focus()})),a.addEventListener("change",(function(t){n(p())})),a.addEventListener("blur",(function(t){n(p(!0))})),a.addEventListener("keydown",(function(t){13==t.keyCode&&n(p()),27==t.keyCode&&i()})),a}},m.prototype.registerModule("edit",S);var k=function(t,e,n,o){this.type=t,this.columns=e,this.component=n||!1,this.indent=o||0},R=function(t,e,n,o,i){this.value=t,this.component=e||!1,this.width=n,this.height=o,this.depth=i},T=function(t){this.table=t,this.config={},this.cloneTableStyle=!0,this.colVisProp=""};T.prototype.generateExportList=function(t,e,n,o){this.cloneTableStyle=e,this.config=t||{},this.colVisProp=o;var i=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],r=this.bodyToExportRows(this.rowLookup(n));return i.concat(r)},T.prototype.genereateTable=function(t,e,n,o){var i=this.generateExportList(t,e,n,o);return this.genereateTableElement(i)},T.prototype.rowLookup=function(t){var e=this,n=[];if("function"==typeof t)t.call(this.table).forEach((function(t){(t=e.table.rowManager.findRow(t))&&n.push(t)}));else switch(t){case!0:case"visible":n=this.table.rowManager.getVisibleRows(!0);break;case"all":n=this.table.rowManager.rows;break;case"selected":n=this.table.modules.selectRow.selectedRows;break;case"active":default:n=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],n)},T.prototype.generateColumnGroupHeaders=function(){var t=this,e=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach((function(n){var o=t.processColumnGroup(n);o&&e.push(o)})),e},T.prototype.processColumnGroup=function(t){var e=this,n=t.columns,o=0,i={title:t.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||t.definition.title,column:t,depth:1};if(n.length){if(i.subGroups=[],i.width=0,n.forEach((function(t){var n=e.processColumnGroup(t);n&&(i.width+=n.width,i.subGroups.push(n),n.depth>o&&(o=n.depth))})),i.depth+=o,!i.width)return!1}else{if(!this.columnVisCheck(t))return!1;i.width=1}return i},T.prototype.columnVisCheck=function(t){return!1!==t.definition[this.colVisProp]&&(t.visible||!t.visible&&t.definition[this.colVisProp])},T.prototype.headersToExportRows=function(t){var e=[],n=0,o=[];return t.forEach((function(t){t.depth>n&&(n=t.depth)})),t.forEach((function(t){!function t(o,i){var r=n-i;if(void 0===e[i]&&(e[i]=[]),o.height=o.subGroups?1:r-o.depth+1,e[i].push(o),o.height>1)for(var s=1;s<o.height;s++)void 0===e[i+s]&&(e[i+s]=[]),e[i+s].push(!1);if(o.width>1)for(var a=1;a<o.width;a++)e[i].push(!1);o.subGroups&&o.subGroups.forEach((function(e){t(e,i+1)}))}(t,0)})),e.forEach((function(t){var e=[];t.forEach((function(t){t?e.push(new R(t.title,t.column.getComponent(),t.width,t.height,t.depth)):e.push(null)})),o.push(new k("header",e))})),o},T.prototype.bodyToExportRows=function(t){var e=this,n=[],o=[];return this.table.columnManager.columnsByIndex.forEach((function(t){e.columnVisCheck(t)&&n.push(t.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&t.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&t.push(this.table.modules.columnCalcs.botRow)),(t=t.filter((function(t){switch(t.type){case"group":return!1!==e.config.rowGroups;case"calc":return!1!==e.config.columnCalcs;case"row":return!(e.table.options.dataTree&&!1===e.config.dataTree&&t.modules.dataTree.parent)}return!0}))).forEach((function(t,i){var r=t.getData(e.colVisProp),s=[],a=0;switch(t.type){case"group":a=t.level,s.push(new R(t.key,t.getComponent(),n.length,1));break;case"calc":case"row":n.forEach((function(t){s.push(new R(t._column.getFieldValue(r),t,1,1))})),e.table.options.dataTree&&!1!==e.config.dataTree&&(a=t.modules.dataTree.index)}o.push(new k(t.type,s,t.getComponent(),a))})),o},T.prototype.genereateTableElement=function(e){var n=this,o=document.createElement("table"),i=document.createElement("thead"),r=document.createElement("tbody"),s=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l={};return l.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(l.treeElementField=this.table.modules.dataTree.elementField),l.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l.groupHeader&&!Array.isArray(l.groupHeader)&&(l.groupHeader=[l.groupHeader]),o.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&t.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((function(t,e){switch(t.type){case"header":i.appendChild(n.genereateHeaderElement(t,l,s));break;case"group":r.appendChild(n.genereateGroupElement(t,l,s));break;case"calc":r.appendChild(n.genereateCalcElement(t,l,s));break;case"row":var o=n.genereateRowElement(t,l,s);n.mapElementStyles(e%2&&s.evenRow?s.evenRow:s.oddRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),r.appendChild(o)}})),i.innerHTML&&o.appendChild(i),o.appendChild(r),this.mapElementStyles(this.table.element,o,["border-top","border-left","border-right","border-bottom"]),o},T.prototype.lookupTableStyles=function(){var t={};return this.cloneTableStyle&&window.getComputedStyle&&(t.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),t.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),t.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),t.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),t.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],t.firstRow&&(t.styleCells=t.firstRow.getElementsByClassName("tabulator-cell"),t.firstCell=t.styleCells[0],t.lastCell=t.styleCells[t.styleCells.length-1])),t},T.prototype.genereateHeaderElement=function(t,e,n){var o=this,i=document.createElement("tr");return t.columns.forEach((function(t){if(t){var e=document.createElement("th"),n=t.component._column.definition.cssClass?t.component._column.definition.cssClass.split(" "):[];e.colSpan=t.width,e.rowSpan=t.height,e.innerHTML=t.value,o.cloneTableStyle&&(e.style.boxSizing="border-box"),n.forEach((function(t){e.classList.add(t)})),o.mapElementStyles(t.component.getElement(),e,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),o.mapElementStyles(t.component._column.contentElement,e,["padding-top","padding-left","padding-right","padding-bottom"]),t.component._column.visible?o.mapElementStyles(t.component.getElement(),e,["width"]):t.component._column.definition.width&&(e.style.width=t.component._column.definition.width+"px"),t.component._column.parent&&o.mapElementStyles(t.component._column.parent.groupElement,e,["border-top"]),i.appendChild(e)}})),i},T.prototype.genereateGroupElement=function(t,e,n){var o=document.createElement("tr"),i=document.createElement("td"),r=t.columns[0];return o.classList.add("tabulator-print-table-row"),e.groupHeader&&e.groupHeader[t.indent]?r.value=e.groupHeader[t.indent](r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component):!1===e.groupHeader?r.value=r.value:r.value=t.component._group.generator(r.value,t.component._group.getRowCount(),t.component._group.getData(),t.component),i.colSpan=r.width,i.innerHTML=r.value,o.classList.add("tabulator-print-table-group"),o.classList.add("tabulator-group-level-"+t.indent),r.component.isVisible()&&o.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,i,["padding-top","padding-left","padding-right","padding-bottom"]),o.appendChild(i),o},T.prototype.genereateCalcElement=function(t,e,n){var o=this.genereateRowElement(t,e,n);return o.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o},T.prototype.genereateRowElement=function(t,e,n){var r=this,s=document.createElement("tr");return s.classList.add("tabulator-print-table-row"),t.columns.forEach((function(a){if(a){var l=document.createElement("td"),c=a.component._column,u=a.value,h={modules:{},getValue:function(){return u},getField:function(){return c.definition.field},getElement:function(){return l},getColumn:function(){return c.getComponent()},getData:function(){return t.component.getData()},getRow:function(){return t.component},getComponent:function(){return h},column:c};if((c.definition.cssClass?c.definition.cssClass.split(" "):[]).forEach((function(t){l.classList.add(t)})),r.table.modExists("format")&&!1!==r.config.formatCells)u=r.table.modules.format.formatExportValue(h,r.colVisProp);else switch(void 0===u?"undefined":o(u)){case"object":u=JSON.stringify(u);break;case"undefined":case"null":u="";break;default:u=u}u instanceof Node?l.appendChild(u):l.innerHTML=u,n.firstCell&&(r.mapElementStyles(n.firstCell,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),c.definition.align&&(l.style.textAlign=c.definition.align)),r.table.options.dataTree&&!1!==r.config.dataTree&&(e.treeElementField&&e.treeElementField==c.field||!e.treeElementField&&0==i)&&(t.component._row.modules.dataTree.controlEl&&l.insertBefore(t.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),t.component._row.modules.dataTree.branchEl&&l.insertBefore(t.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),s.appendChild(l),h.modules.format&&h.modules.format.renderedCallback&&h.modules.format.renderedCallback(),e.rowFormatter&&!1!==r.config.formatCells&&e.rowFormatter(t.component)}})),s},T.prototype.genereateHTMLTable=function(t){var e=document.createElement("div");return e.appendChild(this.genereateTableElement(t)),e.innerHTML},T.prototype.getHtml=function(t,e,n,o){var i=this.generateExportList(n||this.table.options.htmlOutputConfig,e,t,o||"htmlOutput");return this.genereateHTMLTable(i)},T.prototype.mapElementStyles=function(t,e,n){if(this.cloneTableStyle&&t&&e){var o={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var i=window.getComputedStyle(t);n.forEach((function(t){e.style[o[t]]=i.getPropertyValue(t)}))}}},m.prototype.registerModule("export",T);var D=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1};D.prototype.initializeColumn=function(e,n){var i=this,r=e.getField();e.modules.filter={success:function(n){var s,a="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",l="",c="";if(void 0===e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==n){if(e.modules.filter.prevSuccess=n,e.modules.filter.emptyFunc(n))delete i.headerFilters[r];else{switch(e.modules.filter.value=n,o(e.definition.headerFilterFunc)){case"string":i.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,s=function(t){var o=e.definition.headerFilterFuncParams||{},r=e.getFieldValue(t);return o="function"==typeof o?o(n,r,t):o,i.filters[e.definition.headerFilterFunc](n,r,t,o)}):t.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":l=s=function(t){var o=e.definition.headerFilterFuncParams||{},i=e.getFieldValue(t);return o="function"==typeof o?o(n,i,t):o,e.definition.headerFilterFunc(n,i,t,o)}}if(!s)switch(a){case"partial":s=function(t){var o=e.getFieldValue(t);return null!=o&&String(o).toLowerCase().indexOf(String(n).toLowerCase())>-1},l="like";break;default:s=function(t){return e.getFieldValue(t)==n},l="="}i.headerFilters[r]={value:n,func:s,type:l,params:{}}}c=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==c&&(i.prevHeaderFilterChangeCheck=c,i.changed=!0,i.table.rowManager.filterRefresh())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)},D.prototype.generateHeaderFilterElement=function(e,n,i){var r,s,a,l,c,u,h,p=this,d=this,f=e.modules.filter.success,m=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),m){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t&&0!==t},(r=document.createElement("div")).classList.add("tabulator-header-filter"),o(e.definition.headerFilter)){case"string":d.table.modules.edit.editors[e.definition.headerFilter]?(s=d.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):t.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":s=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?s=e.modules.edit.editor:e.definition.formatter&&d.table.modules.edit.editors[e.definition.formatter]?(s=d.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):s=d.table.modules.edit.editors.input}if(s){if(l={getValue:function(){return void 0!==n?n:""},getField:function(){return e.definition.field},getElement:function(){return r},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},h="function"==typeof(h=e.definition.headerFilterParams||{})?h.call(d.table):h,!(a=s.call(this.table.modules.edit,l,(function(){}),f,(function(){}),h)))return void t.warn("Filter Error - Cannot add filter to "+m+" column, editor returned a value of false");if(!(a instanceof Node))return void t.warn("Filter Error - Cannot add filter to "+m+" column, editor should return an instance of Node, the editor returned:",a);m?d.table.modules.localize.bind("headerFilters|columns|"+e.definition.field,(function(t){a.setAttribute("placeholder",void 0!==t&&t?t:d.table.modules.localize.getText("headerFilters|default"))})):d.table.modules.localize.bind("headerFilters|default",(function(t){a.setAttribute("placeholder",void 0!==d.column.definition.headerFilterPlaceholder&&d.column.definition.headerFilterPlaceholder?d.column.definition.headerFilterPlaceholder:t)})),a.addEventListener("click",(function(t){t.stopPropagation(),a.focus()})),a.addEventListener("focus",(function(t){var e=p.table.columnManager.element.scrollLeft;e!==p.table.rowManager.element.scrollLeft&&(p.table.rowManager.scrollHorizontal(e),p.table.columnManager.scrollHorizontal(e))})),c=!1,u=function(t){c&&clearTimeout(c),c=setTimeout((function(){f(a.value)}),d.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=a,e.modules.filter.attrType=a.hasAttribute("type")?a.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=a.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(a.addEventListener("keyup",u),a.addEventListener("search",u),"number"==e.modules.filter.attrType&&a.addEventListener("change",(function(t){f(a.value)})),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&a.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||a.addEventListener("mousedown",(function(t){t.stopPropagation()}))),r.appendChild(a),e.contentElement.appendChild(r),i||d.headerFilterColumns.push(e)}}else t.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)},D.prototype.hideHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="none")}))},D.prototype.showHeaderFilterElements=function(){this.headerFilterColumns.forEach((function(t){t.modules.filter&&t.modules.filter.headerElement&&(t.modules.filter.headerElement.style.display="")}))},D.prototype.setHeaderFilterFocus=function(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():t.warn("Column Filter Focus Error - No header filter set on column:",e.getField())},D.prototype.getHeaderFilterValue=function(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;t.warn("Column Filter Error - No header filter set on column:",e.getField())},D.prototype.setHeaderFilterValue=function(e,n){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,n,!0),e.modules.filter.success(n)):t.warn("Column Filter Error - No header filter set on column:",e.getField()))},D.prototype.reloadHeaderFilter=function(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):t.warn("Column Filter Error - No header filter set on column:",e.getField()))},D.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},D.prototype.setFilter=function(t,e,n,o){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:n,params:o}]),this.addFilter(t)},D.prototype.addFilter=function(t,e,n,o){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:n,params:o}]),t.forEach((function(t){(t=i.findFilter(t))&&(i.filterList.push(t),i.changed=!0)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},D.prototype.findFilter=function(e){var n,o=this;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return"function"==typeof e.field?i=function(t){return e.field(t,e.type||{})}:o.filters[e.type]?i=(n=o.table.columnManager.getColumnByField(e.field))?function(t){return o.filters[e.type](e.value,n.getFieldValue(t),t,e.params||{})}:function(t){return o.filters[e.type](e.value,t[e.field],t,e.params||{})}:t.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,!!e.func&&e},D.prototype.findSubFilters=function(t){var e=this,n=[];return t.forEach((function(t){(t=e.findFilter(t))&&n.push(t)})),!!n.length&&n},D.prototype.getFilters=function(t,e){var n=[];return t&&(n=this.getHeaderFilters()),e&&n.forEach((function(t){"function"==typeof t.type&&(t.type="function")})),n=n.concat(this.filtersToArray(this.filterList,e))},D.prototype.filtersToArray=function(t,e){var n=this,o=[];return t.forEach((function(t){var i;Array.isArray(t)?o.push(n.filtersToArray(t,e)):(i={field:t.field,type:t.type,value:t.value},e&&"function"==typeof i.type&&(i.type="function"),o.push(i))})),o},D.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},D.prototype.removeFilter=function(e,n,i){var r=this;Array.isArray(e)||(e=[{field:e,type:n,value:i}]),e.forEach((function(e){var n=-1;(n="object"==o(e.field)?r.filterList.findIndex((function(t){return e===t})):r.filterList.findIndex((function(t){return e.field===t.field&&e.type===t.type&&e.value===t.value})))>-1?(r.filterList.splice(n,1),r.changed=!0):t.warn("Filter Error - No matching filter type found, ignoring: ",e.type)})),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},D.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.filter&&this.table.modules.persistence.save("filter")},D.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},t.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(e){void 0!==e.modules.filter.value&&delete e.modules.filter.value,e.modules.filter.prevSuccess=void 0,t.reloadHeaderFilter(e)})),this.changed=!0},D.prototype.search=function(t,e,n,o){var i=this,r=[],s=[];return Array.isArray(e)||(e=[{field:e,type:n,value:o}]),e.forEach((function(t){(t=i.findFilter(t))&&s.push(t)})),this.table.rowManager.rows.forEach((function(e){var n=!0;s.forEach((function(t){i.filterRecurse(t,e.getData())||(n=!1)})),n&&r.push("data"===t?e.getData("data"):e.getComponent())})),r},D.prototype.filter=function(t,e){var n=this,o=[],i=[];return n.table.options.dataFiltering&&n.table.options.dataFiltering.call(n.table,n.getFilters()),n.table.options.ajaxFiltering||!n.filterList.length&&!Object.keys(n.headerFilters).length?o=t.slice(0):t.forEach((function(t){n.filterRow(t)&&o.push(t)})),n.table.options.dataFiltered&&(o.forEach((function(t){i.push(t.getComponent())})),n.table.options.dataFiltered.call(n.table,n.getFilters(),i)),o},D.prototype.filterRow=function(t,e){var n=this,o=!0,i=t.getData();for(var r in n.filterList.forEach((function(t){n.filterRecurse(t,i)||(o=!1)})),n.headerFilters)n.headerFilters[r].func(i)||(o=!1);return o},D.prototype.filterRecurse=function(t,e){var n=this,o=!1;return Array.isArray(t)?t.forEach((function(t){n.filterRecurse(t,e)&&(o=!0)})):o=t.func(e),o},D.prototype.filters={"=":function(t,e,n,o){return e==t},"<":function(t,e,n,o){return e<t},"<=":function(t,e,n,o){return e<=t},">":function(t,e,n,o){return e>t},">=":function(t,e,n,o){return e>=t},"!=":function(t,e,n,o){return e!=t},regex:function(t,e,n,o){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e,n,o){return null==t?e===t:null!=e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},keywords:function(t,e,n,o){var i=t.toLowerCase().split(void 0===o.separator?" ":o.separator),r=String(null==e?"":e).toLowerCase(),s=[];return i.forEach((function(t){r.includes(t)&&s.push(!0)})),o.matchAll?s.length===i.length:!!s.length},starts:function(t,e,n,o){return null==t?e===t:null!=e&&String(e).toLowerCase().startsWith(t.toLowerCase())},ends:function(t,e,n,o){return null==t?e===t:null!=e&&String(e).toLowerCase().endsWith(t.toLowerCase())},in:function(e,n,o,i){return Array.isArray(e)?!e.length||e.indexOf(n)>-1:(t.warn("Filter Error - filter value is not an array:",e),!1)}},m.prototype.registerModule("filter",D);var L=function(t){this.table=t};L.prototype.initializeColumn=function(t){t.modules.format=this.lookupFormatter(t,""),void 0!==t.definition.formatterPrint&&(t.modules.format.print=this.lookupFormatter(t,"Print")),void 0!==t.definition.formatterClipboard&&(t.modules.format.clipboard=this.lookupFormatter(t,"Clipboard")),void 0!==t.definition.formatterHtmlOutput&&(t.modules.format.htmlOutput=this.lookupFormatter(t,"HtmlOutput"))},L.prototype.lookupFormatter=function(e,n){var i={params:e.definition["formatter"+n+"Params"]||{}},r=e.definition["formatter"+n];switch(void 0===r?"undefined":o(r)){case"string":"tick"===r&&(r="tickCross",void 0===i.params.crossElement&&(i.params.crossElement=!1),t.warn("DEPRECATION WARNING - the tick formatter has been deprecated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[r]?i.formatter=this.formatters[r]:(t.warn("Formatter Error - No such formatter found: ",r),i.formatter=this.formatters.plaintext);break;case"function":i.formatter=r;break;default:i.formatter=this.formatters.plaintext}return i},L.prototype.cellRendered=function(t){t.modules.format&&t.modules.format.renderedCallback&&!t.modules.format.rendered&&(t.modules.format.renderedCallback(),t.modules.format.rendered=!0)},L.prototype.formatValue=function(t){var e=t.getComponent(),n="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,n,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))},L.prototype.formatExportValue=function(t,e){var n,o=t.column.modules.format[e];if(o){return n="function"==typeof o.params?o.params(component):o.params,o.formatter.call(this,t.getComponent(),n,(function(e){t.modules.format||(t.modules.format={}),t.modules.format.renderedCallback=e,t.modules.format.rendered=!1}))}return this.formatValue(t)},L.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,(function(t){return e[t]}))}return t},L.prototype.emptyToSpace=function(t){return null==t||""===t?"&nbsp;":t},L.prototype.getFormatter=function(e){switch(void 0===e?"undefined":o(e)){case"string":this.formatters[e]?e=this.formatters[e]:(t.warn("Formatter Error - No such formatter found: ",e),e=this.formatters.plaintext);break;case"function":e=e;break;default:e=this.formatters.plaintext}return e},L.prototype.formatters={plaintext:function(t,e,n){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,n){return t.getValue()},textarea:function(t,e,n){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,n){var o,i,r,s,a=parseFloat(t.getValue()),l=e.decimal||".",c=e.thousand||",",u=e.symbol||"",h=!!e.symbolAfter,p=void 0!==e.precision?e.precision:2;if(isNaN(a))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));for(o=!1!==p?a.toFixed(p):a,i=(o=String(o).split("."))[0],r=o.length>1?l+o[1]:"",s=/(\d+)(\d{3})/;s.test(i);)i=i.replace(s,"$1"+c+"$2");return h?i+r+u:u+i+r},link:function(t,e,n){var i=t.getValue(),r=e.urlPrefix||"",s=e.download,a=i,l=document.createElement("a");if(e.labelField&&(a=t.getData()[e.labelField]),e.label)switch(o(e.label)){case"string":a=e.label;break;case"function":a=e.label(t)}if(a){if(e.urlField&&(i=t.getData()[e.urlField]),e.url)switch(o(e.url)){case"string":i=e.url;break;case"function":i=e.url(t)}return l.setAttribute("href",r+i),e.target&&l.setAttribute("target",e.target),e.download&&(s="function"==typeof s?s(t):!0===s?"":s,l.setAttribute("download",s)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a)),l}return"&nbsp;"},image:function(t,e,n){var i=document.createElement("img"),r=t.getValue();switch(e.urlPrefix&&(r=e.urlPrefix+t.getValue()),e.urlSuffix&&(r+=e.urlSuffix),i.setAttribute("src",r),o(e.height)){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height}switch(o(e.width)){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width}return i.addEventListener("load",(function(){t.getRow().normalizeHeight()})),i},tickCross:function(t,e,n){var o=t.getValue(),i=t.getElement(),r=e.allowEmpty,s=e.allowTruthy,a=void 0!==e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l=void 0!==e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s&&o||!0===o||"true"===o||"True"===o||1===o||"1"===o?(i.setAttribute("aria-checked",!0),a||""):!r||"null"!==o&&""!==o&&null!=o?(i.setAttribute("aria-checked",!1),l||""):(i.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,n){var o=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=e.outputFormat||"DD/MM/YYYY hh:mm:ss",r=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",s=t.getValue(),a=moment(s,o);return a.isValid()?e.timezone?a.tz(e.timezone).format(i):a.format(i):!0===r?s:"function"==typeof r?r(s):r},datetimediff:function(t,e,n){var o=e.inputFormat||"YYYY-MM-DD hh:mm:ss",i=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",r=void 0!==e.suffix&&e.suffix,s=void 0!==e.unit?e.unit:void 0,a=void 0!==e.humanize&&e.humanize,l=void 0!==e.date?e.date:moment(),c=t.getValue(),u=moment(c,o);return u.isValid()?a?moment.duration(u.diff(l)).humanize(r):u.diff(l,s)+(r?" "+r:""):!0===i?c:"function"==typeof i?i(c):i},lookup:function(e,n,o){var i=e.getValue();return void 0===n[i]?(t.warn("Missing display value for "+i),i):n[i]},star:function(t,e,n){var o=t.getValue(),i=t.getElement(),r=e&&e.stars?e.stars:5,s=document.createElement("span"),a=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.verticalAlign="middle",a.setAttribute("width","14"),a.setAttribute("height","14"),a.setAttribute("viewBox","0 0 512 512"),a.setAttribute("xml:space","preserve"),a.style.padding="0 1px",o=o&&!isNaN(o)?parseInt(o):0,o=Math.max(0,Math.min(o,r));for(var l=1;l<=r;l++){var c=a.cloneNode(!0);c.innerHTML=l<=o?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',s.appendChild(c)}return i.style.whiteSpace="nowrap",i.style.overflow="hidden",i.style.textOverflow="ellipsis",i.setAttribute("aria-label",o),s},traffic:function(t,e,n){var i,r,s=this.sanitizeHTML(t.getValue())||0,a=document.createElement("span"),l=e&&e.max?e.max:100,c=e&&e.min?e.min:0,u=e&&void 0!==e.color?e.color:["red","orange","green"],h="#666666";if(!isNaN(s)&&void 0!==t.getValue()){switch(a.classList.add("tabulator-traffic-light"),r=parseFloat(s)<=l?parseFloat(s):l,r=parseFloat(r)>=c?parseFloat(r):c,i=(l-c)/100,r=Math.round((r-c)/i),void 0===u?"undefined":o(u)){case"string":h=u;break;case"function":h=u(s);break;case"object":if(Array.isArray(u)){var p=100/u.length,d=Math.floor(r/p);d=Math.min(d,u.length-1),h=u[d=Math.max(d,0)];break}}return a.style.backgroundColor=h,a}},progress:function(t,e,n){var i,r,s,a,l,c=this.sanitizeHTML(t.getValue())||0,u=t.getElement(),h=e&&e.max?e.max:100,d=e&&e.min?e.min:0,f=e&&e.legendAlign?e.legendAlign:"center";switch(r=parseFloat(c)<=h?parseFloat(c):h,r=parseFloat(r)>=d?parseFloat(r):d,i=(h-d)/100,r=Math.round((r-d)/i),o(e.color)){case"string":s=e.color;break;case"function":s=e.color(c);break;case"object":if(Array.isArray(e.color)){var m=100/e.color.length,g=Math.floor(r/m);g=Math.min(g,e.color.length-1),g=Math.max(g,0),s=e.color[g];break}default:s="#2DC214"}switch(o(e.legend)){case"string":a=e.legend;break;case"function":a=e.legend(c);break;case"boolean":a=c;break;default:a=!1}switch(o(e.legendColor)){case"string":l=e.legendColor;break;case"function":l=e.legendColor(c);break;case"object":if(Array.isArray(e.legendColor)){m=100/e.legendColor.length,g=Math.floor(r/m);g=Math.min(g,e.legendColor.length-1),g=Math.max(g,0),l=e.legendColor[g]}break;default:l="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",r);var v=document.createElement("div");if(v.style.display="inline-block",v.style.position="relative",v.style.width=r+"%",v.style.backgroundColor=s,v.style.height="100%",v.setAttribute("data-max",h),v.setAttribute("data-min",d),a){var b=document.createElement("div");b.style.position="absolute",b.style.top="4px",b.style.left=0,b.style.textAlign=f,b.style.width="100%",b.style.color=l,b.innerHTML=a}return n((function(){if(!(t instanceof p)){var e=document.createElement("div");e.style.position="absolute",e.style.top="4px",e.style.bottom="4px",e.style.left="4px",e.style.right="4px",u.appendChild(e),u=e}u.appendChild(v),a&&u.appendChild(b)})),""},color:function(t,e,n){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,n){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,n){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,n){var o=document.createElement("div"),i=t.getRow()._row.modules.responsiveLayout;function r(t){var e=i.element;i.open=t,e&&(i.open?(o.classList.add("open"),e.style.display=""):(o.classList.remove("open"),e.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",(function(t){t.stopImmediatePropagation(),r(!i.open)})),r(i.open),o},rowSelection:function(t,e,n){var o=this,i=document.createElement("input");if(i.type="checkbox",this.table.modExists("selectRow",!0))if(i.addEventListener("click",(function(t){t.stopPropagation()})),"function"==typeof t.getRow){var r=t.getRow();r instanceof u?(i.addEventListener("change",(function(t){r.toggleSelect()})),i.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,i)):i=""}else i.addEventListener("change",(function(t){o.table.modules.selectRow.selectedRows.length?o.table.deselectRow():o.table.selectRow(e.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(i);return i}},m.prototype.registerModule("format",L);var O=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1};O.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0},O.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.isGroup||(this.frozenCheck(t)?(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right")},O.prototype.frozenCheck=function(e){return e.parent.isGroup&&e.definition.frozen&&t.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen},O.prototype.scrollHorizontal=function(){var t,e=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){e.layout()}),100),t=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),t.forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},O.prototype.calcMargins=function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft},O.prototype.layoutCalcRows=function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow))},O.prototype.layoutColumnPosition=function(t){var e=this,n=[];this.leftColumns.forEach((function(o,i){if(o.modules.frozen.margin=e._calcSpace(e.leftColumns,i)+e.table.columnManager.scrollLeft+"px",i==e.leftColumns.length-1?o.modules.frozen.edge=!0:o.modules.frozen.edge=!1,o.parent.isGroup){var r=e.getColGroupParentElement(o);n.includes(r)||(e.layoutElement(r,o),n.push(r)),o.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+o.modules.frozen.position)}else e.layoutElement(o.getElement(),o);t&&o.cells.forEach((function(t){e.layoutElement(t.getElement(!0),o)}))})),this.rightColumns.forEach((function(n,o){n.modules.frozen.margin=e.rightPadding-e._calcSpace(e.rightColumns,o+1)+"px",o==e.rightColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,n.parent.isGroup?e.layoutElement(e.getColGroupParentElement(n),n):e.layoutElement(n.getElement(),n),t&&n.cells.forEach((function(t){e.layoutElement(t.getElement(!0),n)}))}))},O.prototype.getColGroupParentElement=function(t){return t.parent.isGroup?this.getColGroupParentElement(t.parent):t.getElement()},O.prototype.layout=function(){var t=this;t.active&&(this.calcMargins(),t.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)},O.prototype.layoutRow=function(t){var e=this;t.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(n){var o=t.getCell(n);o&&e.layoutElement(o.getElement(!0),n)})),this.rightColumns.forEach((function(n){var o=t.getCell(n);o&&e.layoutElement(o.getElement(!0),n)}))},O.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin,t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},O.prototype._calcSpace=function(t,e){for(var n=0,o=0;o<e;o++)t[o].visible&&(n+=t[o].getWidth());return n},m.prototype.registerModule("frozenColumns",O);var A=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};A.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},A.prototype.setDisplayIndex=function(t){this.displayIndex=t},A.prototype.getDisplayIndex=function(){return this.displayIndex},A.prototype.isFrozen=function(){return!!this.rows.length},A.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach((function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)})),e},A.prototype.freezeRow=function(e){e.modules.frozen?t.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.table.rowManager.refreshActiveData("display"),this.styleRows())},A.prototype.unfreezeRow=function(e){this.rows.indexOf(e);e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()):t.warn("Freeze Error - Row is already unfrozen")},A.prototype.detachRow=function(t){var e=this.rows.indexOf(t);if(e>-1){var n=t.getElement();n.parentNode.removeChild(n),this.rows.splice(e,1)}},A.prototype.styleRows=function(t){var e=this;this.rows.forEach((function(t,n){e.table.rowManager.styleRow(t,n)}))},m.prototype.registerModule("frozenRows",A);var P=function(t){this._group=t,this.type="GroupComponent"};P.prototype.getKey=function(){return this._group.key},P.prototype.getField=function(){return this._group.field},P.prototype.getElement=function(){return this._group.element},P.prototype.getRows=function(){return this._group.getRows(!0)},P.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},P.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},P.prototype.getVisibility=function(){return t.warn("getVisibility function is deprecated, you should now use the isVisible function"),this._group.visible},P.prototype.isVisible=function(){return this._group.visible},P.prototype.show=function(){this._group.show()},P.prototype.hide=function(){this._group.hide()},P.prototype.toggle=function(){this._group.toggleVisibility()},P.prototype._getSelf=function(){return this._group},P.prototype.getTable=function(){return this._group.groupManager.table};var z=function(t,e,n,o,i,r,s){this.groupManager=t,this.parent=e,this.key=o,this.level=n,this.field=i,this.hasSubGroups=n<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=s,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=s?s.visible:void 0!==t.startOpen[n]?t.startOpen[n]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()};z.prototype.wipe=function(){this.groupList.length?this.groupList.forEach((function(t){t.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)},z.prototype.createElements=function(){var t=document.createElement("div");t.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(t),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)},z.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach((function(n){t._createGroup(n,e)}))},z.prototype.addBindings=function(){var t,e,n,o=this;o.groupManager.table.options.groupClick&&o.element.addEventListener("click",(function(t){o.groupManager.table.options.groupClick.call(o.groupManager.table,t,o.getComponent())})),o.groupManager.table.options.groupDblClick&&o.element.addEventListener("dblclick",(function(t){o.groupManager.table.options.groupDblClick.call(o.groupManager.table,t,o.getComponent())})),o.groupManager.table.options.groupContext&&o.element.addEventListener("contextmenu",(function(t){o.groupManager.table.options.groupContext.call(o.groupManager.table,t,o.getComponent())})),(o.groupManager.table.options.groupContextMenu||o.groupManager.table.options.groupClickMenu)&&o.groupManager.table.modExists("menu")&&o.groupManager.table.modules.menu.initializeGroup.call(o.groupManager.table.modules.menu,o),o.groupManager.table.options.groupTap&&(n=!1,o.element.addEventListener("touchstart",(function(t){n=!0}),{passive:!0}),o.element.addEventListener("touchend",(function(t){n&&o.groupManager.table.options.groupTap(t,o.getComponent()),n=!1}))),o.groupManager.table.options.groupDblTap&&(t=null,o.element.addEventListener("touchend",(function(e){t?(clearTimeout(t),t=null,o.groupManager.table.options.groupDblTap(e,o.getComponent())):t=setTimeout((function(){clearTimeout(t),t=null}),300)}))),o.groupManager.table.options.groupTapHold&&(e=null,o.element.addEventListener("touchstart",(function(t){clearTimeout(e),e=setTimeout((function(){clearTimeout(e),e=null,n=!1,o.groupManager.table.options.groupTapHold(t,o.getComponent())}),1e3)}),{passive:!0}),o.element.addEventListener("touchend",(function(t){clearTimeout(e),e=null}))),o.groupManager.table.options.groupToggleElement&&("arrow"==o.groupManager.table.options.groupToggleElement?o.arrowElement:o.element).addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),o.toggleVisibility()}))},z.prototype._createGroup=function(t,e){var n=e+"_"+t,o=new z(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=o,this.groupList.push(o)},z.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[e].func(t.getData()),o=e+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[o]&&this.groups[o].addRow(t):(this.groups[o]||this._createGroup(n,e),this.groups[o].addRow(t))}},z.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},z.prototype.insertRow=function(t,e,n){var o=this.conformRowData({});t.updateData(o);var i=this.rows.indexOf(e);i>-1?n?this.rows.splice(i+1,0,t):this.rows.splice(i,0,t):n?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)},z.prototype.scrollHeader=function(t){this.arrowElement.style.marginLeft=t,this.groupList.forEach((function(e){e.scrollHeader(t)}))},z.prototype.getRowIndex=function(t){},z.prototype.conformRowData=function(e){return this.field?e[this.field]=this.key:t.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e},z.prototype.removeRow=function(t){var e=this.rows.indexOf(t),n=t.getElement();e>-1&&this.rows.splice(e,1),this.groupManager.table.options.groupValues||this.rows.length?(n.parentNode&&n.parentNode.removeChild(n),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},z.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},z.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(n){e=e.concat(n.getHeadersAndRows(t))})):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top))),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom)))),e},z.prototype.getData=function(t,e){var n=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach((function(t){n.push(t.getData(e||"data"))})),n},z.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach((function(e){t+=e.getRowCount()})):t=this.rows.length,t},z.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},z.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(t){t.getHeadersAndRows().forEach((function(t){t.detachElement()}))})):this.rows.forEach((function(t){var e=t.getElement();e.parentNode.removeChild(e)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},z.prototype.show=function(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.getElement();this.groupList.length?this.groupList.forEach((function(e){e.getHeadersAndRows().forEach((function(e){var n=e.getElement();t.parentNode.insertBefore(n,t.nextSibling),e.initialize(),t=n}))})):this.rows.forEach((function(e){var n=e.getElement();t.parentNode.insertBefore(n,t.nextSibling),e.initialize(),t=n})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},z.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach((function(e){t.push(e.getData())})),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},z.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach((function(n){var o=n.getRowGroup(t);o&&(e=o)})):this.rows.find((function(e){return e===t}))&&(e=this),e},z.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},z.prototype.getRows=function(t){var e=[];return this.rows.forEach((function(n){e.push(t?n.getComponent():n)})),e},z.prototype.generateGroupHeaderContents=function(){var t=[];for(this.rows.forEach((function(e){t.push(e.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},z.prototype.getPath=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.unshift(this.key),this.parent&&this.parent.getPath(t),t},z.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},z.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},z.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},z.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},z.prototype.reinitialize=function(){this.initialized=!1,this.height=0,m.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},z.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},z.prototype.getHeight=function(){return this.outerHeight},z.prototype.getGroup=function(){return this},z.prototype.reinitializeHeight=function(){},z.prototype.calcHeight=function(){},z.prototype.setCellHeight=function(){},z.prototype.clearCellHeight=function(){},z.prototype.getComponent=function(){return this.component||(this.component=new P(this)),this.component};var N=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};N.prototype.initialize=function(){var e=this,n=e.table.options.groupBy,o=e.table.options.groupStartOpen,i=e.table.options.groupHeader;(this.allowedValues=e.table.options.groupValues,Array.isArray(n)&&Array.isArray(i)&&n.length>i.length&&t.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),e.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],e.table.modules.localize.bind("groups|item",(function(t,n){e.headerGenerator[0]=function(e,o,i){return(void 0===e?"":e)+"<span>("+o+" "+(1===o?t:n.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(n)||n)?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach((function(t){t.definition.topCalc&&e.table.modules.columnCalcs.initializeTopRow(),t.definition.bottomCalc&&e.table.modules.columnCalcs.initializeBottomRow()}));Array.isArray(n)||(n=[n]),n.forEach((function(t,n){var o,i;o="function"==typeof t?t:(i=e.table.columnManager.getColumnByField(t))?function(t){return i.getFieldValue(t)}:function(e){return e[t]},e.groupIDLookups.push({field:"function"!=typeof t&&t,func:o,values:!!e.allowedValues&&e.allowedValues[n]})})),o&&(Array.isArray(o)||(o=[o]),o.forEach((function(t){t="function"==typeof t?t:function(){return!0}})),e.startOpen=o),i&&(e.headerGenerator=Array.isArray(i)?i:[i]),this.initialized=!0},N.prototype.setDisplayIndex=function(t){this.displayIndex=t},N.prototype.getDisplayIndex=function(){return this.displayIndex},N.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},N.prototype.getGroups=function(t){var e=[];return this.groupList.forEach((function(n){e.push(t?n.getComponent():n)})),e},N.prototype.getChildGroups=function(t){var e=this,n=[];return t||(t=this),t.groupList.forEach((function(t){t.groupList.length?n=n.concat(e.getChildGroups(t)):n.push(t)})),n},N.prototype.wipe=function(){this.groupList.forEach((function(t){t.wipe()}))},N.prototype.pullGroupListData=function(t){var e=this,n=[];return t.forEach((function(t){var o={level:0,rowCount:0,headerContent:""},i=[];t.hasSubGroups?(i=e.pullGroupListData(t.groupList),o.level=t.level,o.rowCount=i.length-t.groupList.length,o.headerContent=t.generator(t.key,o.rowCount,t.rows,t),n.push(o),n=n.concat(i)):(o.level=t.level,o.headerContent=t.generator(t.key,t.rows.length,t.rows,t),o.rowCount=t.getRows().length,n.push(o),t.getRows().forEach((function(t){n.push(t.getData("data"))})))})),n},N.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},N.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach((function(n){var o=n.getRowGroup(t);o&&(e=o)})),e},N.prototype.countGroups=function(){return this.groupList.length},N.prototype.generateGroups=function(t){var e=this,n=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(t){e.createGroup(t,0,n)})),t.forEach((function(t){e.assignRowToExistingGroup(t,n)}))):t.forEach((function(t){e.assignRowToGroup(t,n)}))},N.prototype.createGroup=function(t,e,n){var o,i=e+"_"+t;n=n||[],o=new z(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],n[i]),this.groups[i]=o,this.groupList.push(o)},N.prototype.assignRowToExistingGroup=function(t,e){var n="0_"+this.groupIDLookups[0].func(t.getData());this.groups[n]&&this.groups[n].addRow(t)},N.prototype.assignRowToGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),o=!this.groups["0_"+n];return o&&this.createGroup(n,0,e),this.groups["0_"+n].addRow(t),!o},N.prototype.reassignRowToGroup=function(t){var e=t.getGroup(),n=e.getPath(),o=this.getExpectedPath(t);n.length==o.length&&n.every((function(t,e){return t===o[e]}))||(e.removeRow(t),this.assignRowToGroup(t,self.groups),this.table.rowManager.refreshActiveData("group",!1,!0))},N.prototype.getExpectedPath=function(t){var e=[],n=t.getData();return this.groupIDLookups.forEach((function(t){e.push(t.func(n))})),e},N.prototype.updateGroupRows=function(t){var e=[];if(this.groupList.forEach((function(t){e=e.concat(t.getHeadersAndRows())})),t){var n=this.table.rowManager.setDisplayRows(e,this.getDisplayIndex());!0!==n&&this.setDisplayIndex(n),this.table.rowManager.refreshActiveData("group",!0,!0)}return e},N.prototype.scrollHeaders=function(t){this.table.options.virtualDomHoz&&(t-=this.table.vdomHoz.vDomPadLeft),t+="px",this.groupList.forEach((function(e){e.scrollHeader(t)}))},N.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1))},m.prototype.registerModule("groupRows",N);var F=function(t){this.table=t,this.history=[],this.index=-1};F.prototype.clear=function(){this.history=[],this.index=-1},F.prototype.action=function(t,e,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:n}),this.index++},F.prototype.getHistoryUndoSize=function(){return this.index+1},F.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},F.prototype.clearComponentHistory=function(t){var e=this.history.findIndex((function(e){return e.component===t}));e>-1&&(this.history.splice(e,1),e<=this.index&&this.index--,this.clearComponentHistory(t))},F.prototype.undo=function(){if(this.index>-1){var e=this.history[this.index];return this.undoers[e.type].call(this,e),this.index--,this.table.options.historyUndo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return t.warn("History Undo Error - No more history to undo"),!1},F.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var e=this.history[this.index];return this.redoers[e.type].call(this,e),this.table.options.historyRedo.call(this.table,e.type,e.component.getComponent(),e.data),!0}return t.warn("History Redo Error - No more history to redo"),!1},F.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posFrom],!t.data.after),this.table.rowManager.redraw()}},F.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.posTo],t.data.after),this.table.rowManager.redraw()}},F.prototype._rebindRow=function(t,e){this.history.forEach((function(n){if(n.component instanceof h)n.component===t&&(n.component=e);else if(n.component instanceof d&&n.component.row===t){var o=n.component.column.getField();o&&(n.component=e.getCell(o))}}))},m.prototype.registerModule("history",F);var j=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};j.prototype.parseTable=function(){var t=this.table.element,e=this.table.options,n=(e.columns,t.getElementsByTagName("th")),i=t.getElementsByTagName("tbody")[0],r=[];this.hasIndex=!1,this.table.options.htmlImporting.call(this.table),i=i?i.getElementsByTagName("tr"):[],this._extractOptions(t,e),n.length?this._extractHeaders(n,i):this._generateBlankHeaders(n,i);for(var s=0;s<i.length;s++){var a=i[s].getElementsByTagName("td"),l={};this.hasIndex||(l[e.index]=s);for(var c=0;c<a.length;c++){var u=a[c];void 0!==this.fieldIndex[c]&&(l[this.fieldIndex[c]]=u.innerHTML)}r.push(l)}var h=document.createElement("div"),p=t.attributes;for(var c in p)"object"==o(p[c])&&h.setAttribute(p[c].name,p[c].value);t.parentNode.replaceChild(h,t),e.data=r,this.table.options.htmlImported.call(this.table),this.table.element=h},j.prototype._extractOptions=function(t,e,n){var i=t.attributes,r=n?Object.assign([],n):Object.keys(e),s={};for(var a in r.forEach((function(t){s[t.toLowerCase()]=t})),i){var l,c=i[a];c&&"object"==(void 0===c?"undefined":o(c))&&c.name&&0===c.name.indexOf("tabulator-")&&(l=c.name.replace("tabulator-",""),void 0!==s[l]&&(e[s[l]]=this._attribValue(c.value)))}},j.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},j.prototype._findCol=function(t){return this.table.options.columns.find((function(e){return e.title===t}))||!1},j.prototype._extractHeaders=function(t,e){for(var n=0;n<t.length;n++){var o,i=t[n],r=!1,s=this._findCol(i.textContent);s?r=!0:s={title:i.textContent.trim()},s.field||(s.field=i.textContent.trim().toLowerCase().replace(" ","_")),(o=i.getAttribute("width"))&&!s.width&&(s.width=o),i.attributes,this._extractOptions(i,s,a.prototype.defaultOptionList),this.fieldIndex[n]=s.field,s.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(s)}},j.prototype._generateBlankHeaders=function(t,e){for(var n=0;n<t.length;n++){var o=t[n],i={title:"",field:"col"+n};this.fieldIndex[n]=i.field;var r=o.getAttribute("width");r&&(i.width=r),this.table.options.columns.push(i)}},m.prototype.registerModule("htmlTableImport",j);var H=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};H.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var n in this.bindings)e[n]=this.bindings[n];if(Object.keys(t).length)for(var o in t)e[o]=t[o];this.mapBindings(e),this.bindEvents()}},H.prototype.mapBindings=function(e){var n=this,i=this,r=function(r){n.actions[r]?e[r]&&("object"!==o(e[r])&&(e[r]=[e[r]]),e[r].forEach((function(t){i.mapBinding(r,t)}))):t.warn("Key Binding Error - no such action:",r)};for(var s in e)r(s)},H.prototype.mapBinding=function(t,e){var n=this,o={action:this.actions[t],keys:[],ctrl:!1,shift:!1,meta:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach((function(t){switch(t){case"ctrl":o.ctrl=!0;break;case"shift":o.shift=!0;break;case"meta":o.meta=!0;break;default:t=parseInt(t),o.keys.push(t),n.watchKeys[t]||(n.watchKeys[t]=[]),n.watchKeys[t].push(o)}}))},H.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var n=e.keyCode,o=t.watchKeys[n];o&&(t.pressedKeys.push(n),o.forEach((function(n){t.checkBinding(e,n)})))},this.keydownBinding=function(e){var n=e.keyCode;if(t.watchKeys[n]){var o=t.pressedKeys.indexOf(n);o>-1&&t.pressedKeys.splice(o,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},H.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},H.prototype.checkBinding=function(t,e){var n=this,o=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&t.metaKey==e.meta&&(e.keys.forEach((function(t){-1==n.pressedKeys.indexOf(t)&&(o=!1)})),o&&e.action.call(n,t),!0)},H.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},H.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,n=e.scrollTop-e.height;e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n>=0?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,n=e.scrollTop+e.height,o=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n<=o?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().prev())},navNext:function(t){var e,n=!1,o=this.table.options.tabEndNewRow;this.table.modExists("edit")&&(n=this.table.modules.edit.currentCell)&&(t.preventDefault(),(e=n.nav()).next()||o&&(n.getElement().firstChild.blur(),(o=!0===o?this.table.addRow({}):"function"==typeof o?this.table.addRow(o(n.row.getComponent())):this.table.addRow(Object.assign({},o))).then((function(){setTimeout((function(){e.next()}))}))))},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().left())},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().right())},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().up())},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().down())},undo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}},m.prototype.registerModule("keybindings",H);var I=function(t){this.table=t,this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1};I.prototype.initializeColumnHeader=function(t){var e,n=this;t.definition.headerContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.definition.headerContextMenu)),this.tapHold(t,t.definition.headerContextMenu)),t.definition.headerMenu&&((e=document.createElement("span")).classList.add("tabulator-header-menu-button"),e.innerHTML="&vellip;",e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),n.LoadMenuEvent(t,t.definition.headerMenu,e)})),t.titleElement.insertBefore(e,t.titleElement.firstChild))},I.prototype.LoadMenuEvent=function(t,e,n){e="function"==typeof e?e.call(this.table,t.getComponent(),n):e,this.loadMenu(n,t,e)},I.prototype.tapHold=function(t,e){var n=this,o=t.getElement(),i=null,r=!1;o.addEventListener("touchstart",(function(o){clearTimeout(i),r=!1,i=setTimeout((function(){clearTimeout(i),i=null,r=!0,n.LoadMenuEvent(t,e,o)}),1e3)}),{passive:!0}),o.addEventListener("touchend",(function(t){clearTimeout(i),i=null,r&&t.preventDefault()}))},I.prototype.initializeCell=function(t){t.column.definition.contextMenu&&(t.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,t.column.definition.contextMenu)),this.tapHold(t,t.column.definition.contextMenu)),t.column.definition.clickMenu&&t.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,t,t.column.definition.clickMenu))},I.prototype.initializeRow=function(t){this.table.options.rowContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.rowContextMenu)),this.tapHold(t,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.rowClickMenu))},I.prototype.initializeGroup=function(t){this.table.options.groupContextMenu&&(t.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,t,this.table.options.groupContextMenu)),this.tapHold(t,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&t.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,t,this.table.options.groupClickMenu))},I.prototype.loadMenu=function(t,e,n,o){var i=this,r=!(t instanceof MouseEvent),s=document.createElement("div");if(s.classList.add("tabulator-menu"),r||t.preventDefault(),n&&n.length){if(!o){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){i.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuElements=[]}n.forEach((function(t){var n=document.createElement("div"),o=t.label,r=t.disabled;t.separator?n.classList.add("tabulator-menu-separator"):(n.classList.add("tabulator-menu-item"),"function"==typeof o&&(o=o.call(i.table,e.getComponent())),o instanceof Node?n.appendChild(o):n.innerHTML=o,"function"==typeof r&&(r=r.call(i.table,e.getComponent())),r?(n.classList.add("tabulator-menu-item-disabled"),n.addEventListener("click",(function(t){t.stopPropagation()}))):t.menu&&t.menu.length?n.addEventListener("click",(function(o){o.stopPropagation(),i.hideOldSubMenus(s),i.loadMenu(o,e,t.menu,n)})):t.action&&n.addEventListener("click",(function(n){t.action(n,e.getComponent())})),t.menu&&t.menu.length&&n.classList.add("tabulator-menu-item-submenu")),s.appendChild(n)})),s.addEventListener("click",(function(t){i.hideMenu()})),this.menuElements.push(s),this.positionMenu(s,o,r,t)}},I.prototype.hideOldSubMenus=function(t){var e=this.menuElements.indexOf(t);if(e>-1)for(var n=this.menuElements.length-1;n>e;n--){var o=this.menuElements[n];o.parentNode&&o.parentNode.removeChild(o),this.menuElements.pop()}},I.prototype.positionMenu=function(t,e,n,o){var i,r,s,a=this,l=Math.max(document.body.offsetHeight,window.innerHeight);e?(i=(s=m.prototype.helpers.elOffset(e)).left+e.offsetWidth,r=s.top-1):(i=n?o.touches[0].pageX:o.pageX,r=n?o.touches[0].pageY:o.pageY,this.positionReversedX=!1),t.style.top=r+"px",t.style.left=i+"px",setTimeout((function(){a.table.rowManager.element.addEventListener("scroll",a.blurEvent),document.body.addEventListener("click",a.blurEvent),document.body.addEventListener("contextmenu",a.blurEvent),window.addEventListener("resize",a.blurEvent),document.body.addEventListener("keydown",a.escEvent)}),100),document.body.appendChild(t),r+t.offsetHeight>=l&&(t.style.top="",t.style.bottom=e?l-s.top-e.offsetHeight-1+"px":l-r+"px"),(i+t.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(t.style.left="",t.style.right=e?document.documentElement.offsetWidth-s.left+"px":document.documentElement.offsetWidth-i+"px",this.positionReversedX=!0)},I.prototype.isOpen=function(){return!!this.menuElements.length},I.prototype.escMenu=function(t){27==t.keyCode&&this.hideMenu()},I.prototype.hideMenu=function(){this.menuElements.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)},I.prototype.menus={},m.prototype.registerModule("menu",I);var B=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};B.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},B.prototype.initializeColumn=function(t){var e,n=this,o={};t.modules.frozen||(e=t.getElement(),o.mousemove=function(o){t.parent===n.moving.parent&&((n.touchMove?o.touches[0].pageX:o.pageX)-m.prototype.helpers.elOffset(e).left+n.table.columnManager.element.scrollLeft>t.getWidth()/2?n.toCol===t&&n.toColAfter||(e.parentNode.insertBefore(n.placeholderElement,e.nextSibling),n.moveColumn(t,!0)):(n.toCol!==t||n.toColAfter)&&(e.parentNode.insertBefore(n.placeholderElement,e),n.moveColumn(t,!1)))}.bind(n),e.addEventListener("mousedown",(function(e){n.touchMove=!1,1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),n.bindTouchEvents(t)),t.modules.moveColumn=o},B.prototype.bindTouchEvents=function(t){var e,n,o,i,r,s,a=this,l=t.getElement(),c=!1;l.addEventListener("touchstart",(function(l){a.checkTimeout=setTimeout((function(){a.touchMove=!0,t,e=t.nextColumn(),o=e?e.getWidth()/2:0,n=t.prevColumn(),i=n?n.getWidth()/2:0,r=0,s=0,c=!1,a.startMove(l,t)}),a.checkPeriod)}),{passive:!0}),l.addEventListener("touchmove",(function(l){var u,h;a.moving&&(a.moveHover(l),c||(c=l.touches[0].pageX),(u=l.touches[0].pageX-c)>0?e&&u-r>o&&(h=e)!==t&&(c=l.touches[0].pageX,h.getElement().parentNode.insertBefore(a.placeholderElement,h.getElement().nextSibling),a.moveColumn(h,!0)):n&&-u-s>i&&(h=n)!==t&&(c=l.touches[0].pageX,h.getElement().parentNode.insertBefore(a.placeholderElement,h.getElement()),a.moveColumn(h,!1)),h&&(h,e=h.nextColumn(),r=o,o=e?e.getWidth()/2:0,n=h.prevColumn(),s=i,i=n?n.getWidth()/2:0))}),{passive:!0}),l.addEventListener("touchend",(function(t){a.checkTimeout&&clearTimeout(a.checkTimeout),a.moving&&a.endMove(t)}))},B.prototype.startMove=function(t,e){var n=e.getElement();this.moving=e,this.startX=(this.touchMove?t.touches[0].pageX:t.pageX)-m.prototype.helpers.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(t)},B.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)}))},B.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach((function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)}))},B.prototype.moveColumn=function(t,e){var n=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach((function(t,e){var o=t.getElement(!0);o.parentNode.insertBefore(n[e].getElement(),o.nextSibling)})):t.getCells().forEach((function(t,e){var o=t.getElement(!0);o.parentNode.insertBefore(n[e].getElement(),o)}))},B.prototype.endMove=function(t){(1===t.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))},B.prototype.moveHover=function(t){var e,n=this,o=n.table.columnManager.getElement(),i=o.scrollLeft,r=(n.touchMove?t.touches[0].pageX:t.pageX)-m.prototype.helpers.elOffset(o).left+i;n.hoverElement.style.left=r-n.startX+"px",r-i<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.max(0,i-5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1))),i+o.clientWidth-r<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout((function(){e=Math.min(o.clientWidth,i+5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1}),1)))},m.prototype.registerModule("moveColumn",B);var V=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1};V.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},V.prototype.initialize=function(t){this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements},V.prototype.setHandle=function(t){this.hasHandle=t},V.prototype.initializeGroupHeader=function(t){var e=this,n={};n.mouseup=function(t){e.tableRowDrop(t,row)}.bind(e),n.mousemove=function(n){var o;n.pageY-m.prototype.helpers.elOffset(t.element).top+e.table.rowManager.element.scrollTop>t.getHeight()/2?e.toRow===t&&e.toRowAfter||((o=t.getElement()).parentNode.insertBefore(e.placeholderElement,o.nextSibling),e.moveRow(t,!0)):(e.toRow!==t||e.toRowAfter)&&(o=t.getElement()).previousSibling&&(o.parentNode.insertBefore(e.placeholderElement,o),e.moveRow(t,!1))}.bind(e),t.modules.moveRow=n},V.prototype.initializeRow=function(t){var e,n=this,o={};o.mouseup=function(e){n.tableRowDrop(e,t)}.bind(n),o.mousemove=function(e){var o=t.getElement();e.pageY-m.prototype.helpers.elOffset(o).top+n.table.rowManager.element.scrollTop>t.getHeight()/2?n.toRow===t&&n.toRowAfter||(o.parentNode.insertBefore(n.placeholderElement,o.nextSibling),n.moveRow(t,!0)):(n.toRow!==t||n.toRowAfter)&&(o.parentNode.insertBefore(n.placeholderElement,o),n.moveRow(t,!1))}.bind(n),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",(function(e){1===e.which&&(n.checkTimeout=setTimeout((function(){n.startMove(e,t)}),n.checkPeriod))})),e.addEventListener("mouseup",(function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),this.bindTouchEvents(t,t.getElement())),t.modules.moveRow=o},V.prototype.initializeCell=function(t){var e=this,n=t.getElement(!0);n.addEventListener("mousedown",(function(n){1===n.which&&(e.checkTimeout=setTimeout((function(){e.startMove(n,t.row)}),e.checkPeriod))})),n.addEventListener("mouseup",(function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})),this.bindTouchEvents(t.row,n)},V.prototype.bindTouchEvents=function(t,e){var n,o,i,r,s,a,l=this,c=!1;e.addEventListener("touchstart",(function(e){l.checkTimeout=setTimeout((function(){l.touchMove=!0,t,n=t.nextRow(),i=n?n.getHeight()/2:0,o=t.prevRow(),r=o?o.getHeight()/2:0,s=0,a=0,c=!1,l.startMove(e,t)}),l.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,e.addEventListener("touchmove",(function(e){var u,h;l.moving&&(e.preventDefault(),l.moveHover(e),c||(c=e.touches[0].pageY),(u=e.touches[0].pageY-c)>0?n&&u-s>i&&(h=n)!==t&&(c=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement().nextSibling),l.moveRow(h,!0)):o&&-u-a>r&&(h=o)!==t&&(c=e.touches[0].pageY,h.getElement().parentNode.insertBefore(l.placeholderElement,h.getElement()),l.moveRow(h,!1)),h&&(h,n=h.nextRow(),s=i,i=n?n.getHeight()/2:0,o=h.prevRow(),a=r,r=o?o.getHeight()/2:0))})),e.addEventListener("touchend",(function(t){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&(l.endMove(t),l.touchMove=!1)}))},V.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)}))},V.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach((function(t){"row"!==t.type&&"group"!==t.type||!t.modules.moveRow.mousemove||t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)}))},V.prototype.startMove=function(t,e){var n=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},V.prototype.setStartPosition=function(t,e){var n,o,i=this.touchMove?t.touches[0].pageX:t.pageX,r=this.touchMove?t.touches[0].pageY:t.pageY;n=e.getElement(),this.connection?(o=n.getBoundingClientRect(),this.startX=o.left-i+window.pageXOffset,this.startY=o.top-r+window.pageYOffset):this.startY=r-n.getBoundingClientRect().top},V.prototype.endMove=function(t){t&&1!==t.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},V.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},V.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},V.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),n=e.scrollTop,o=(this.touchMove?t.touches[0].pageY:t.pageY)-e.getBoundingClientRect().top+n;this.hoverElement.style.top=o-this.startY+"px"},V.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+(this.touchMove?t.touches[0].pageX:t.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?t.touches[0].pageY:t.pageY)+"px"},V.prototype.elementRowDrop=function(t,e,n){this.table.options.movableRowsElementDrop&&this.table.options.movableRowsElementDrop(t,e,!!n&&n.getComponent())},V.prototype.connectToTables=function(t){var e,n=this;this.connectionSelectorsTables&&(e=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","connect",{row:t})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(t){"string"==typeof t?n.connectionElements=n.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(t))):n.connectionElements.push(t)})),this.connectionElements.forEach((function(t){var e=function(e){n.elementRowDrop(e,t,n.moving)};t.addEventListener("mouseup",e),t.tabulatorElementDropEvent=e,t.classList.add("tabulator-movingrow-receiving")})))},V.prototype.disconnectFromTables=function(){var t;this.connectionSelectorsTables&&(t=this.table.modules.comms.getConnections(this.connectionSelectorsTables),this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(t){t.classList.remove("tabulator-movingrow-receiving"),t.removeEventListener("mouseup",t.tabulatorElementDropEvent),delete t.tabulatorElementDropEvent}))},V.prototype.connect=function(e,n){return this.connectedTable?(t.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=n,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,n,e),!0)},V.prototype.disconnect=function(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,e)):t.warn("Move Row Error - trying to disconnect from non connected table")},V.prototype.dropComplete=function(e,n,i){var r=!1;if(i){switch(o(this.table.options.movableRowsSender)){case"string":r=this.senders[this.table.options.movableRowsSender];break;case"function":r=this.table.options.movableRowsSender}r?r.call(this,this.moving.getComponent(),n?n.getComponent():void 0,e):this.table.options.movableRowsSender&&t.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),n?n.getComponent():void 0,e)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),n?n.getComponent():void 0,e);this.endMove()},V.prototype.tableRowDrop=function(e,n){var i=!1,r=!1;switch(e.stopImmediatePropagation(),o(this.table.options.movableRowsReceiver)){case"string":i=this.receivers[this.table.options.movableRowsReceiver];break;case"function":i=this.table.options.movableRowsReceiver}i?r=i.call(this,this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable):t.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),r?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),n?n.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:n,success:r})},V.prototype.receivers={insert:function(t,e,n){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,n){return this.table.addRow(t.getData()),!0},update:function(t,e,n){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,n){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},V.prototype.senders={delete:function(t,e,n){t.delete()}},V.prototype.commsReceived=function(t,e,n){switch(e){case"connect":return this.connect(t,n.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,n.row,n.success)}},m.prototype.registerModule("moveRow",V);var W=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};W.prototype.initializeColumn=function(t){var e=this,n=!1,o={};this.allowedTypes.forEach((function(i){var r,s="mutator"+(i.charAt(0).toUpperCase()+i.slice(1));t.definition[s]&&(r=e.lookupMutator(t.definition[s]))&&(n=!0,o[s]={mutator:r,params:t.definition[s+"Params"]||{}})})),n&&(t.modules.mutate=o)},W.prototype.lookupMutator=function(e){var n=!1;switch(void 0===e?"undefined":o(e)){case"string":this.mutators[e]?n=this.mutators[e]:t.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":n=e}return n},W.prototype.transformRow=function(t,e,n){var o,i="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse((function(r){var s,a,l;r.modules.mutate&&(s=r.modules.mutate[i]||r.modules.mutate.mutator||!1)&&(o=r.getFieldValue(void 0!==n?n:t),"data"!=e&&void 0===o||(l=r.getComponent(),a="function"==typeof s.params?s.params(o,t,e,l):s.params,r.setFieldValue(t,s.mutator(o,t,e,a,l))))})),t},W.prototype.transformCell=function(t,e){var n=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1,o={};return n?(o=Object.assign(o,t.row.getData()),t.column.setFieldValue(o,e),n.mutator(e,o,"edit",n.params,t.getComponent())):e},W.prototype.enable=function(){this.enabled=!0},W.prototype.disable=function(){this.enabled=!1},W.prototype.mutators={},m.prototype.registerModule("mutator",W);var G=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.createElements()};G.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))},G.prototype.generatePageSizeSelectList=function(){var t=this,e=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))e=this.table.options.paginationSizeSelector,this.pageSizes=e,-1==this.pageSizes.indexOf(this.size)&&e.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){e=[];for(var n=1;n<5;n++)e.push(this.size*n);this.pageSizes=e}else e=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);e.forEach((function(e){var n=document.createElement("option");n.value=e,!0===e?t.table.modules.localize.bind("pagination|all",(function(t){n.innerHTML=t})):n.innerHTML=e,t.pageSizeSelect.appendChild(n)})),this.pageSizeSelect.value=this.size}},G.prototype.initialize=function(t){var e,n,o,i=this;this.dataSentNames=Object.assign({},this.paginationDataSentNames),this.dataSentNames=Object.assign(this.dataSentNames,this.table.options.paginationDataSent),this.dataReceivedNames=Object.assign({},this.paginationDataReceivedNames),this.dataReceivedNames=Object.assign(this.dataReceivedNames,this.table.options.paginationDataReceived),i.table.modules.localize.bind("pagination|first",(function(t){i.firstBut.innerHTML=t})),i.table.modules.localize.bind("pagination|first_title",(function(t){i.firstBut.setAttribute("aria-label",t),i.firstBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|prev",(function(t){i.prevBut.innerHTML=t})),i.table.modules.localize.bind("pagination|prev_title",(function(t){i.prevBut.setAttribute("aria-label",t),i.prevBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|next",(function(t){i.nextBut.innerHTML=t})),i.table.modules.localize.bind("pagination|next_title",(function(t){i.nextBut.setAttribute("aria-label",t),i.nextBut.setAttribute("title",t)})),i.table.modules.localize.bind("pagination|last",(function(t){i.lastBut.innerHTML=t})),i.table.modules.localize.bind("pagination|last_title",(function(t){i.lastBut.setAttribute("aria-label",t),i.lastBut.setAttribute("title",t)})),i.firstBut.addEventListener("click",(function(){i.setPage(1).then((function(){})).catch((function(){}))})),i.prevBut.addEventListener("click",(function(){i.previousPage().then((function(){})).catch((function(){}))})),i.nextBut.addEventListener("click",(function(){i.nextPage().then((function(){})).catch((function(){}))})),i.lastBut.addEventListener("click",(function(){i.setPage(i.max).then((function(){})).catch((function(){}))})),i.table.options.paginationElement&&(i.element=i.table.options.paginationElement),this.pageSizeSelect&&(e=document.createElement("label"),i.table.modules.localize.bind("pagination|page_size",(function(t){i.pageSizeSelect.setAttribute("aria-label",t),i.pageSizeSelect.setAttribute("title",t),e.innerHTML=t})),i.element.appendChild(e),i.element.appendChild(i.pageSizeSelect),i.pageSizeSelect.addEventListener("change",(function(t){i.setPageSize("true"==i.pageSizeSelect.value||i.pageSizeSelect.value),i.setPage(1).then((function(){})).catch((function(){}))}))),i.element.appendChild(i.firstBut),i.element.appendChild(i.prevBut),i.element.appendChild(i.pagesElement),i.element.appendChild(i.nextBut),i.element.appendChild(i.lastBut),i.table.options.paginationElement||t||i.table.footerManager.append(i.element,i),i.mode=i.table.options.pagination,i.table.options.paginationSize?i.size=i.table.options.paginationSize:((n=document.createElement("div")).classList.add("tabulator-row"),n.style.visibility=t,(o=document.createElement("div")).classList.add("tabulator-cell"),o.innerHTML="Page Row Test",n.appendChild(o),i.table.rowManager.getTableElement().appendChild(n),i.size=Math.floor(i.table.rowManager.getElement().clientHeight/n.offsetHeight),i.table.rowManager.getTableElement().removeChild(n)),i.count=i.table.options.paginationButtonCount,i.generatePageSizeSelectList()},G.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},G.prototype.setDisplayIndex=function(t){this.displayIndex=t},G.prototype.getDisplayIndex=function(){return this.displayIndex},G.prototype.setMaxRows=function(t){this.max=t?!0===this.size?1:Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},G.prototype.reset=function(t,e){return("local"==this.mode||t)&&(this.page=1),e&&(this.initialLoad=!0),!0},G.prototype.setMaxPage=function(t){t=parseInt(t),this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},G.prototype.setPage=function(e){var n=this,o=this;switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return new Promise((function(i,r){(e=parseInt(e))>0&&e<=n.max||"local"!==n.mode?(n.page=e,n.trigger().then((function(){i()})).catch((function(){r()})),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.page&&o.table.modules.persistence.save("page")):(t.warn("Pagination Error - Requested page is out of range of 1 - "+n.max+":",e),r())}))},G.prototype.setPageToRow=function(e){var n=this;return new Promise((function(o,i){var r=n.table.rowManager.getDisplayRows(n.displayIndex-1).indexOf(e);if(r>-1){var s=!0===n.size?1:Math.ceil((r+1)/n.size);n.setPage(s).then((function(){o()})).catch((function(){i()}))}else t.warn("Pagination Error - Requested row is not visible"),i()}))},G.prototype.setPageSize=function(t){!0!==t&&(t=parseInt(t)),t>0&&(this.size=t),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.page&&this.table.modules.persistence.save("page")},G.prototype._setPageButtons=function(){for(var t=Math.floor((this.count-1)/2),e=Math.ceil((this.count-1)/2),n=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),o=this.page<=e?Math.min(this.count,this.max):Math.min(this.page+e,this.max);this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(var i=n;i<=o;i++)i>0&&i<=this.max&&this.pagesElement.appendChild(this._generatePageButton(i));this.footerRedraw()},G.prototype._generatePageButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("tabulator-page"),t==e.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),e.table.modules.localize.bind("pagination|page_title",(function(e){n.setAttribute("aria-label",e+" "+t),n.setAttribute("title",e+" "+t)})),n.setAttribute("data-page",t),n.textContent=t,n.addEventListener("click",(function(n){e.setPage(t).then((function(){})).catch((function(){}))})),n},G.prototype.previousPage=function(){var e=this;return new Promise((function(n,o){e.page>1?(e.page--,e.trigger().then((function(){n()})).catch((function(){o()})),e.table.options.persistence&&e.table.modExists("persistence",!0)&&e.table.modules.persistence.config.page&&e.table.modules.persistence.save("page")):(t.warn("Pagination Error - Previous page would be less than page 1:",0),o())}))},G.prototype.nextPage=function(){var e=this;return new Promise((function(n,o){e.page<e.max?(e.page++,e.trigger().then((function(){n()})).catch((function(){o()})),e.table.options.persistence&&e.table.modExists("persistence",!0)&&e.table.modules.persistence.config.page&&e.table.modules.persistence.save("page")):(e.progressiveLoad||t.warn("Pagination Error - Next page would be greater than maximum page of "+e.max+":",e.max+1),o())}))},G.prototype.getPage=function(){return this.page},G.prototype.getPageMax=function(){return this.max},G.prototype.getPageSize=function(t){return this.size},G.prototype.getMode=function(){return this.mode},G.prototype.getRows=function(t){var e,n,o;if("local"==this.mode){e=[],!0===this.size?(n=0,o=t.length):o=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var i=n;i<o;i++)t[i]&&e.push(t[i]);return e}return this._setPageButtons(),t.slice(0)},G.prototype.trigger=function(){var e,n=this;return new Promise((function(o,i){switch(n.mode){case"local":e=n.table.rowManager.scrollLeft,n.table.rowManager.refreshActiveData("page"),n.table.rowManager.scrollHorizontal(e),n.table.options.pageLoaded.call(n.table,n.getPage()),o();break;case"remote":case"progressive_load":case"progressive_scroll":n.table.modules.ajax.blockActiveRequest(),n._getRemotePage().then((function(){o()})).catch((function(){i()}));break;default:t.warn("Pagination Error - no such pagination mode:",n.mode),i()}}))},G.prototype._getRemotePage=function(){var t,e,n=this,o=this;return new Promise((function(i,r){if(o.table.modExists("ajax",!0)||r(),t=m.prototype.helpers.deepClone(o.table.modules.ajax.getParams()||{}),(e=o.table.modules.ajax.getParams())[n.dataSentNames.page]=o.page,n.size&&(e[n.dataSentNames.size]=n.size),n.table.options.ajaxSorting&&n.table.modExists("sort")){var s=o.table.modules.sort.getSort();s.forEach((function(t){delete t.column})),e[n.dataSentNames.sorters]=s}if(n.table.options.ajaxFiltering&&n.table.modExists("filter")){var a=o.table.modules.filter.getFilters(!0,!0);e[n.dataSentNames.filters]=a}o.table.modules.ajax.setParams(e),o.table.modules.ajax.sendRequest(n.progressiveLoad).then((function(t){o._parseRemoteData(t),i()})).catch((function(t){r()})),o.table.modules.ajax.setParams(t)}))},G.prototype._parseRemoteData=function(e){var n,o,i=this;if(void 0===e[this.dataReceivedNames.last_page]&&t.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),e[this.dataReceivedNames.data]){if(this.max=parseInt(e[this.dataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page):this.table.rowManager.addRows(e[this.dataReceivedNames.data]),this.page<this.max&&setTimeout((function(){i.nextPage().then((function(){})).catch((function(){}))}),i.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":e=this.table.rowManager.getData().concat(e[this.dataReceivedNames.data]),this.table.rowManager.setData(e,!0,this.initialLoad&&1==this.page),o=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,i.table.rowManager.element.scrollHeight<=i.table.rowManager.element.clientHeight+o&&i.nextPage().then((function(){})).catch((function(){}))}else n=this.table.rowManager.scrollLeft,this.table.rowManager.setData(e[this.dataReceivedNames.data],!1,this.initialLoad&&1==this.page),this.table.rowManager.scrollHorizontal(n),this.table.columnManager.scrollHorizontal(n),this.table.options.pageLoaded.call(this.table,this.getPage());this.initialLoad=!1}else t.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property")},G.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},G.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},G.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},m.prototype.registerModule("page",G);var Y=function(t){this.table=t,this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1};Y.prototype.localStorageTest=function(){var t="_tabulator_test";try{return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}},Y.prototype.initialize=function(){var e,n=this.table.options.persistenceMode,o=this.table.options.persistenceID;this.mode=!0!==n?n:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:this.readers[this.table.options.persistenceReaderFunc]?this.readFunc=this.readers[this.table.options.persistenceReaderFunc]:t.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):this.readers[this.mode]?this.readFunc=this.readers[this.mode]:t.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:this.readers[this.table.options.persistenceWriterFunc]?this.writeFunc=this.readers[this.table.options.persistenceWriterFunc]:t.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):this.writers[this.mode]?this.writeFunc=this.writers[this.mode]:t.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(o||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(e=this.retreiveData("page"))&&(void 0===e.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=e.paginationSize),void 0===e.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=e.paginationInitialPage)),this.config.group&&(e=this.retreiveData("group"))&&(void 0===e.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=e.groupBy),void 0===e.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=e.groupStartOpen),void 0===e.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=e.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns))},Y.prototype.initializeColumn=function(t){var e,n=this;this.config.columns&&(this.defWatcherBlock=!0,e=t.getDefinition(),(!0===this.config.columns?Object.keys(e):this.config.columns).forEach((function(t){var o=Object.getOwnPropertyDescriptor(e,t),i=e[t];o&&Object.defineProperty(e,t,{set:function(t){i=t,n.defWatcherBlock||n.save("columns"),o.set&&o.set(t)},get:function(){return o.get&&o.get(),i}})})),this.defWatcherBlock=!1)},Y.prototype.load=function(t,e){var n=this.retreiveData(t);return e&&(n=n?this.mergeDefinition(e,n):e),n},Y.prototype.retreiveData=function(t){return!!this.readFunc&&this.readFunc(this.id,t)},Y.prototype.mergeDefinition=function(t,e){var n=this,o=[];return(e=e||[]).forEach((function(e,i){var r,s=n._findColumn(t,e);s&&(!0===n.config.columns||null==n.config.columns?(r=Object.keys(s)).push("width"):r=n.config.columns,r.forEach((function(t){"columns"!==t&&void 0!==e[t]&&(s[t]=e[t])})),s.columns&&(s.columns=n.mergeDefinition(s.columns,e.columns)),o.push(s))})),t.forEach((function(t,i){n._findColumn(e,t)||(o.length>i?o.splice(i,0,t):o.push(t))})),o},Y.prototype._findColumn=function(t,e){var n=e.columns?"group":e.field?"field":"object";return t.find((function(t){switch(n){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}}))},Y.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort());break;case"group":e=this.getGroupConfig();break;case"page":e=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,t,e)},Y.prototype.validateSorters=function(t){return t.forEach((function(t){t.column=t.field,delete t.field})),t},Y.prototype.getGroupConfig=function(){var t={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(t.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(t.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(t.groupHeader=this.table.options.groupHeader)),t},Y.prototype.getPageConfig=function(){var t={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(t.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(t.paginationInitialPage=this.table.modules.page.getPage())),t},Y.prototype.parseColumns=function(t){var e=this,n=[],o=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return t.forEach((function(t){var i,r={},s=t.getDefinition();t.isGroup?(r.title=s.title,r.columns=e.parseColumns(t.getColumns())):(r.field=t.getField(),!0===e.config.columns||null==e.config.columns?(i=Object.keys(s)).push("width"):i=e.config.columns,i.forEach((function(e){switch(e){case"width":r.width=t.getWidth();break;case"visible":r.visible=t.visible;break;default:"function"!=typeof s[e]&&-1===o.indexOf(e)&&(r[e]=s[e])}}))),n.push(r)})),n},Y.prototype.readers={local:function(t,e){var n=localStorage.getItem(t+"-"+e);return!!n&&JSON.parse(n)},cookie:function(t,e){var n,o,i=document.cookie,r=t+"-"+e,s=i.indexOf(r+"=");return s>-1&&(i=i.substr(s),(n=i.indexOf(";"))>-1&&(i=i.substr(0,n)),o=i.replace(r+"=","")),!!o&&JSON.parse(o)}},Y.prototype.writers={local:function(t,e,n){localStorage.setItem(t+"-"+e,JSON.stringify(n))},cookie:function(t,e,n){var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=t+"-"+e+"="+JSON.stringify(n)+"; expires="+o.toUTCString()}},m.prototype.registerModule("persistence",Y);var $=function(t){this.table=t,this.element=!1,this.manualBlock=!1};$.prototype.initialize=function(){window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))},$.prototype.replaceTable=function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))},$.prototype.cleanup=function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")},$.prototype.printFullscreen=function(t,e,n){var o,i,r=window.scrollX,s=window.scrollY,a=document.createElement("div"),l=document.createElement("div"),c=this.table.modules.export.genereateTable(void 0!==n?n:this.table.options.printConfig,void 0!==e?e:this.table.options.printStyled,t,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(a.classList.add("tabulator-print-header"),"string"==typeof(o="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?a.innerHTML=o:a.appendChild(o),this.element.appendChild(a)),this.element.appendChild(c),this.table.options.printFooter&&(l.classList.add("tabulator-print-footer"),"string"==typeof(i="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,c),window.print(),this.cleanup(),window.scrollTo(r,s),this.manualBlock=!1},m.prototype.registerModule("print",$);var X=function(t){this.table=t,this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0};X.prototype.watchData=function(t){var e,n=this;this.currentVersion++,e=this.currentVersion,n.unwatchData(),n.data=t,n.origFuncs.push=t.push,Object.defineProperty(n.data,"push",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return n.blocked||e!==n.currentVersion||o.forEach((function(t){n.table.rowManager.addRowActual(t,!1)})),n.origFuncs.push.apply(t,arguments)}}),n.origFuncs.unshift=t.unshift,Object.defineProperty(n.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var o=Array.from(arguments);return n.blocked||e!==n.currentVersion||o.forEach((function(t){n.table.rowManager.addRowActual(t,!0)})),n.origFuncs.unshift.apply(t,arguments)}}),n.origFuncs.shift=t.shift,Object.defineProperty(n.data,"shift",{enumerable:!1,configurable:!0,value:function(){var o;return n.blocked||e!==n.currentVersion||n.data.length&&(o=n.table.rowManager.getRowFromDataObject(n.data[0]))&&o.deleteActual(),n.origFuncs.shift.call(t)}}),n.origFuncs.pop=t.pop,Object.defineProperty(n.data,"pop",{enumerable:!1,configurable:!0,value:function(){var o;return n.blocked||e!==n.currentVersion||n.data.length&&(o=n.table.rowManager.getRowFromDataObject(n.data[n.data.length-1]))&&o.deleteActual(),n.origFuncs.pop.call(t)}}),n.origFuncs.splice=t.splice,Object.defineProperty(n.data,"splice",{enumerable:!1,configurable:!0,value:function(){var o,i=Array.from(arguments),r=i[0]<0?t.length+i[0]:i[0],s=i[1],a=!!i[2]&&i.slice(2);if(!n.blocked&&e===n.currentVersion){if(a&&((o=!!t[r]&&n.table.rowManager.getRowFromDataObject(t[r]))?a.forEach((function(t){n.table.rowManager.addRowActual(t,!0,o,!0)})):(a=a.slice().reverse()).forEach((function(t){n.table.rowManager.addRowActual(t,!0,!1,!0)}))),0!==s){var l=t.slice(r,void 0===i[1]?i[1]:r+s);l.forEach((function(t,e){var o=n.table.rowManager.getRowFromDataObject(t);o&&o.deleteActual(e!==l.length-1)}))}(a||0!==s)&&n.table.rowManager.reRenderInPosition()}return n.origFuncs.splice.apply(t,arguments)}})},X.prototype.unwatchData=function(){if(!1!==this.data)for(var t in this.origFuncs)Object.defineProperty(this.data,t,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})},X.prototype.watchRow=function(t){var e=t.getData();for(var n in this.blocked=!0,e)this.watchKey(t,e,n);this.table.options.dataTree&&this.watchTreeChildren(t),this.blocked=!1},X.prototype.watchTreeChildren=function(t){var e=this,n=t.getData()[this.table.options.dataTreeChildField],o={};function i(){e.table.modules.dataTree.initializeRow(t),e.table.modules.dataTree.layoutRow(t),e.table.rowManager.refreshActiveData("tree",!1,!0)}n&&(o.push=n.push,Object.defineProperty(n,"push",{enumerable:!1,configurable:!0,value:function(){var t=o.push.apply(n,arguments);return i(),t}}),o.unshift=n.unshift,Object.defineProperty(n,"unshift",{enumerable:!1,configurable:!0,value:function(){var t=o.unshift.apply(n,arguments);return i(),t}}),o.shift=n.shift,Object.defineProperty(n,"shift",{enumerable:!1,configurable:!0,value:function(){var t=o.shift.call(n);return i(),t}}),o.pop=n.pop,Object.defineProperty(n,"pop",{enumerable:!1,configurable:!0,value:function(){var t=o.pop.call(n);return i(),t}}),o.splice=n.splice,Object.defineProperty(n,"splice",{enumerable:!1,configurable:!0,value:function(){var t=o.splice.apply(n,arguments);return i(),t}}))},X.prototype.watchKey=function(t,e,n){var o=this,i=Object.getOwnPropertyDescriptor(e,n),r=e[n],s=this.currentVersion;Object.defineProperty(e,n,{set:function(e){if(r=e,!o.blocked&&s===o.currentVersion){var a={};a[n]=e,t.updateData(a)}i.set&&i.set(e)},get:function(){return i.get&&i.get(),r}})},X.prototype.unwatchRow=function(t){var e=t.getData();for(var n in e)Object.defineProperty(e,n,{value:e[n]})},X.prototype.block=function(){this.blocked=!0},X.prototype.unblock=function(){this.blocked=!1},m.prototype.registerModule("reactiveData",X);var q=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};q.prototype.initializeColumn=function(t,e,n){var o=this,i=!1,r=this.table.options.resizableColumns;if("header"===t&&(i="textarea"==e.definition.formatter||e.definition.variableHeight,e.modules.resize={variableHeight:i}),!0===r||r==t){var s=document.createElement("div");s.className="tabulator-col-resize-handle";var a=document.createElement("div");a.className="tabulator-col-resize-handle prev",s.addEventListener("click",(function(t){t.stopPropagation()}));var l=function(t){var n=e.getLastColumn();n&&o._checkResizability(n)&&(o.startColumn=e,o._mouseDown(t,n,s))};s.addEventListener("mousedown",l),s.addEventListener("touchstart",l,{passive:!0}),s.addEventListener("dblclick",(function(t){var n=e.getLastColumn();n&&o._checkResizability(n)&&(t.stopPropagation(),n.reinitializeWidth(!0))})),a.addEventListener("click",(function(t){t.stopPropagation()}));var c=function(t){var n,i,r;(n=e.getFirstColumn())&&(r=(i=o.table.columnManager.findColumnIndex(n))>0&&o.table.columnManager.getColumnByIndex(i-1))&&o._checkResizability(r)&&(o.startColumn=e,o._mouseDown(t,r,a))};a.addEventListener("mousedown",c),a.addEventListener("touchstart",c,{passive:!0}),a.addEventListener("dblclick",(function(t){var n,i,r;(n=e.getFirstColumn())&&(r=(i=o.table.columnManager.findColumnIndex(n))>0&&o.table.columnManager.getColumnByIndex(i-1))&&o._checkResizability(r)&&(t.stopPropagation(),r.reinitializeWidth(!0))})),n.appendChild(s),n.appendChild(a)}},q.prototype._checkResizability=function(t){return void 0!==t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},q.prototype._mouseDown=function(t,e,n){var o=this;function i(t){o.table.rtl?e.setWidth(o.startWidth-((void 0===t.screenX?t.touches[0].screenX:t.screenX)-o.startX)):e.setWidth(o.startWidth+((void 0===t.screenX?t.touches[0].screenX:t.screenX)-o.startX)),o.table.options.virtualDomHoz&&o.table.vdomHoz.reinitialize(!0),!o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}function r(t){o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!1),o.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",i),n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r),o.table.element.classList.remove("tabulator-block-select"),o.table.options.persistence&&o.table.modExists("persistence",!0)&&o.table.modules.persistence.config.columns&&o.table.modules.persistence.save("columns"),o.table.options.columnResized.call(o.table,e.getComponent())}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startColumn.modules.edit&&(o.startColumn.modules.edit.blocked=!0),o.startX=void 0===t.screenX?t.touches[0].screenX:t.screenX,o.startWidth=e.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",i,{passive:!0}),n.addEventListener("touchend",r)},m.prototype.registerModule("resizeColumns",q);var U=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};U.prototype.initializeRow=function(t){var e=this,n=t.getElement(),o=document.createElement("div");o.className="tabulator-row-resize-handle";var i=document.createElement("div");i.className="tabulator-row-resize-handle prev",o.addEventListener("click",(function(t){t.stopPropagation()}));var r=function(n){e.startRow=t,e._mouseDown(n,t,o)};o.addEventListener("mousedown",r),o.addEventListener("touchstart",r,{passive:!0}),i.addEventListener("click",(function(t){t.stopPropagation()}));var s=function(n){var o=e.table.rowManager.prevDisplayRow(t);o&&(e.startRow=o,e._mouseDown(n,o,i))};i.addEventListener("mousedown",s),i.addEventListener("touchstart",s,{passive:!0}),n.appendChild(o),n.appendChild(i)},U.prototype._mouseDown=function(t,e,n){var o=this;function i(t){e.setHeight(o.startHeight+((void 0===t.screenY?t.touches[0].screenY:t.screenY)-o.startY))}function r(t){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),n.removeEventListener("touchmove",i),n.removeEventListener("touchend",r),o.table.element.classList.remove("tabulator-block-select"),o.table.options.rowResized.call(this.table,e.getComponent())}o.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),o.startY=void 0===t.screenY?t.touches[0].screenY:t.screenY,o.startHeight=e.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",i,{passive:!0}),n.addEventListener("touchend",r)},m.prototype.registerModule("resizeRows",U);var J=function(t){this.table=t,this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1};J.prototype.initialize=function(t){var e,n=this,o=this.table;this.tableHeight=o.element.clientHeight,this.tableWidth=o.element.clientWidth,o.element.parentNode&&(this.containerHeight=o.element.parentNode.clientHeight,this.containerWidth=o.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===o.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);n.tableHeight==e&&n.tableWidth==i||(n.tableHeight=e,n.tableWidth=i,o.element.parentNode&&(n.containerHeight=o.element.parentNode.clientHeight,n.containerWidth=o.element.parentNode.clientWidth),o.options.virtualDomHoz&&o.vdomHoz.reinitialize(!0),o.redraw())}})),this.observer.observe(o.element),e=window.getComputedStyle(o.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(e.getPropertyValue("max-height")||e.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell){var e=Math.floor(t[0].contentRect.height),i=Math.floor(t[0].contentRect.width);n.containerHeight==e&&n.containerWidth==i||(n.containerHeight=e,n.containerWidth=i,n.tableHeight=o.element.clientHeight,n.tableWidth=o.element.clientWidth),o.options.virtualDomHoz&&o.vdomHoz.reinitialize(!0),o.redraw()}})),this.containerObserver.observe(this.table.element.parentNode))):(this.binding=function(){(!o.browserMobile||o.browserMobile&&!o.modules.edit.currentCell)&&(o.options.virtualDomHoz&&o.vdomHoz.reinitialize(!0),o.redraw())},window.addEventListener("resize",this.binding))},J.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)},m.prototype.registerModule("resizeTable",J);var K=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1};K.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(n,o){n.modules.responsive&&n.modules.responsive.order&&n.modules.responsive.visible&&(n.modules.responsive.index=o,e.push(n),n.visible||"collapse"!==t.mode||t.hiddenColumns.push(n))})),e=(e=e.reverse()).sort((function(t,e){return e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var n=this.table.columnManager.columnsByIndex,o=Array.isArray(n),i=0;for(n=o?n:n[Symbol.iterator]();;){var r;if(o){if(i>=n.length)break;r=n[i++]}else{if((i=n.next()).done)break;r=i.value}var s=r;if("responsiveCollapse"==s.definition.formatter){this.collapseHandleColumn=s;break}}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())},K.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}},K.prototype.initializeRow=function(t){var e;"calc"!==t.type&&((e=document.createElement("div")).classList.add("tabulator-responsive-collapse"),t.modules.responsiveLayout={element:e,open:this.collapseStartOpen},this.collapseStartOpen||(e.style.display="none"))},K.prototype.layoutRow=function(t){var e=t.getElement();t.modules.responsiveLayout&&(e.appendChild(t.modules.responsiveLayout.element),this.generateCollapsedRowContent(t))},K.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},K.prototype.hideColumn=function(t){var e=this.hiddenColumns.length;t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent(),this.collapseHandleColumn&&!e&&this.collapseHandleColumn.show())},K.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&((e=this.hiddenColumns.indexOf(t))>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())},K.prototype.update=function(){for(var t=!0;t;){var e="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),n=(this.table.options.headerVisible?this.table.columnManager.element.clientWidth:this.table.element.clientWidth)-e;if(n<0){var o=this.columns[this.index];o?(this.hideColumn(o),this.index++):t=!1}else{var i=this.columns[this.index-1];i&&n>0&&n>=i.getWidth()?(this.showColumn(i),this.index--):t=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}},K.prototype.generateCollapsedContent=function(){var t=this;this.table.rowManager.getDisplayRows().forEach((function(e){t.generateCollapsedRowContent(e)}))},K.prototype.generateCollapsedRowContent=function(t){var e,n;if(t.modules.responsiveLayout){for(e=t.modules.responsiveLayout.element;e.firstChild;)e.removeChild(e.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(t)))&&e.appendChild(n)}},K.prototype.generateCollapsedRowData=function(t){var e,n=this,o=t.getData(),i=[];return this.hiddenColumns.forEach((function(r){var s=r.getFieldValue(o);r.definition.title&&r.field&&(r.modules.format&&n.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return s},getData:function(){return o},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return r.getComponent()}},i.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(n.table.modules.format,e,r.modules.format.params)})):i.push({field:r.field,title:r.definition.title,value:s}))})),i},K.prototype.formatCollapsedData=function(t){var e=document.createElement("table");return t.forEach((function(t){var n,o=document.createElement("tr"),i=document.createElement("td"),r=document.createElement("td"),s=document.createElement("strong");i.appendChild(s),this.table.modules.localize.bind("columns|"+t.field,(function(e){s.innerText=e||t.title})),t.value instanceof Node?((n=document.createElement("div")).appendChild(t.value),r.appendChild(n)):r.innerHTML=t.value,o.appendChild(i),o.appendChild(r),e.appendChild(o)}),this),Object.keys(t).length?e:""},m.prototype.registerModule("responsiveLayout",K);var Z=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null};Z.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},Z.prototype.initializeRow=function(t){var e=this,n=t.getElement(),o=function t(){setTimeout((function(){e.selecting=!1}),50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&("click"===e.table.options.selectableRangeMode?n.addEventListener("click",(function(n){if(n.shiftKey){e.table._clearSelection(),e.lastClickedRow=e.lastClickedRow||t;var o=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),i=e.table.rowManager.getDisplayRowIndex(t),r=o<=i?o:i,s=o>=i?o:i,a=e.table.rowManager.getDisplayRows().slice(0).splice(r,s-r+1);n.ctrlKey||n.metaKey?(a.forEach((function(n){n!==e.lastClickedRow&&(!0===e.table.options.selectable||e.isRowSelected(t)||e.selectedRows.length<e.table.options.selectable)&&e.toggleRow(n)})),e.lastClickedRow=t):(e.deselectRows(void 0,!0),!0!==e.table.options.selectable&&a.length>e.table.options.selectable&&(a=a.slice(0,e.table.options.selectable)),e.selectRows(a)),e.table._clearSelection()}else n.ctrlKey||n.metaKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(void 0,!0),e.selectRows(t),e.lastClickedRow=t)})):(n.addEventListener("click",(function(n){e.table.modExists("edit")&&e.table.modules.edit.getCurrentCell()||e.table._clearSelection(),e.selecting||e.toggleRow(t)})),n.addEventListener("mousedown",(function(n){if(n.shiftKey)return e.table._clearSelection(),e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",o),document.body.addEventListener("keyup",o),e.toggleRow(t),!1})),n.addEventListener("mouseenter",(function(n){e.selecting&&(e.table._clearSelection(),e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))})),n.addEventListener("mouseout",(function(n){e.selecting&&(e.table._clearSelection(),e.selectPrev.unshift(t))}))))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))},Z.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select&&t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},Z.prototype.selectRows=function(t){var e,n=this;switch(void 0===t?"undefined":o(t)){case"undefined":this.table.rowManager.rows.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;case"string":(e=this.table.rowManager.findRow(t))?this._selectRow(e,!0,!0):this.table.rowManager.getRows(t).forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(t)?(t.forEach((function(t){n._selectRow(t,!0,!0)})),this._rowSelectionChanged()):this._selectRow(t,!1,!0)}},Z.prototype._selectRow=function(e,n,o){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!o&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var i=this.table.rowManager.findRow(e);i?-1==this.selectedRows.indexOf(i)&&(i.getElement().classList.add("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!0,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!0),this.selectedRows.push(i),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!0),n||this.table.options.rowSelected.call(this.table,i.getComponent()),this._rowSelectionChanged(n)):n||t.warn("Selection Error - No such row found, ignoring selection:"+e)},Z.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},Z.prototype.deselectRows=function(t,e){var n,o=this;if(void 0===t){n=o.selectedRows.length;for(var i=0;i<n;i++)o._deselectRow(o.selectedRows[0],!0);o._rowSelectionChanged(e)}else Array.isArray(t)?(t.forEach((function(t){o._deselectRow(t,!0)})),o._rowSelectionChanged(e)):o._deselectRow(t,e)},Z.prototype._deselectRow=function(e,n){var o,i=this.table.rowManager.findRow(e);i?(o=this.selectedRows.findIndex((function(t){return t==i})))>-1&&(i.getElement().classList.remove("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!1,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!1),this.selectedRows.splice(o,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!1),n||this.table.options.rowDeselected.call(this.table,i.getComponent()),this._rowSelectionChanged(n)):n||t.warn("Deselection Error - No such row found, ignoring selection:"+e)},Z.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getData())})),t},Z.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach((function(e){t.push(e.getComponent())})),t},Z.prototype._rowSelectionChanged=function(t){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),t||this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},Z.prototype.registerRowSelectCheckbox=function(t,e){t._row.modules.select||(t._row.modules.select={}),t._row.modules.select.checkboxEl=e},Z.prototype.registerHeaderSelectCheckbox=function(t){this.headerCheckboxElement=t},Z.prototype.childRowSelection=function(t,e){var n=this.table.modules.dataTree.getChildren(t,!0);if(e){var o=n,i=Array.isArray(o),r=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(r>=o.length)break;s=o[r++]}else{if((r=o.next()).done)break;s=r.value}var a=s;this._selectRow(a,!0)}}else{var l=n,c=Array.isArray(l),u=0;for(l=c?l:l[Symbol.iterator]();;){var h;if(c){if(u>=l.length)break;h=l[u++]}else{if((u=l.next()).done)break;h=u.value}var p=h;this._deselectRow(p,!0)}}},m.prototype.registerModule("selectRow",Z);var Q=function(t){this.table=t,this.sortList=[],this.changed=!1};Q.prototype.initializeColumn=function(e,n){var i,r,s=this,a=!1;switch(o(e.definition.sorter)){case"string":s.sorters[e.definition.sorter]?a=s.sorters[e.definition.sorter]:t.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":a=e.definition.sorter}e.modules.sort={sorter:a,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:void 0!==e.definition.headerSortTristate?e.definition.headerSortTristate:this.table.options.headerSortTristate},(void 0===e.definition.headerSort?!1!==this.table.options.headerSort:!1!==e.definition.headerSort)&&((i=e.getElement()).classList.add("tabulator-sortable"),(r=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==o(this.table.options.headerSortElement)?r.appendChild(this.table.options.headerSortElement):r.innerHTML=this.table.options.headerSortElement,n.appendChild(r),e.modules.sort.element=r,i.addEventListener("click",(function(t){var n="",o=[],i=!1;if(e.modules.sort){if(e.modules.sort.tristate)n="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":n="desc";break;case"desc":n="asc";break;default:n=e.modules.sort.startingDir}s.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?((i=(o=s.getSort()).findIndex((function(t){return t.field===e.getField()})))>-1?(o[i].dir=n,i!=o.length-1&&(i=o.splice(i,1)[0],"none"!=n&&o.push(i))):"none"!=n&&o.push({column:e,dir:n}),s.setSort(o)):"none"==n?s.clear():s.setSort(e,n),s.table.rowManager.sorterRefresh(!s.sortList.length)}})))},Q.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},Q.prototype.getSort=function(){var t=[];return this.sortList.forEach((function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})})),t},Q.prototype.setSort=function(e,n){var o=this,i=[];Array.isArray(e)||(e=[{column:e,dir:n}]),e.forEach((function(e){var n;(n=o.table.columnManager.findColumn(e.column))?(e.column=n,i.push(e),o.changed=!0):t.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),o.sortList=i,this.table.options.persistence&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.config.sort&&this.table.modules.persistence.save("sort")},Q.prototype.clear=function(){this.setSort([])},Q.prototype.findSorter=function(t){var e,n=this.table.rowManager.activeRows[0],i="string";if(n&&(n=n.getData(),t.getField()))switch(void 0===(e=t.getFieldValue(n))?"undefined":o(e)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number"}return this.sorters[i]},Q.prototype.sort=function(t){var e=this,n=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,o=[],i=[];e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?n.forEach((function(t,n){e.setColumnHeader(t.column,t.dir)})):(n.forEach((function(t,n){var i=t.column.modules.sort;t.column&&i&&(i.sorter||(i.sorter=e.findSorter(t.column)),t.params="function"==typeof i.params?i.params(t.column.getComponent(),t.dir):i.params,o.push(t)),e.setColumnHeader(t.column,t.dir)})),o.length&&e._sortItems(t,o)),e.table.options.dataSorted&&(t.forEach((function(t){i.push(t.getComponent())})),e.table.options.dataSorted.call(e.table,e.getSort(),i))},Q.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach((function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))}))},Q.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},Q.prototype._sortItems=function(t,e){var n=this,o=e.length-1;t.sort((function(t,i){for(var r,s=o;s>=0;s--){var a=e[s];if(0!==(r=n._sortRow(t,i,a.column,a.dir,a.params)))break}return r}))},Q.prototype._sortRow=function(t,e,n,o,i){var r,s,a="asc"==o?t:e,l="asc"==o?e:t;return t=void 0!==(t=n.getFieldValue(a.getData()))?t:"",e=void 0!==(e=n.getFieldValue(l.getData()))?e:"",r=a.getComponent(),s=l.getComponent(),n.modules.sort.sorter.call(this,t,e,r,s,n.getComponent(),o,i)},Q.prototype.sorters={number:function(t,e,n,o,i,r,s){var a=s.alignEmptyValues,l=s.decimalSeparator,c=s.thousandSeparator,u=0;if(t=String(t),e=String(e),c&&(t=t.split(c).join(""),e=e.split(c).join("")),l&&(t=t.split(l).join("."),e=e.split(l).join(".")),t=parseFloat(t),e=parseFloat(e),isNaN(t))u=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;u=1}return("top"===a&&"desc"===r||"bottom"===a&&"asc"===r)&&(u*=-1),u},string:function(t,e,n,i,r,s,a){var l,c=a.alignEmptyValues,u=0;if(t){if(e){switch(o(a.locale)){case"boolean":a.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=a.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),l)}u=1}else u=e?-1:0;return("top"===c&&"desc"===s||"bottom"===c&&"asc"===s)&&(u*=-1),u},date:function(t,e,n,o,i,r,s){return s.format||(s.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,n,o,i,r,s)},time:function(t,e,n,o,i,r,s){return s.format||(s.format="HH:mm"),this.sorters.datetime.call(this,t,e,n,o,i,r,s)},datetime:function(e,n,o,i,r,s,a){var l=a.format||"DD/MM/YYYY HH:mm:ss",c=a.alignEmptyValues,u=0;if("undefined"!=typeof moment){if(e=moment(e,l),n=moment(n,l),e.isValid()){if(n.isValid())return e-n;u=1}else u=n.isValid()?-1:0;return("top"===c&&"desc"===s||"bottom"===c&&"asc"===s)&&(u*=-1),u}t.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,n,o,i,r,s){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,n,o,i,r,s){var a=s.type||"length",l=s.alignEmptyValues,c=0;function u(t){switch(a){case"length":return t.length;case"sum":return t.reduce((function(t,e){return t+e}));case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce((function(t,e){return t+e}))/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return(t?u(t):0)-(e?u(e):0);l=1}else l=Array.isArray(e)?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(c*=-1),c},exists:function(t,e,n,o,i,r,s){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,n,o,i,r,s){var a,l,c,u,h,p=0,d=/(\d+)|(\D+)/g,f=/\d/,m=s.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((a=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!f.test(a)||!f.test(l))return a>l?1:-1;for(a=a.match(d),l=l.match(d),h=a.length>l.length?l.length:a.length;p<h;)if((c=a[p])!==(u=l[p++]))return isFinite(c)&&isFinite(u)?("0"===c.charAt(0)&&(c="."+c),"0"===u.charAt(0)&&(u="."+u),c-u):c>u?1:-1;return a.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(g*=-1),g}},m.prototype.registerModule("sort",Q);var tt=function(t){this.table=t,this.invalidCells=[]};tt.prototype.initializeColumn=function(t){var e,n=this,o=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach((function(t){(e=n._extractValidator(t))&&o.push(e)})):(e=this._extractValidator(t.definition.validator))&&o.push(e),t.modules.validate=!!o.length&&o)},tt.prototype._extractValidator=function(t){var e,n,i;switch(void 0===t?"undefined":o(t)){case"string":return(i=t.indexOf(":"))>-1?(e=t.substring(0,i),n=t.substring(i+1)):e=t,this._buildValidator(e,n);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},tt.prototype._buildValidator=function(e,n){var o="function"==typeof e?e:this.validators[e];return o?{type:"function"==typeof e?"function":e,func:o,params:n}:(t.warn("Validator Setup Error - No matching validator found:",e),!1)},tt.prototype.validate=function(t,e,n){var o=this,i=[],r=this.invalidCells.indexOf(e);return t&&t.forEach((function(t){t.func.call(o,e.getComponent(),n,t.params)||i.push({type:t.type,parameters:t.params})})),i=!i.length||i,e.modules.validate||(e.modules.validate={}),!0===i?(e.modules.validate.invalid=!1,e.getElement().classList.remove("tabulator-validation-fail"),r>-1&&this.invalidCells.splice(r,1)):(e.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&e.getElement().classList.add("tabulator-validation-fail"),-1==r&&this.invalidCells.push(e)),i},tt.prototype.getInvalidCells=function(){var t=[];return this.invalidCells.forEach((function(e){t.push(e.getComponent())})),t},tt.prototype.clearValidation=function(t){var e;t.modules.validate&&t.modules.validate.invalid&&(t.getElement().classList.remove("tabulator-validation-fail"),t.modules.validate.invalid=!1,(e=this.invalidCells.indexOf(t))>-1&&this.invalidCells.splice(e,1))},tt.prototype.validators={integer:function(t,e,n){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&Math.floor(e)===e},float:function(t,e,n){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&e%1!=0},numeric:function(t,e,n){return""===e||null==e||!isNaN(e)},string:function(t,e,n){return""===e||null==e||isNaN(e)},max:function(t,e,n){return""===e||null==e||parseFloat(e)<=n},min:function(t,e,n){return""===e||null==e||parseFloat(e)>=n},starts:function(t,e,n){return""===e||null==e||String(e).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(t,e,n){return""===e||null==e||String(e).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(t,e,n){return""===e||null==e||String(e).length>=n},maxLength:function(t,e,n){return""===e||null==e||String(e).length<=n},in:function(t,e,n){return""===e||null==e||("string"==typeof n&&(n=n.split("|")),""===e||n.indexOf(e)>-1)},regex:function(t,e,n){return""===e||null==e||new RegExp(n).test(e)},unique:function(t,e,n){if(""===e||null==e)return!0;var o=!0,i=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(t){var n=t.getData();n!==i&&e==r.getFieldValue(n)&&(o=!1)})),o},required:function(t,e,n){return""!==e&&null!=e}},m.prototype.registerModule("validate",tt),n.a=m}).call(this,o("ziTh"))},"5Iso":function(t,e,n){"use strict";n.d(e,"c",(function(){return K})),n.d(e,"a",(function(){return Z}));var o=n("b9Oj"),i=n("QjDJ"),r=n("Cnj1"),s=function(t){return new Array(t.length)};function a(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}a.prototype={constructor:a,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function l(t,e,n,o,i,r){for(var s,l=0,c=e.length,u=r.length;l<u;++l)(s=e[l])?(s.__data__=r[l],o[l]=s):n[l]=new a(t,r[l]);for(;l<c;++l)(s=e[l])&&(i[l]=s)}function c(t,e,n,o,i,r,s){var l,c,u,h={},p=e.length,d=r.length,f=new Array(p);for(l=0;l<p;++l)(c=e[l])&&(f[l]=u="$"+s.call(c,c.__data__,l,e),u in h?i[l]=c:h[u]=c);for(l=0;l<d;++l)(c=h[u="$"+s.call(t,r[l],l,r)])?(o[l]=c,c.__data__=r[l],h[u]=null):n[l]=new a(t,r[l]);for(l=0;l<p;++l)(c=e[l])&&h[f[l]]===c&&(i[l]=c)}function u(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var h=n("bNSl");function p(t){return function(){this.removeAttribute(t)}}function d(t){return function(){this.removeAttributeNS(t.space,t.local)}}function f(t,e){return function(){this.setAttribute(t,e)}}function m(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function g(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function v(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var b=n("Nkvg");function y(t){return function(){delete this[t]}}function w(t,e){return function(){this[t]=e}}function E(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function C(t){return t.trim().split(/^|\s+/)}function x(t){return t.classList||new M(t)}function M(t){this._node=t,this._names=C(t.getAttribute("class")||"")}function _(t,e){for(var n=x(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function S(t,e){for(var n=x(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function k(t){return function(){_(this,t)}}function R(t){return function(){S(this,t)}}function T(t,e){return function(){(e.apply(this,arguments)?_:S)(this,t)}}M.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function D(){this.textContent=""}function L(t){return function(){this.textContent=t}}function O(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function A(){this.innerHTML=""}function P(t){return function(){this.innerHTML=t}}function z(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function N(){this.nextSibling&&this.parentNode.appendChild(this)}function F(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var j=n("4xGt");function H(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j.b&&e.documentElement.namespaceURI===j.b?e.createElement(t):e.createElementNS(n,t)}}function I(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var B=function(t){var e=Object(h.a)(t);return(e.local?I:H)(e)};function V(){return null}function W(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var $=n("AWXE"),X=n("oxeV");function q(t,e,n){var o=Object(X.a)(t),i=o.CustomEvent;"function"==typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function U(t,e){return function(){return q(this,t,e)}}function J(t,e){return function(){return q(this,t,e.apply(this,arguments))}}var K=[null];function Z(t,e){this._groups=t,this._parents=e}function Q(){return new Z([[document.documentElement]],K)}Z.prototype=Q.prototype={constructor:Z,select:function(t){"function"!=typeof t&&(t=Object(o.a)(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var s,a,l=e[r],c=l.length,u=i[r]=new Array(c),h=0;h<c;++h)(s=l[h])&&(a=t.call(s,s.__data__,h,l))&&("__data__"in s&&(a.__data__=s.__data__),u[h]=a);return new Z(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Object(i.a)(t));for(var e=this._groups,n=e.length,o=[],r=[],s=0;s<n;++s)for(var a,l=e[s],c=l.length,u=0;u<c;++u)(a=l[u])&&(o.push(t.call(a,a.__data__,u,l)),r.push(a));return new Z(o,r)},filter:function(t){"function"!=typeof t&&(t=Object(r.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var s,a=e[i],l=a.length,c=o[i]=[],u=0;u<l;++u)(s=a[u])&&t.call(s,s.__data__,u,a)&&c.push(s);return new Z(o,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),p=-1,this.each((function(t){g[++p]=t})),g;var n,o=e?c:l,i=this._parents,r=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=r.length,a=new Array(s),u=new Array(s),h=new Array(s),p=0;p<s;++p){var d=i[p],f=r[p],m=f.length,g=t.call(d,d&&d.__data__,p,i),v=g.length,b=u[p]=new Array(v),y=a[p]=new Array(v);o(d,f,b,y,h[p]=new Array(m),g,e);for(var w,E,C=0,x=0;C<v;++C)if(w=b[C]){for(C>=x&&(x=C+1);!(E=y[x])&&++x<v;);w._next=E||null}}return(a=new Z(a,i))._enter=u,a._exit=h,a},enter:function(){return new Z(this._enter||this._groups.map(s),this._parents)},exit:function(){return new Z(this._exit||this._groups.map(s),this._parents)},join:function(t,e,n){var o=this.enter(),i=this,r=this.exit();return o="function"==typeof t?t(o):o.append(t+""),null!=e&&(i=e(i)),null==n?r.remove():n(r),o&&i?o.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),s=new Array(o),a=0;a<r;++a)for(var l,c=e[a],u=n[a],h=c.length,p=s[a]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(p[d]=l);for(;a<o;++a)s[a]=e[a];return new Z(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,s=i[r];--r>=0;)(o=i[r])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=u);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var s,a=n[r],l=a.length,c=i[r]=new Array(l),h=0;h<l;++h)(s=a[h])&&(c[h]=s);c.sort(e)}return new Z(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var s=o[i];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],s=0,a=r.length;s<a;++s)(i=r[s])&&t.call(i,i.__data__,s,r);return this},attr:function(t,e){var n=Object(h.a)(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?d:p:"function"==typeof e?n.local?v:g:n.local?m:f)(n,e))},style:b.a,property:function(t,e){return arguments.length>1?this.each((null==e?y:"function"==typeof e?E:w)(t,e)):this.node()[t]},classed:function(t,e){var n=C(t+"");if(arguments.length<2){for(var o=x(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?T:e?k:R)(n,e))},text:function(t){return arguments.length?this.each(null==t?D:("function"==typeof t?O:L)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?A:("function"==typeof t?z:P)(t)):this.node().innerHTML},raise:function(){return this.each(N)},lower:function(){return this.each(F)},append:function(t){var e="function"==typeof t?t:B(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:B(t),i=null==e?V:"function"==typeof e?e:Object(o.a)(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(W)},clone:function(t){return this.select(t?Y:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:$.a,dispatch:function(t,e){return this.each(("function"==typeof e?J:U)(t,e))}};e.b=Q},"9Z1F":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("mrSG"),i=n("MGBS"),r=n("rPjj"),s=n("zotm");function a(t){return function(e){var n=new l(t),o=e.lift(n);return n.caught=o}}var l=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.selector=n,i.caught=o,i}return o.__extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var o=new r.a(this,void 0,void 0);this.add(o),Object(s.a)(this,n,void 0,void 0,o)}},e}(i.a)},AKWm:function(t,e,n){"use strict";var o=n("5Iso");e.a=function(t){return"string"==typeof t?new o.a([[document.querySelector(t)]],[document.documentElement]):new o.a([[t]],o.c)}},AWXE:function(t,e,n){"use strict";n.d(e,"b",(function(){return i}));var o={},i=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(o={mouseenter:"mouseover",mouseleave:"mouseout"}));function r(t,e,n){return t=s(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function s(t,e,n){return function(o){var r=i;i=o;try{t.call(this,this.__data__,e,n)}finally{i=r}}}function a(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function l(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function c(t,e,n){var i=o.hasOwnProperty(t.type)?r:s;return function(o,r,s){var a,l=this.__on,c=i(e,r,s);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}e.a=function(t,e,n){var o,i,r=a(t+""),s=r.length;if(!(arguments.length<2)){for(u=e?c:l,null==n&&(n=!1),o=0;o<s;++o)this.each(u(r[o],e,n));return this}var u=this.node().__on;if(u)for(var h,p=0,d=u.length;p<d;++p)for(o=0,h=u[p];o<s;++o)if((i=r[o]).type===h.type&&i.name===h.name)return h.value}},Cnj1:function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},CsC6:function(t,e,n){"use strict";n.r(e),n.d(e,"AddMarkStep",(function(){return D})),n.d(e,"MapResult",(function(){return s})),n.d(e,"Mapping",(function(){return l})),n.d(e,"RemoveMarkStep",(function(){return L})),n.d(e,"ReplaceAroundStep",(function(){return v})),n.d(e,"ReplaceStep",(function(){return g})),n.d(e,"Step",(function(){return f})),n.d(e,"StepMap",(function(){return a})),n.d(e,"StepResult",(function(){return m})),n.d(e,"Transform",(function(){return u})),n.d(e,"TransformError",(function(){return c})),n.d(e,"canJoin",(function(){return M})),n.d(e,"canSplit",(function(){return x})),n.d(e,"dropPoint",(function(){return R})),n.d(e,"findWrapping",(function(){return E})),n.d(e,"insertPoint",(function(){return k})),n.d(e,"joinPoint",(function(){return S})),n.d(e,"liftTarget",(function(){return w})),n.d(e,"replaceStep",(function(){return O}));var o=n("byeC"),i=Math.pow(2,16);function r(t){return 65535&t}var s=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},a=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};a.prototype.recover=function(t){var e=0,n=r(t);if(!this.inverted)for(var o=0;o<n;o++)e+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)},a.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},a.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},a.prototype._map=function(t,e,n){for(var o=0,r=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?o:0);if(c>t)break;var u=this.ranges[l+r],h=this.ranges[l+a],p=c+u;if(t<=p){var d=c+o+((u?t==c?-1:t==p?1:e:e)<0?0:h);if(n)return d;var f=t==(e<0?c:p)?null:l/3+(t-c)*i;return new s(d,e<0?t!=c:t!=p,f)}o+=h-u}return n?t+o:new s(t+o)},a.prototype.touches=function(t,e){for(var n=0,o=r(e),i=this.inverted?2:1,s=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var c=this.ranges[a+i];if(t<=l+c&&a==3*o)return!0;n+=this.ranges[a+s]-c}return!1},a.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,o=0,i=0;o<this.ranges.length;o+=3){var r=this.ranges[o],s=r-(this.inverted?i:0),a=r+(this.inverted?0:i),l=this.ranges[o+e],c=this.ranges[o+n];t(s,s+l,a,a+c),i+=c-l}},a.prototype.invert=function(){return new a(this.ranges,!this.inverted)},a.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},a.offset=function(t){return 0==t?a.empty:new a(t<0?[0,-t,0]:[0,0,t])},a.empty=new a([]);var l=function(t,e,n,o){this.maps=t||[],this.from=n||0,this.to=null==o?this.maps.length:o,this.mirror=e};function c(t){var e=Error.call(this,t);return e.__proto__=c.prototype,e}l.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new l(this.maps,this.mirror,t,e)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},l.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var o=t.getMirror(e);this.appendMap(t.maps[e],null!=o&&o<e?n+o:null)}},l.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},l.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},l.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var o=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=o&&o>e?n-o-1:null)}},l.prototype.invert=function(){var t=new l;return t.appendMappingInverted(this),t},l.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},l.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},l.prototype._map=function(t,e,n){for(var o=!1,i=this.from;i<this.to;i++){var r=this.maps[i].mapResult(t,e);if(null!=r.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,t=this.maps[a].recover(r.recover);continue}}r.deleted&&(o=!0),t=r.pos}return n?t:new s(t,o)},c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="TransformError";var u=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l},h={before:{configurable:!0},docChanged:{configurable:!0}};function p(){throw new Error("Override me")}h.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new c(e.failed);return this},u.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},h.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(u.prototype,h);var d=Object.create(null),f=function(){};f.prototype.apply=function(t){return p()},f.prototype.getMap=function(){return a.empty},f.prototype.invert=function(t){return p()},f.prototype.map=function(t){return p()},f.prototype.merge=function(t){return null},f.prototype.toJSON=function(){return p()},f.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=d[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},f.jsonID=function(t,e){if(t in d)throw new RangeError("Duplicate use of step JSON ID "+t);return d[t]=e,e.prototype.jsonID=t,e};var m=function(t,e){this.doc=t,this.failed=e};m.ok=function(t){return new m(t,null)},m.fail=function(t){return new m(null,t)},m.fromReplace=function(t,e,n,i){try{return m.ok(t.replace(e,n,i))}catch(t){if(t instanceof o.ReplaceError)return m.fail(t.message);throw t}};var g=function(t){function e(e,n,o,i){t.call(this),this.from=e,this.to=n,this.slice=o,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&b(t,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new a([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted?null:new e(n.pos,Math.max(n.pos,o.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure!=this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?o.Slice.empty:new o.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var i=this.slice.size+t.slice.size==0?o.Slice.empty:new o.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),i,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,o.Slice.fromJSON(t,n.slice),!!n.structure)},e}(f);f.jsonID("replace",g);var v=function(t){function e(e,n,o,i,r,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=o,this.gapTo=i,this.slice=r,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(b(t,this.from,this.gapFrom)||b(t,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?m.fromReplace(t,this.from,this.to,n):m.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new a([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),r=t.map(this.gapTo,1);return n.deleted&&o.deleted||i<n.pos||r>o.pos?null:new e(n.pos,o.pos,i,r,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,o.Slice.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(f);function b(t,e,n){for(var o=t.resolve(e),i=n-e,r=o.depth;i>0&&r>0&&o.indexAfter(r)==o.node(r).childCount;)r--,i--;if(i>0)for(var s=o.node(r).maybeChild(o.indexAfter(r));i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}return!1}function y(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var o=t.$from.node(n),i=t.$from.index(n),r=t.$to.indexAfter(n);if(n<t.depth&&o.canReplace(i,r,e))return n;if(0==n||o.type.spec.isolating||!y(o,i,r))break}}function E(t,e,n,o){void 0===o&&(o=t);var i=function(t,e){var n=t.parent,o=t.startIndex,i=t.endIndex,r=n.contentMatchAt(o).findWrapping(e);if(!r)return null;var s=r.length?r[0]:e;return n.canReplaceWith(o,i,s)?r:null}(t,e),r=i&&function(t,e){var n=t.parent,o=t.startIndex,i=t.endIndex,r=n.child(o),s=e.contentMatch.findWrapping(r.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,l=o;a&&l<i;l++)a=a.matchType(n.child(l).type);if(!a||!a.validEnd)return null;return s}(o,e);return r?i.map(C).concat({type:e,attrs:n}).concat(r.map(C)):null}function C(t){return{type:t,attrs:null}}function x(t,e,n,o){void 0===n&&(n=1);var i=t.resolve(e),r=i.depth-n,s=o&&o[o.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var a=i.depth-1,l=n-2;a>r;a--,l--){var c=i.node(a),u=i.index(a);if(c.type.spec.isolating)return!1;var h=c.content.cutByIndex(u,c.childCount),p=o&&o[l]||c;if(p!=c&&(h=h.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(h))return!1}var d=i.indexAfter(r),f=o&&o[0];return i.node(r).canReplaceWith(d,d,f?f.type:i.node(r+1).type)}function M(t,e){var n=t.resolve(e),o=n.index();return _(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(o,o+1)}function _(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function S(t,e,n){void 0===n&&(n=-1);for(var o=t.resolve(e),i=o.depth;;i--){var r=void 0,s=void 0,a=o.index(i);if(i==o.depth?(r=o.nodeBefore,s=o.nodeAfter):n>0?(r=o.node(i+1),a++,s=o.node(i).maybeChild(a)):(r=o.node(i).maybeChild(a-1),s=o.node(i+1)),r&&!r.isTextblock&&_(r,s)&&o.node(i).canReplace(a,a+1))return e;if(0==i)break;e=n<0?o.before(i):o.after(i)}}function k(t,e,n){var o=t.resolve(e);if(o.parent.canReplaceWith(o.index(),o.index(),n))return e;if(0==o.parentOffset)for(var i=o.depth-1;i>=0;i--){var r=o.index(i);if(o.node(i).canReplaceWith(r,r,n))return o.before(i+1);if(r>0)return null}if(o.parentOffset==o.parent.content.size)for(var s=o.depth-1;s>=0;s--){var a=o.indexAfter(s);if(o.node(s).canReplaceWith(a,a,n))return o.after(s+1);if(a<o.node(s).childCount)return null}}function R(t,e,n){var o=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,r=0;r<n.openStart;r++)i=i.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=o.depth;a>=0;a--){var l=a==o.depth?0:o.pos<=(o.start(a+1)+o.end(a+1))/2?-1:1,c=o.index(a)+(l>0?1:0);if(1==s?o.node(a).canReplace(c,c,i):o.node(a).contentMatchAt(c).findWrapping(i.firstChild.type))return 0==l?o.pos:l<0?o.before(a+1):o.after(a+1)}return null}function T(t,e,n){for(var i=[],r=0;r<t.childCount;r++){var s=t.child(r);s.content.size&&(s=s.copy(T(s.content,e,s))),s.isInline&&(s=e(s,n,r)),i.push(s)}return o.Fragment.fromArray(i)}f.jsonID("replaceAround",v),u.prototype.lift=function(t,e){for(var n=t.$from,i=t.$to,r=t.depth,s=n.before(r+1),a=i.after(r+1),l=s,c=a,u=o.Fragment.empty,h=0,p=r,d=!1;p>e;p--)d||n.index(p)>0?(d=!0,u=o.Fragment.from(n.node(p).copy(u)),h++):l--;for(var f=o.Fragment.empty,m=0,g=r,b=!1;g>e;g--)b||i.after(g+1)<i.end(g)?(b=!0,f=o.Fragment.from(i.node(g).copy(f)),m++):c++;return this.step(new v(l,c,s,a,new o.Slice(u.append(f),h,m),u.size-h,!0))},u.prototype.wrap=function(t,e){for(var n=o.Fragment.empty,i=e.length-1;i>=0;i--)n=o.Fragment.from(e[i].type.create(e[i].attrs,n));var r=t.start,s=t.end;return this.step(new v(r,s,r,s,new o.Slice(n,0,0),e.length,!0))},u.prototype.setBlockType=function(t,e,n,i){var r=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,i)&&function(t,e,n){var o=t.resolve(e),i=o.index();return o.parent.canReplaceWith(i,i+1,n)}(r.doc,r.mapping.slice(s).map(e),n)){r.clearIncompatible(r.mapping.slice(s).map(e,1),n);var a=r.mapping.slice(s),l=a.map(e,1),c=a.map(e+t.nodeSize,1);return r.step(new v(l,c,l+1,c-1,new o.Slice(o.Fragment.from(n.create(i,null,t.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(t,e,n,i){var r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at given position");e||(e=r.type);var s=e.create(n,null,i||r.marks);if(r.isLeaf)return this.replaceWith(t,t+r.nodeSize,s);if(!e.validContent(r.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new v(t,t+r.nodeSize,t+1,t+r.nodeSize-1,new o.Slice(o.Fragment.from(s),0,0),1,!0))},u.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var i=this.doc.resolve(t),r=o.Fragment.empty,s=o.Fragment.empty,a=i.depth,l=i.depth-e,c=e-1;a>l;a--,c--){r=o.Fragment.from(i.node(a).copy(r));var u=n&&n[c];s=o.Fragment.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}return this.step(new g(t,t,new o.Slice(r.append(s),e,e),!0))},u.prototype.join=function(t,e){void 0===e&&(e=1);var n=new g(t-e,t+e,o.Slice.empty,!0);return this.step(n)};var D=function(t){function e(e,n,o){t.call(this),this.from=e,this.to=n,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=t.resolve(this.from),r=i.node(i.sharedDepth(this.to)),s=new o.Slice(T(n.content,(function(t,n){return n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),r),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,s)},e.prototype.invert=function(){return new L(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new e(n.pos,o.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);f.jsonID("addMark",D);var L=function(t){function e(e,n,o){t.call(this),this.from=e,this.to=n,this.mark=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=new o.Slice(T(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new D(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new e(n.pos,o.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(f);function O(t,e,n,i){if(void 0===n&&(n=e),void 0===i&&(i=o.Slice.empty),e==n&&!i.size)return null;var r=t.resolve(e),s=t.resolve(n);return A(r,s,i)?new g(e,n,i):new P(r,s,i).fit()}function A(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}f.jsonID("removeMark",L),u.prototype.addMark=function(t,e,n){var o=this,i=[],r=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(o,l,c){if(o.isInline){var u=o.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var h=Math.max(l,t),p=Math.min(l+o.nodeSize,e),d=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(d)||(s&&s.to==h&&s.mark.eq(u[f])?s.to=p:i.push(s=new L(h,p,u[f])));a&&a.to==h?a.to=p:r.push(a=new D(h,p,n))}}})),i.forEach((function(t){return o.step(t)})),r.forEach((function(t){return o.step(t)})),this},u.prototype.removeMark=function(t,e,n){var i=this;void 0===n&&(n=null);var r=[],s=0;return this.doc.nodesBetween(t,e,(function(i,a){if(i.isInline){s++;var l=null;if(n instanceof o.MarkType){var c=n.isInSet(i.marks);c&&(l=[c])}else n?n.isInSet(i.marks)&&(l=[n]):l=i.marks;if(l&&l.length)for(var u=Math.min(a+i.nodeSize,e),h=0;h<l.length;h++){for(var p=l[h],d=void 0,f=0;f<r.length;f++){var m=r[f];m.step==s-1&&p.eq(r[f].style)&&(d=m)}d?(d.to=u,d.step=s):r.push({style:p,from:Math.max(a,t),to:u,step:s})}}})),r.forEach((function(t){return i.step(new L(t.from,t.to,t.style))})),this},u.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var i=this.doc.nodeAt(t),r=[],s=t+1,a=0;a<i.childCount;a++){var l=i.child(a),c=s+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var h=0;h<l.marks.length;h++)e.allowsMarkType(l.marks[h].type)||this.step(new L(s,c,l.marks[h]))}else r.push(new g(s,c,o.Slice.empty));s=c}if(!n.validEnd){var p=n.fillBefore(o.Fragment.empty,!0);this.replace(s,s,new o.Slice(p,0,0))}for(var d=r.length-1;d>=0;d--)this.step(r[d]);return this},u.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=o.Slice.empty);var i=O(this.doc,t,e,n);return i&&this.step(i),this},u.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.delete=function(t,e){return this.replace(t,e,o.Slice.empty)},u.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var P=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var r=t.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(i))})}this.placed=o.Fragment.empty;for(var s=t.depth;s>0;s--)this.placed=o.Fragment.from(t.node(s).copy(this.placed))},z={depth:{configurable:!0}};function N(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(N(t.firstChild.content,e-1,n)))}function F(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(F(t.lastChild.content,e-1,n)))}function j(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function H(t,e,n){if(e<=0)return t;var i=t.content;return e>1&&(i=i.replaceChild(0,H(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(o.Fragment.empty,!0)))),t.copy(i)}function I(t,e,n,o,i){var r=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==r.childCount&&!n.compatibleContent(r.type))return null;var a=o.fillBefore(r.content,!0,s);return a&&!function(t,e,n){for(var o=n;o<e.childCount;o++)if(!t.allowsMarks(e.child(o).marks))return!0;return!1}(n,r.content,s)?a:null}function B(t,e,n,i,r){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(B(s.content,e+1,n,i,s)))}if(e>i){var a=r.contentMatchAt(0),l=a.fillBefore(t).append(t);t=l.append(a.matchFragment(l).fillBefore(o.Fragment.empty,!0))}return t}function V(t,e){for(var n=[],o=Math.min(t.depth,e.depth);o>=0;o--){var i=t.start(o);if(i<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;i==e.start(o)&&n.push(o)}return n}z.depth.get=function(){return this.frontier.length-1},P.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(e<0?this.$to:i.doc.resolve(e));if(!r)return null;for(var s=this.placed,a=i.depth,l=r.depth;a&&l&&1==s.childCount;)s=s.firstChild.content,a--,l--;var c=new o.Slice(s,a,l);return e>-1?new v(i.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||i.pos!=this.$to.pos?new g(i.pos,r.pos,c):void 0},P.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,i=(e?(n=j(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var s=this.frontier[r],a=s.type,l=s.match,c=void 0,u=void 0;if(1==t&&(i?l.matchType(i.type)||(u=l.fillBefore(o.Fragment.from(i),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:r,parent:n,inject:u};if(2==t&&i&&(c=l.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:r,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},P.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,r=j(e,n);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new o.Slice(e,n+1,Math.max(i,r.size+n>=e.size-i?n+1:0)),!0)},P.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,r=j(e,n);if(r.childCount<=1&&n>0){var s=e.size-n<=n+r.size;this.unplaced=new o.Slice(N(e,n-1,1),n-1,s?n-1:i)}else this.unplaced=new o.Slice(N(e,n,1),n,i)},P.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,i=t.parent,r=t.inject,s=t.wrap;this.depth>n;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var l=this.unplaced,c=i?i.content:l.content,u=l.openStart-e,h=0,p=[],d=this.frontier[n],f=d.match,m=d.type;if(r){for(var g=0;g<r.childCount;g++)p.push(r.child(g));f=f.matchFragment(r)}for(var v=c.size+e-(l.content.size-l.openEnd);h<c.childCount;){var b=c.child(h),y=f.matchType(b.type);if(!y)break;(++h>1||0==u||b.content.size)&&(f=y,p.push(H(b.mark(m.allowedMarks(b.marks)),1==h?u:0,h==c.childCount?v:-1)))}var w=h==c.childCount;w||(v=-1),this.placed=F(this.placed,n,o.Fragment.from(p)),this.frontier[n].match=f,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.closeFrontierNode();for(var E=0,C=c;E<v;E++){var x=C.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),C=x.content}this.unplaced=w?0==e?o.Slice.empty:new o.Slice(N(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new o.Slice(N(l.content,e,h),l.openStart,l.openEnd)},P.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!I(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,o=this.$to.after(n);n>1&&o==this.$to.end(--n);)++o;return o},P.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],o=n.match,i=n.type,r=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=I(t,e,i,o,r);if(s){for(var a=e-1;a>=0;a--){var l=this.frontier[a],c=l.match,u=I(t,a,l.type,c,!0);if(!u||u.childCount)continue t}return{depth:e,fit:s,move:r?t.doc.resolve(t.after(e+1)):t}}}},P.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=F(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var o=t.node(n),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(n));this.openFrontierNode(o.type,o.attrs,i)}return t},P.prototype.openFrontierNode=function(t,e,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=F(this.placed,this.depth,o.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},P.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(o.Fragment.empty,!0);t.childCount&&(this.placed=F(this.placed,this.frontier.length,t))},Object.defineProperties(P.prototype,z),u.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var i=this.doc.resolve(t),r=this.doc.resolve(e);if(A(i,r,n))return this.step(new g(t,e,n));var s=V(i,this.doc.resolve(e));0==s[s.length-1]&&s.pop();var a=-(i.depth+1);s.unshift(a);for(var l=i.depth,c=i.pos-1;l>0;l--,c--){var u=i.node(l).type.spec;if(u.defining||u.isolating)break;s.indexOf(l)>-1?a=l:i.before(l)==c&&s.splice(1,0,-l)}for(var h=s.indexOf(a),p=[],d=n.openStart,f=n.content,m=0;;m++){var v=f.firstChild;if(p.push(v),m==n.openStart)break;f=v.content}d>0&&p[d-1].type.spec.defining&&i.node(h).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&i.node(h).type!=p[d-2].type&&(d-=2);for(var b=n.openStart;b>=0;b--){var y=(b+d+1)%(n.openStart+1),w=p[y];if(w)for(var E=0;E<s.length;E++){var C=s[(E+h)%s.length],x=!0;C<0&&(x=!1,C=-C);var M=i.node(C-1),_=i.index(C-1);if(M.canReplaceWith(_,_,w.type,w.marks))return this.replace(i.before(C),x?r.after(C):e,new o.Slice(B(n.content,0,n.openStart,y),y,n.openEnd))}}for(var S=this.steps.length,k=s.length-1;k>=0&&(this.replace(t,e,n),!(this.steps.length>S));k--){var R=s[k];k<0||(t=i.before(R),e=r.after(R))}return this},u.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var i=k(this.doc,t,n.type);null!=i&&(t=e=i)}return this.replaceRange(t,e,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),o=this.doc.resolve(e),i=V(n,o),r=0;r<i.length;r++){var s=i[r],a=r==i.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),o.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),o.indexAfter(s-1))))return this.delete(n.before(s),o.after(s))}for(var l=1;l<=n.depth&&l<=o.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&o.end(l)-e!=o.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)}},Enya:function(t,e,n){"use strict";var o=n("5Iso");e.a=function(t){return"string"==typeof t?new o.a([document.querySelectorAll(t)],[document.documentElement]):new o.a([null==t?[]:t],o.c)}},FYXD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n("67Y/");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(o.a)(r(t,n))(e)}}function r(t,e){return function(n){for(var o=n,i=0;i<e;i++){var r=o[t[i]];if(void 0===r)return;o=r}return o}}},FmoU:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return D}));var o=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function r(){}var s="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,u=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),h=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),p=new RegExp("^rgba\\("+[s,s,s,a]+"\\)$"),d=new RegExp("^rgba\\("+[l,l,l,a]+"\\)$"),f=new RegExp("^hsl\\("+[a,l,l]+"\\)$"),m=new RegExp("^hsla\\("+[a,l,l,a]+"\\)$"),g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function y(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?w(e):3===n?new M(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?E(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?E(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=u.exec(t))?new M(e[1],e[2],e[3],1):(e=h.exec(t))?new M(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?E(e[1],e[2],e[3],e[4]):(e=d.exec(t))?E(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=f.exec(t))?R(e[1],e[2]/100,e[3]/100,1):(e=m.exec(t))?R(e[1],e[2]/100,e[3]/100,e[4]):g.hasOwnProperty(t)?w(g[t]):"transparent"===t?new M(NaN,NaN,NaN,0):null}function w(t){return new M(t>>16&255,t>>8&255,255&t,1)}function E(t,e,n,o){return o<=0&&(t=e=n=NaN),new M(t,e,n,o)}function C(t){return t instanceof r||(t=y(t)),t?new M((t=t.rgb()).r,t.g,t.b,t.opacity):new M}function x(t,e,n,o){return 1===arguments.length?C(t):new M(t,e,n,null==o?1:o)}function M(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function _(){return"#"+k(this.r)+k(this.g)+k(this.b)}function S(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function k(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function R(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new L(t,e,n,o)}function T(t){if(t instanceof L)return new L(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=y(t)),!t)return new L;if(t instanceof L)return t;var e=(t=t.rgb()).r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),s=Math.max(e,n,o),a=NaN,l=s-i,c=(s+i)/2;return l?(a=e===s?(n-o)/l+6*(n<o):n===s?(o-e)/l+2:(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new L(a,l,c,t.opacity)}function D(t,e,n,o){return 1===arguments.length?T(t):new L(t,e,n,null==o?1:o)}function L(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function O(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}o(r,y,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:v,formatHex:v,formatHsl:function(){return T(this).formatHsl()},formatRgb:b,toString:b}),o(M,x,i(r,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_,formatHex:_,formatRgb:S,toString:S})),o(L,D,i(r,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new L(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new L(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new M(O(t>=240?t-240:t+120,i,o),O(t,i,o),O(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))},Gi3i:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),i=n("FFOo"),r=n("T1DM");function s(t,e){return void 0===e&&(e=r.a),function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.dueTime,this.scheduler))},t}(),l=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=o,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return o.__extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.a);function c(t){t.debouncedNext()}},HeW1:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},IWTy:function(t,e,n){var o=n("yue5");t.exports=function(t,e,n){for(var i=-1,r=t.criteria,s=e.criteria,a=r.length,l=n.length;++i<a;){var c=o(r[i],s[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},IYKK:function(t,e,n){"use strict";e.a=function(t){return t}},JSzz:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var o=void 0;function i(){i.init||(i.init=!0,o=-1!==function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var o=t.indexOf("Edge/");return o>0?parseInt(t.substring(o+5,t.indexOf(".",o)),10):-1}())}var r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){this._w===this.$el.offsetWidth&&this._h===this.$el.offsetHeight||(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!o&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var t=this;i(),this.$nextTick((function(){t._w=t.$el.offsetWidth,t._h=t.$el.offsetHeight}));var e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",o&&this.$el.appendChild(e),e.data="about:blank",o||this.$el.appendChild(e)},beforeDestroy:function(){this.removeResizeHandlers()}};var s={version:"0.4.5",install:function(t){t.component("resize-observer",r),t.component("ResizeObserver",r)}},a=null;"undefined"!=typeof window?a=window.Vue:void 0!==t&&(a=t.Vue),a&&a.use(s)}).call(this,n("yLpj"))},LZ5Q:function(t,e,n){"use strict";var o=n("R0y8"),i=n("cwsO"),r=n("1ibS");function s(t,e){return[t,Object(o.l)(Object(o.s)((o.k+e)/2))]}s.invert=function(t,e){return[t,2*Object(o.d)(Object(o.j)(e))-o.k]},e.a=function(){return function(t){var e,n,a,l=Object(r.a)(t),c=l.center,u=l.scale,h=l.translate,p=l.clipExtent,d=null;function f(){var r=o.m*u(),c=l(Object(i.a)(l.rotate()).invert([0,0]));return p(null==d?[[c[0]-r,c[1]-r],[c[0]+r,c[1]+r]]:t===s?[[Math.max(c[0]-r,d),e],[Math.min(c[0]+r,n),a]]:[[d,Math.max(c[1]-r,e)],[n,Math.min(c[1]+r,a)]])}return l.scale=function(t){return arguments.length?(u(t),f()):u()},l.translate=function(t){return arguments.length?(h(t),f()):h()},l.center=function(t){return arguments.length?(c(t),f()):c()},l.clipExtent=function(t){return arguments.length?(null==t?d=e=n=a=null:(d=+t[0][0],e=+t[0][1],n=+t[1][0],a=+t[1][1]),f()):null==d?null:[[d,e],[n,a]]},f()}(s).scale(961/o.t)}},M8aS:function(t,e,n){var o,i;!function(r){t.exports?(r.default=r,t.exports=r):(o=[n("6n/F")],void 0===(i=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=i))}((function(t){function e(t,e,n,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,n))}e(t=t?t._modules:{},"parts-more/Pane.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){function n(t,e){this.init(t,e)}var o=e.extend,i=e.splat,r=t.CenteredSeriesMixin,s=t.merge;o(n.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=s(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t=this.options,e=this.options.background,n=this.chart.renderer;if(this.group||(this.group=n.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=i(e),t=Math.max(e.length,this.background.length||0),n=0;n<t;n++)e[n]&&this.axis?this.renderBackground(s(this.defaultBackgroundOptions,e[n]),n):this.background[n]&&(this.background[n]=this.background[n].destroy(),this.background.splice(n,1))},renderBackground:function(t,e){var n="animate",i={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||o(i,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),n="attr"),this.background[e][n]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(i)},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=r.getCenter.call(this)},update:function(t,e){s(!0,this.options,t),s(!0,this.chart.options.pane,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)}}),t.Pane=n})),e(t,"parts-more/RadialAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.extend,o=e.pick,i=e.pInt;e=t.addEvent;var r=t.Axis,s=t.merge,a=t.noop,l=t.Tick,c=t.wrap,u=t.correctFloat,h=r.prototype,p=l.prototype,d={getOffset:a,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},createLabelCollector:function(){return!1},setScale:a,setCategories:a,setTitle:a},f={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){(e=this.options=s(this.defaultOptions,this.defaultRadialOptions,e)).plotBands||(e.plotBands=[]),t.fireEvent(this,"afterSetOptions")},getOffset:function(){h.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){t=this.center;var n=this.chart,i=o(e,t[2]/2-this.offset);return this.isCircular||void 0!==e?((e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],i,i,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-i]):(e=this.postTranslate(this.angleRad,i),e=["M",t[0]+n.plotLeft,t[1]+n.plotTop,"L",e.x,e.y]),e},setAxisTranslation:function(){h.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===o(this.userMax,this.options.max)&&u(this.endAngleRad-this.startAngleRad)===u(2*Math.PI))&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){h.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*o(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,o(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var n=this.chart,o=this.center;return t=this.startAngleRad+t,{x:n.plotLeft+o[0]+Math.cos(t)*e,y:n.plotTop+o[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,n){var r=this.center,s=this.startAngleRad,a=r[2]/2,l=[o(n.outerRadius,"100%"),n.innerRadius,o(n.thickness,10)],c=Math.min(this.offset,0),u=/%$/,h=this.isCircular;if("polygon"===this.options.gridLineInterpolation)l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0}));else{if(t=Math.max(t,this.min),e=Math.min(e,this.max),h||(l[0]=this.translate(t),l[1]=this.translate(e)),l=l.map((function(t){return u.test(t)&&(t=i(t,10)*a/100),t})),"circle"!==n.shape&&h)t=s+this.translate(t),e=s+this.translate(e);else{t=-Math.PI/2,e=1.5*Math.PI;var p=!0}l[0]-=c,l[2]-=c,l=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],l[0],l[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:o(l[1],l[0]-l[2]),open:p}),h&&(h=(e+t)/2,c=this.left+r[0]+r[2]/2*Math.cos(h),l.xBounds=h>-Math.PI/2&&h<Math.PI/2?[c,this.chart.plotWidth]:[0,c],l.yBounds=[this.top+r[1]+r[2]/2*Math.sin(h)],l.yBounds[0]+=h>-Math.PI&&0>h||h>Math.PI?-10:10)}return l},getPlotLinePath:function(e){var n=this,o=n.center,i=n.chart,r=e.value;e=e.reverse;var s=n.getPosition(r),a=n.pane.options.background?n.pane.options.background[0]||n.pane.options.background:{},l=a.innerRadius||"0%",c=a.outerRadius||"100%";a=o[0]+i.plotLeft,o=o[1]+i.plotTop;var u,h,p=s.x;if(s=s.y,n.isCircular)var d=["M",a+(i="string"==typeof l?t.relativeLength(l,1):l/Math.sqrt(Math.pow(p-a,2)+Math.pow(s-o,2)))*(p-a),o-i*(o-s),"L",p-(1-(e="string"==typeof c?t.relativeLength(c,1):c/Math.sqrt(Math.pow(p-a,2)+Math.pow(s-o,2))))*(p-a),s+(1-e)*(o-s)];else"circle"===n.options.gridLineInterpolation?(r=n.translate(r),d=n.getLinePath(0,r)):(i.xAxis.forEach((function(t){t.pane===n.pane&&(u=t)})),d=[],r=n.translate(r),i=u.tickPositions,u.autoConnect&&(i=i.concat([i[0]])),e&&(i=[].concat(i).reverse()),i.forEach((function(t,e){h=u.getPosition(t,r),d.push(e?"L":"M",h.x,h.y)})));return d},getTitlePosition:function(){var t=this.center,e=this.chart,n=this.options.title;return{x:e.plotLeft+t[0]+(n.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[n.align]*t[2]+(n.y||0)}},createLabelCollector:function(){var t=this;return function(){if(t.isRadial&&t.tickPositions&&!0!==t.options.labels.allowOverlap)return t.tickPositions.map((function(e){return t.ticks[e]&&t.ticks[e].label})).filter((function(t){return!!t}))}}};e(r,"init",(function(t){var e,o=this.chart,i=o.angular,r=o.polar,a=this.isXAxis,l=i&&a,c=o.options;t=t.userOptions.pane||0,t=this.pane=o.pane&&o.pane[t],"colorAxis"===this.coll?this.isRadial=!1:(i?(n(this,l?d:f),(e=!a)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):r&&(n(this,f),this.defaultRadialOptions=(e=a)?this.defaultRadialXOptions:s(this.defaultYAxisOptions,this.defaultRadialYOptions)),i||r?(this.isRadial=!0,o.inverted=!1,c.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&o.labelCollectors.push(this.labelCollector)):this.isRadial=!1,t&&e&&(t.axis=this),this.isCircular=e)})),e(r,"afterInit",(function(){var t=this.chart,e=this.options,n=this.pane,i=n&&n.options;t.angular&&this.isXAxis||!n||!t.angular&&!t.polar||(this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=(i.startAngle-90)*Math.PI/180,this.endAngleRad=(o(i.endAngle,i.startAngle+360)-90)*Math.PI/180,this.offset=e.offset||0)})),e(r,"autoLabelAlign",(function(t){this.isRadial&&(t.align=void 0,t.preventDefault())})),e(r,"destroy",(function(){if(this.chart&&this.chart.labelCollectors){var t=this.chart.labelCollectors.indexOf(this.labelCollector);0<=t&&this.chart.labelCollectors.splice(t,1)}})),e(l,"afterGetPosition",(function(t){this.axis.getPosition&&n(t.pos,this.axis.getPosition(this.pos))})),e(l,"afterGetLabelPosition",(function(e){var n=this.axis,i=this.label,r=i.getBBox(),s=n.options.labels,a=s.y,l=20,c=s.align,u=(n.translate(this.pos)+n.startAngleRad+Math.PI/2)/Math.PI*180%360,h=Math.round(u),p="end",d=0>h?h+360:h,f=d,m=0,g=0,v=null===s.y?.3*-r.height:0;if(n.isRadial){var b=n.getPosition(this.pos,n.center[2]/2+t.relativeLength(o(s.distance,-25),n.center[2]/2,-n.center[2]/2));"auto"===s.rotation?i.attr({rotation:u}):null===a&&(a=n.chart.renderer.fontMetrics(i.styles&&i.styles.fontSize).b-r.height/2),null===c&&(n.isCircular?(r.width>n.len*n.tickInterval/(n.max-n.min)&&(l=0),c=u>l&&u<180-l?"left":u>180+l&&u<360-l?"right":"center"):c="center",i.attr({align:c})),"auto"===c&&2===n.tickPositions.length&&n.isCircular&&(90<d&&180>d?d=180-d:270<d&&360>=d&&(d=540-d),180<f&&360>=f&&(f=360-f),n.pane.options.startAngle!==h&&n.pane.options.startAngle!==h+360&&n.pane.options.startAngle!==h-360||(p="start"),c=-90<=h&&90>=h||-360<=h&&-270>=h||270<=h&&360>=h?"start"===p?"right":"left":"start"===p?"left":"right",70<f&&110>f&&(c="center"),15>d||180<=d&&195>d?m=.3*r.height:15<=d&&35>=d?m="start"===p?0:.75*r.height:195<=d&&215>=d?m="start"===p?.75*r.height:0:35<d&&90>=d?m="start"===p?.25*-r.height:r.height:215<d&&270>=d&&(m="start"===p?r.height:.25*-r.height),15>f?g="start"===p?.15*-r.height:.15*r.height:165<f&&180>=f&&(g="start"===p?.15*r.height:.15*-r.height),i.attr({align:c}),i.translate(g,m+v)),e.pos.x=b.x+s.x,e.pos.y=b.y+a}})),c(p,"getMarkPath",(function(t,e,n,o,i,r,s){var a=this.axis;return a.isRadial?e=["M",e,n,"L",(t=a.getPosition(this.pos,a.center[2]/2+o)).x,t.y]:e=t.call(this,e,n,o,i,r,s),e}))})),e(t,"parts-more/AreaRangeSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.defined,o=e.extend,i=e.isArray,r=e.isNumber,s=e.pick;e=t.seriesType;var a=t.seriesTypes,l=t.Series.prototype,c=t.Point.prototype;e("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,toYData:function(t){return[t.low,t.high]},highToXY:function(t){var e=this.chart,n=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=n.x-e.plotLeft,t.plotHigh=n.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,e=t.yAxis,n=!!t.modifyValue;a.area.prototype.translate.apply(t),t.points.forEach((function(o){var i=o.high,r=o.plotY;o.isNull?o.plotY=null:(o.plotLow=r,o.plotHigh=e.translate(n?t.modifyValue(i,o):i,0,1,0,1),n&&(o.yBottom=o.plotHigh))})),this.chart.polar&&this.points.forEach((function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]}))},getGraphPath:function(t){var e,n=[],o=[],i=a.area.prototype.getGraphPath,r=this.options,l=this.chart.polar&&!1!==r.connectEnds,c=r.connectNulls,u=r.step;for(e=(t=t||this.points).length;e--;){var h=t[e];h.isNull||l||c||t[e+1]&&!t[e+1].isNull||o.push({plotX:h.plotX,plotY:h.plotY,doCurve:!1});var p={polarPlotY:h.polarPlotY,rectPlotX:h.rectPlotX,yBottom:h.yBottom,plotX:s(h.plotHighX,h.plotX),plotY:h.plotHigh,isNull:h.isNull};o.push(p),n.push(p),h.isNull||l||c||t[e-1]&&!t[e-1].isNull||o.push({plotX:h.plotX,plotY:h.plotY,doCurve:!1})}return t=i.call(this,t),u&&(!0===u&&(u="left"),r.step={left:"right",center:"center",right:"left"}[u]),n=i.call(this,n),o=i.call(this,o),r.step=u,r=[].concat(t,n),this.chart.polar||"M"!==o[0]||(o[0]="L"),this.graphPath=r,this.areaPath=t.concat(o),r.isArea=!0,r.xMap=t.xMap,this.areaPath.xMap=t.xMap,r},drawDataLabels:function(){var t,e,n=this.points,r=n.length,s=[],a=this.options.dataLabels,c=this.chart.inverted;if(i(a))if(1<a.length)var u=a[0],h=a[1];else u=a[0],h={enabled:!1};else(u=o({},a)).x=a.xHigh,u.y=a.yHigh,(h=o({},a)).x=a.xLow,h.y=a.yLow;if(u.enabled||this._hasPointLabels){for(t=r;t--;)if(e=n[t]){var p=u.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow;e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,s[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=p,c?u.align||(u.align=p?"right":"left"):u.verticalAlign||(u.verticalAlign=p?"top":"bottom")}for(this.options.dataLabels=u,l.drawDataLabels&&l.drawDataLabels.apply(this,arguments),t=r;t--;)(e=n[t])&&(e.dataLabelUpper=e.dataLabel,e.dataLabel=s[t],delete e.dataLabels,e.y=e.low,e.plotY=e._plotY)}if(h.enabled||this._hasPointLabels){for(t=r;t--;)(e=n[t])&&(p=h.inside?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.below=!p,c?h.align||(h.align=p?"left":"right"):h.verticalAlign||(h.verticalAlign=p?"bottom":"top"));this.options.dataLabels=h,l.drawDataLabels&&l.drawDataLabels.apply(this,arguments)}if(u.enabled)for(t=r;t--;)(e=n[t])&&(e.dataLabels=[e.dataLabelUpper,e.dataLabel].filter((function(t){return!!t})));this.options.dataLabels=a},alignDataLabel:function(){a.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e=this.points.length;for(l.drawPoints.apply(this,arguments),t=0;t<e;){var i=this.points[t];i.origProps={plotY:i.plotY,plotX:i.plotX,isInside:i.isInside,negative:i.negative,zone:i.zone,y:i.y},i.lowerGraphic=i.graphic,i.graphic=i.upperGraphic,i.plotY=i.plotHigh,n(i.plotHighX)&&(i.plotX=i.plotHighX),i.y=i.high,i.negative=i.high<(this.options.threshold||0),i.zone=this.zones.length&&i.getZone(),this.chart.polar||(i.isInside=i.isTopInside=void 0!==i.plotY&&0<=i.plotY&&i.plotY<=this.yAxis.len&&0<=i.plotX&&i.plotX<=this.xAxis.len),t++}for(l.drawPoints.apply(this,arguments),t=0;t<e;)(i=this.points[t]).upperGraphic=i.graphic,i.graphic=i.lowerGraphic,o(i,i.origProps),delete i.origProps,t++},setStackedPoints:t.noop},{setState:function(){var t=this.state,e=this.series,o=e.chart.polar;n(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,o&&(this.plotX=this.plotHighX),c.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,o&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),c.setState.apply(this,arguments)},haloPath:function(){var t=this.series.chart.polar,e=[];return this.plotY=this.plotLow,t&&(this.plotX=this.plotLowX),this.isInside&&(e=c.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(c.haloPath.apply(this,arguments))),e},destroyElements:function(){return["lowerGraphic","upperGraphic"].forEach((function(t){this[t]&&(this[t]=this[t].destroy())}),this),this.graphic=null,c.destroyElements.apply(this,arguments)},isValid:function(){return r(this.low)&&r(this.high)}})})),e(t,"parts-more/AreaSplineRangeSeries.js",[t["parts/Globals.js"]],(function(t){(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})})),e(t,"parts-more/ColumnRangeSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.pick;e=t.defaultPlotOptions;var o=t.merge,i=t.noop,r=t.seriesType,s=t.seriesTypes.column.prototype;r("columnrange","arearange",o(e.column,e.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,o=this,i=o.yAxis,r=o.xAxis,a=r.startAngleRad,l=o.chart,c=o.xAxis.isRadial,u=Math.max(l.chartWidth,l.chartHeight)+999;s.translate.apply(o),o.points.forEach((function(s){var h=s.shapeArgs,p=o.options.minPointLength;s.plotHigh=e=Math.min(Math.max(-u,i.translate(s.high,0,1,0,1)),u),s.plotLow=Math.min(Math.max(-u,s.plotY),u);var d=e,f=n(s.rectPlotY,s.plotY)-e;Math.abs(f)<p?(f+=p-=f,d-=p/2):0>f&&(d-=f*=-1),c?(t=s.barX+a,s.shapeType="path",s.shapeArgs={d:o.polarArc(d+f,d,t,t+s.pointWidth)}):(h.height=f,h.y=d,s.tooltipPos=l.inverted?[i.len+i.pos-l.plotLeft-d-f/2,r.len+r.pos-l.plotTop-h.x-h.width/2,f]:[r.left-l.plotLeft+h.x+h.width/2,i.pos-l.plotTop+d+f/2,f])}))},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:i,getSymbol:i,crispCol:function(){return s.crispCol.apply(this,arguments)},drawPoints:function(){return s.drawPoints.apply(this,arguments)},drawTracker:function(){return s.drawTracker.apply(this,arguments)},getColumnMetrics:function(){return s.getColumnMetrics.apply(this,arguments)},pointAttribs:function(){return s.pointAttribs.apply(this,arguments)},animate:function(){return s.animate.apply(this,arguments)},polarArc:function(){return s.polarArc.apply(this,arguments)},translate3dPoints:function(){return s.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return s.translate3dShapes.apply(this,arguments)}},{setState:s.pointClass.prototype.setState})})),e(t,"parts-more/ColumnPyramidSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.pick;e=t.seriesType;var o=t.seriesTypes.column.prototype;e("columnpyramid","column",{},{translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA;r=t.borderWidth=n(i.borderWidth,r?0:1);var s=t.yAxis,a=i.threshold,l=t.translatedThreshold=s.getThreshold(a),c=n(i.minPointLength,5),u=t.getColumnMetrics(),h=u.width,p=t.barW=Math.max(h,1+2*r),d=t.pointXOffset=u.offset;e.inverted&&(l-=.5),i.pointPadding&&(p=Math.ceil(p)),o.translate.apply(t),t.points.forEach((function(o){var r=n(o.yBottom,l),u=999+Math.abs(r),f=Math.min(Math.max(-u,o.plotY),s.len+u);u=o.plotX+d;var m=p/2,g=Math.min(f,r);r=Math.max(f,r)-g,o.barX=u,o.pointWidth=h,o.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-f,t.xAxis.len-u-m,r]:[u+m,f+s.pos-e.plotTop,r],f=a+(o.total||o.y),"percent"===i.stacking&&(f=a+(0>o.y)?-100:100),f=s.toPixels(f,!0);var v=e.plotHeight-f-(e.plotHeight-l),b=m*(g-f)/v,y=m*(g+r-f)/v;v=u-b+m,b=u+b+m;var w=u+y+m;y=u-y+m;var E=g-c,C=g+r;0>o.y&&(E=g,C=g+r+c),e.inverted&&(y=m*(f-((w=e.plotWidth-g)-r))/(v=f-(e.plotWidth-l)),b=(v=u+m+(b=m*(f-w)/v))-2*b,w=u-y+m,y=u+y+m,E=g,C=g+r-c,0>o.y&&(C=g+r+c)),o.shapeType="path",o.shapeArgs={x:v,y:E,width:b-v,height:r,d:["M",v,E,"L",b,E,w,C,y,C,"Z"]}}))}})})),e(t,"parts-more/GaugeSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.isNumber,o=e.pick,i=e.pInt,r=t.merge,s=t.Series;e=t.seriesType;var a=t.TrackerMixin;e("gauge","line",{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:t.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,e=this.options,s=t.center;this.generatePoints(),this.points.forEach((function(a){var l=r(e.dial,a.dial),c=i(o(l.radius,"80%"))*s[2]/200,u=i(o(l.baseLength,"70%"))*c/100,h=i(o(l.rearLength,"10%"))*c/100,p=l.baseWidth||3,d=l.topWidth||1,f=e.overshoot,m=t.startAngleRad+t.translate(a.y,null,null,null,!0);n(f)?(f=f/180*Math.PI,m=Math.max(t.startAngleRad-f,Math.min(t.endAngleRad+f,m))):!1===e.wrap&&(m=Math.max(t.startAngleRad,Math.min(t.endAngleRad,m))),m=180*m/Math.PI,a.shapeType="path",a.shapeArgs={d:l.path||["M",-h,-p/2,"L",u,-p/2,c,-d/2,c,d/2,u,p/2,-h,p/2,"z"],translateX:s[0],translateY:s[1],rotation:m},a.plotX=s[0],a.plotY=s[1]}))},drawPoints:function(){var t=this,e=t.chart,n=t.yAxis.center,i=t.pivot,s=t.options,a=s.pivot,l=e.renderer;t.points.forEach((function(n){var o=n.graphic,i=n.shapeArgs,a=i.d,c=r(s.dial,n.dial);o?(o.animate(i),i.d=a):n.graphic=l[n.shapeType](i).attr({rotation:i.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.styledMode||n.graphic[o?"animate":"attr"]({stroke:c.borderColor||"none","stroke-width":c.borderWidth||0,fill:c.backgroundColor||"#000000"})})),i?i.animate({translateX:n[0],translateY:n[1]}):(t.pivot=l.circle(0,0,o(a.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(n[0],n[1]).add(t.group),e.styledMode||t.pivot.attr({"stroke-width":a.borderWidth||0,stroke:a.borderColor||"#cccccc",fill:a.backgroundColor||"#000000"}))},animate:function(t){var e=this;t||(e.points.forEach((function(t){var n=t.graphic;n&&(n.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),n.animate({rotation:t.shapeArgs.rotation},e.options.animation))})),e.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),s.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){s.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),o(e,!0)&&this.chart.redraw()},hasData:function(){return!!this.points.length},drawTracker:a&&a.drawTrackerPoint},{setState:function(t){this.state=t}})})),e(t,"parts-more/BoxPlotSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.pick;e=t.noop;var o=t.seriesType,i=t.seriesTypes;o("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(){return{}},drawDataLabels:e,translate:function(){var t=this.yAxis,e=this.pointArrayMap;i.column.prototype.translate.apply(this),this.points.forEach((function(n){e.forEach((function(e){null!==n[e]&&(n[e+"Plot"]=t.translate(n[e],0,1,0,1))}))}))},drawPoints:function(){var t,e,o,i,r,s,a,l,c,u,h,p=this,d=p.options,f=p.chart,m=f.renderer,g=0,v=!1!==p.doQuartiles,b=p.options.whiskerLength;p.points.forEach((function(y){var w=y.graphic,E=w?"animate":"attr",C=y.shapeArgs,x={},M={},_={},S={},k=y.color||p.color;void 0!==y.plotY&&(a=C.width,l=Math.floor(C.x),c=l+a,u=Math.round(a/2),t=Math.floor(v?y.q1Plot:y.lowPlot),e=Math.floor(v?y.q3Plot:y.lowPlot),o=Math.floor(y.highPlot),i=Math.floor(y.lowPlot),w||(y.graphic=w=m.g("point").add(p.group),y.stem=m.path().addClass("highcharts-boxplot-stem").add(w),b&&(y.whiskers=m.path().addClass("highcharts-boxplot-whisker").add(w)),v&&(y.box=m.path(void 0).addClass("highcharts-boxplot-box").add(w)),y.medianShape=m.path(void 0).addClass("highcharts-boxplot-median").add(w)),f.styledMode||(M.stroke=y.stemColor||d.stemColor||k,M["stroke-width"]=n(y.stemWidth,d.stemWidth,d.lineWidth),M.dashstyle=y.stemDashStyle||d.stemDashStyle,y.stem.attr(M),b&&(_.stroke=y.whiskerColor||d.whiskerColor||k,_["stroke-width"]=n(y.whiskerWidth,d.whiskerWidth,d.lineWidth),y.whiskers.attr(_)),v&&(x.fill=y.fillColor||d.fillColor||k,x.stroke=d.lineColor||k,x["stroke-width"]=d.lineWidth||0,y.box.attr(x)),S.stroke=y.medianColor||d.medianColor||k,S["stroke-width"]=n(y.medianWidth,d.medianWidth,d.lineWidth),y.medianShape.attr(S)),s=y.stem.strokeWidth()%2/2,g=l+u+s,y.stem[E]({d:["M",g,e,"L",g,o,"M",g,t,"L",g,i]}),v&&(s=y.box.strokeWidth()%2/2,t=Math.floor(t)+s,e=Math.floor(e)+s,l+=s,c+=s,y.box[E]({d:["M",l,e,"L",l,t,"L",c,t,"L",c,e,"L",l,e,"z"]})),b&&(s=y.whiskers.strokeWidth()%2/2,o+=s,i+=s,h=/%$/.test(b)?u*parseFloat(b)/100:b/2,y.whiskers[E]({d:["M",g-h,o,"L",g+h,o,"M",g-h,i,"L",g+h,i]})),r=Math.round(y.medianPlot),s=y.medianShape.strokeWidth()%2/2,r+=s,y.medianShape[E]({d:["M",l,r,"L",c,r]}))}))},setStackedPoints:e})})),e(t,"parts-more/ErrorBarSeries.js",[t["parts/Globals.js"]],(function(t){var e=t.noop,n=t.seriesType,o=t.seriesTypes;n("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:o.arearange?function(){var t=this.pointValKey;o.arearange.prototype.drawDataLabels.call(this),this.data.forEach((function(e){e.y=e[t]}))}:e,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||o.column.prototype.getColumnMetrics.call(this)}})})),e(t,"parts-more/WaterfallSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,o=e.arrayMin,i=e.isNumber,r=e.objectEach,s=e.pick,a=t.correctFloat;e=t.addEvent;var l=t.Axis,c=t.Chart,u=t.Point,h=t.Series,p=t.StackItem,d=t.seriesType,f=t.seriesTypes;e(l,"afterInit",(function(){this.isXAxis||(this.waterfallStacks={changed:!1})})),e(c,"beforeRedraw",(function(){for(var t=this.axes,e=this.series,n=e.length;n--;)e[n].options.stacking&&(t.forEach((function(t){t.isXAxis||(t.waterfallStacks.changed=!0)})),n=0)})),e(l,"afterRender",(function(){var t=this.options.stackLabels;t&&t.enabled&&this.waterfallStacks&&this.renderWaterfallStackTotals()})),l.prototype.renderWaterfallStackTotals=function(){var t=this.waterfallStacks,e=this.stackTotalGroup,n=new p(this,this.options.stackLabels,!1,0,void 0);this.dummyStackItem=n,r(t,(function(t){r(t,(function(t){n.total=t.stackTotal,t.label&&(n.label=t.label),p.prototype.render.call(n,e),t.label=n.label,delete n.label}))})),n.total=null},d("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",showLine:!0,generatePoints:function(){var t;f.column.prototype.generatePoints.apply(this);var e=0;for(t=this.points.length;e<t;e++){var n=this.points[e],o=this.processedYData[e];(n.isIntermediateSum||n.isSum)&&(n.y=a(o))}},translate:function(){var t,e=this.options,n=this.yAxis,o=s(e.minPointLength,5),i=o/2,r=e.threshold,a=e.stacking,l=n.waterfallStacks[this.stackKey];f.column.prototype.translate.apply(this);var c=t=r,u=this.points,h=0;for(e=u.length;h<e;h++){var p=u[h],d=this.processedYData[h],m=p.shapeArgs,g=[0,d],v=p.y;if(a){if(l){if(g=l[h],"overlap"===a){var b=g.stackState[g.stateIndex--];b=0<=v?b:b-v,Object.hasOwnProperty.call(g,"absolutePos")&&delete g.absolutePos,Object.hasOwnProperty.call(g,"absoluteNeg")&&delete g.absoluteNeg}else 0<=v?(b=g.threshold+g.posTotal,g.posTotal-=v):(b=g.threshold+g.negTotal,g.negTotal-=v,b-=v),!g.posTotal&&Object.hasOwnProperty.call(g,"absolutePos")&&(g.posTotal=g.absolutePos,delete g.absolutePos),!g.negTotal&&Object.hasOwnProperty.call(g,"absoluteNeg")&&(g.negTotal=g.absoluteNeg,delete g.absoluteNeg);p.isSum||(g.connectorThreshold=g.threshold+g.stackTotal),n.reversed?(d=0<=v?b-v:b+v,v=b):(d=b,v=b-v),p.below=d<=s(r,0),m.y=n.translate(d,0,1,0,1),m.height=Math.abs(m.y-n.translate(v,0,1,0,1))}(v=n.dummyStackItem)&&(v.x=h,v.label=l[h].label,v.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[h],this.stackedYPos[h]))}else b=Math.max(c,c+v)+g[0],m.y=n.translate(b,0,1,0,1),p.isSum?(m.y=n.translate(g[1],0,1,0,1),m.height=Math.min(n.translate(g[0],0,1,0,1),n.len)-m.y):p.isIntermediateSum?(0<=v?(d=g[1]+t,v=t):(d=t,v=g[1]+t),n.reversed&&(d^=v,d^=v^=d),m.y=n.translate(d,0,1,0,1),m.height=Math.abs(m.y-Math.min(n.translate(v,0,1,0,1),n.len)),t+=g[1]):(m.height=0<d?n.translate(c,0,1,0,1)-m.y:n.translate(c,0,1,0,1)-n.translate(c-d,0,1,0,1),c+=d,p.below=c<s(r,0)),0>m.height&&(m.y+=m.height,m.height*=-1);p.plotY=m.y=Math.round(m.y)-this.borderWidth%2/2,m.height=Math.max(Math.round(m.height),.001),p.yBottom=m.y+m.height,m.height<=o&&!p.isNull?(m.height=o,m.y-=i,p.plotY=m.y,p.minPointLengthOffset=0>p.y?-i:i):(p.isNull&&(m.width=0),p.minPointLengthOffset=0),m=p.plotY+(p.negative?m.height:0),this.chart.inverted?p.tooltipPos[0]=n.len-m:p.tooltipPos[1]=m}},processData:function(t){var e,n,o,i,r,s=this.options,l=this.yData,c=s.data,u=l.length,p=s.threshold||0;for(r=n=e=o=i=0;r<u;r++){var d=l[r],f=c&&c[r]?c[r]:{};"sum"===d||f.isSum?l[r]=a(n):"intermediateSum"===d||f.isIntermediateSum?(l[r]=a(e),e=0):(n+=d,e+=d),o=Math.min(n,o),i=Math.max(n,i)}h.prototype.processData.call(this,t),s.stacking||(this.dataMin=o+p,this.dataMax=i)},toYData:function(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y},updateParallelArrays:function(t,e){h.prototype.updateParallelArrays.call(this,t,e),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)},pointAttribs:function(t,e){var n=this.options.upColor;return n&&!t.options.color&&(t.color=0<t.y?n:null),delete(t=f.column.prototype.pointAttribs.call(this,t,e)).dashstyle,t},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e=this.data,n=this.yAxis,o=e.length,i=Math.round(this.graph.strokeWidth())%2/2,r=Math.round(this.borderWidth)%2/2,s=this.xAxis.reversed,a=this.yAxis.reversed,l=this.options.stacking,c=[];for(t=1;t<o;t++){var u=e[t].shapeArgs,h=e[t-1],p=e[t-1].shapeArgs,d=n.waterfallStacks[this.stackKey],f=0<h.y?-p.height:0;if(d){d=d[t-1],l?(d=d.connectorThreshold,f=Math.round(n.translate(d,0,1,0,1)+(a?f:0))-i):f=p.y+h.minPointLengthOffset+r-i;var m=["M",p.x+(s?0:p.width),f,"L",u.x+(s?u.width:0),f]}(!l&&0>h.y&&!a||0<h.y&&a)&&(m[2]+=p.height,m[5]+=p.height),c=c.concat(m)}return c},drawGraph:function(){h.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){function t(t,e,n,o){if(b)for(;n<b;n++)f.stackState[n]+=o;else f.stackState[0]=t,b=f.stackState.length;f.stackState.push(f.stackState[b-1]+e)}var e,n,o=this.options,i=this.yAxis.waterfallStacks,r=o.threshold,s=r||0,a=s,l=this.stackKey,c=this.xData,u=c.length;this.yAxis.usePercentage=!1;var h=e=n=s;if(this.visible||!this.chart.options.chart.ignoreHiddenSeries){i[l]||(i[l]={}),l=i[l];for(var p=0;p<u;p++){var d=c[p];l[d]&&!i.changed||(l[d]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:i.changed&&l[d]?l[d].label:void 0});var f=l[d],m=this.yData[p];0<=m?f.posTotal+=m:f.negTotal+=m;var g=o.data[p];d=f.absolutePos=f.posTotal;var v=f.absoluteNeg=f.negTotal;f.stackTotal=d+v;var b=f.stackState.length;g&&g.isIntermediateSum?(t(n,e,0,n),n=e,e=r,s^=a,s^=a^=s):g&&g.isSum?(t(r,h,b),s=r):(t(s,m,0,h),g&&(h+=m,e+=m)),f.stateIndex++,f.threshold=s,s+=f.stackTotal}i.changed=!1}},getExtremes:function(){var t=this.options.stacking;if(t){var e=this.yAxis;e=e.waterfallStacks;var i=this.stackedYNeg=[],s=this.stackedYPos=[];r(e[this.stackKey],"overlap"===t?function(t){i.push(o(t.stackState)),s.push(n(t.stackState))}:function(t){i.push(t.negTotal+t.threshold),s.push(t.posTotal+t.threshold)}),this.dataMin=o(i),this.dataMax=n(s)}}},{getClassName:function(){var t=u.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return i(this.y)||this.isSum||this.isIntermediateSum}})})),e(t,"parts-more/PolygonSeries.js",[t["parts/Globals.js"]],(function(t){var e=t.Series,n=t.seriesType,o=t.seriesTypes;n("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=e.prototype.getGraphPath.call(this),n=t.length+1;n--;)(n===t.length||"M"===t[n])&&0<n&&t.splice(n,0,"z");return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,o.area.prototype.drawGraph.call(this)},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawTracker:e.prototype.drawTracker,setStackedPoints:t.noop})})),e(t,"parts-more/BubbleLegend.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,o=e.arrayMin,i=e.isNumber,r=e.objectEach,s=e.pick;e=t.Series;var a=t.Legend,l=t.Chart,c=t.addEvent,u=t.wrap,h=t.color,p=t.numberFormat,d=t.merge,f=t.noop,m=t.stableSort;(0,t.setOptions)({legend:{bubbleLegend:{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:10,color:void 0},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}}),t.BubbleLegend=function(t,e){this.init(t,e)},t.BubbleLegend.prototype={init:function(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e},setState:f,addToLegend:function(t){t.splice(this.options.legendIndex,0,this)},drawLegendSymbol:function(t){var e=this.chart,n=this.options,o=s(t.options.itemDistance,20),r=n.ranges,a=n.connectorDistance;this.fontMetrics=e.renderer.fontMetrics(n.labels.style.fontSize.toString()+"px"),r&&r.length&&i(r[0].value)?(m(r,(function(t,e){return e.value-t.value})),this.ranges=r,this.setOptions(),this.render(),e=this.getMaxLabelSize(),t=2*(r=this.ranges[0].radius),a=0<(a=a-r+e.width)?a:0,this.maxLabel=e,this.movementX="left"===n.labels.align?a:0,this.legendItemWidth=t+a+o,this.legendItemHeight=t+this.fontMetrics.h/2):t.options.bubbleLegend.autoRanges=!0},setOptions:function(){var t=this.ranges,e=this.options,n=this.chart.series[e.seriesIndex],o=this.legend.baseline,i={"z-index":e.zIndex,"stroke-width":e.borderWidth},r={"z-index":e.zIndex,"stroke-width":e.connectorWidth},a=this.getLabelStyles(),l=n.options.marker.fillOpacity,c=this.chart.styledMode;t.forEach((function(u,p){c||(i.stroke=s(u.borderColor,e.borderColor,n.color),i.fill=s(u.color,e.color,1!==l?h(n.color).setOpacity(l).get("rgba"):n.color),r.stroke=s(u.connectorColor,e.connectorColor,n.color)),t[p].radius=this.getRangeRadius(u.value),t[p]=d(t[p],{center:t[0].radius-t[p].radius+o}),c||d(!0,t[p],{bubbleStyle:d(!1,i),connectorStyle:d(!1,r),labelStyle:a})}),this)},getLabelStyles:function(){var t=this.options,e={},n="left"===t.labels.align,o=this.legend.options.rtl;return r(t.labels.style,(function(t,n){"color"!==n&&"fontSize"!==n&&"z-index"!==n&&(e[n]=t)})),d(!1,e,{"font-size":t.labels.style.fontSize,fill:s(t.labels.style.color,"#000000"),"z-index":t.zIndex,align:o||n?"right":"left"})},getRangeRadius:function(t){var e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)},render:function(){var t=this.chart.renderer,e=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=t.g("bubble-legend"),this.legendItem=t.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach((function(t){t.value>=e&&this.renderRange(t)}),this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},renderRange:function(t){var e=this.options,n=e.labels,o=this.chart.renderer,i=this.symbols,r=i.labels,s=t.center,a=Math.abs(t.radius),l=e.connectorDistance,c=n.align,u=n.style.fontSize;l=this.legend.options.rtl||"left"===c?-l:l,n=e.connectorWidth;var h=this.ranges[0].radius,p=s-a-e.borderWidth/2+n/2;u=u/2-(this.fontMetrics.h-u)/2;var d=o.styledMode;"center"===c&&(l=0,e.connectorDistance=0,t.labelStyle.align="center"),c=p+e.labels.y;var f=h+l+e.labels.x;i.bubbleItems.push(o.circle(h,s+((p%1?1:.5)-(n%2?0:.5)),a).attr(d?{}:t.bubbleStyle).addClass((d?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendSymbol)),i.connectors.push(o.path(o.crispLine(["M",h,p,"L",h+l,p],e.connectorWidth)).attr(d?{}:t.connectorStyle).addClass((d?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendSymbol)),t=o.text(this.formatLabel(t),f,c+u).attr(d?{}:t.labelStyle).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendSymbol),r.push(t),t.placed=!0,t.alignAttr={x:f,y:c+u}},getMaxLabelSize:function(){var t,e;return this.symbols.labels.forEach((function(n){e=n.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}},formatLabel:function(e){var n=this.options,o=n.labels.formatter;return(n=n.labels.format)?t.format(n,e):o?o.call(e):p(e.value,1)},hideOverlappingLabels:function(){var t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach((function(t,n){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[n].show():e.connectors[n].hide()})))},getRanges:function(){var t,e=this.legend.bubbleLegend,r=e.options.ranges,a=Number.MAX_VALUE,l=-Number.MAX_VALUE;e.chart.series.forEach((function(e){e.isBubble&&!e.ignoreSeries&&((t=e.zData.filter(i)).length&&(a=s(e.options.zMin,Math.min(a,Math.max(o(t),!1===e.options.displayNegative?e.options.zThreshold:-Number.MAX_VALUE))),l=s(e.options.zMax,Math.max(l,n(t)))))}));var c=a===l?[{value:l}]:[{value:a},{value:(a+l)/2},{value:l,autoRanges:!0}];return r.length&&r[0].radius&&c.reverse(),c.forEach((function(t,e){r&&r[e]&&(c[e]=d(!1,r[e],t))})),c},predictBubbleSizes:function(){var t=this.chart,e=this.fontMetrics,n=t.legend.options,o="horizontal"===n.layout,i=o?t.legend.lastLineHeight:0,r=t.plotSizeX,s=t.plotSizeY,a=t.series[this.options.seriesIndex];t=Math.ceil(a.minPxSize);var l=Math.ceil(a.maxPxSize);a=a.options.maxSize;var c=Math.min(s,r);return n.floating||!/%$/.test(a)?e=l:(a=parseFloat(a),e=(c+i-e.h/2)*a/100/(a/100+1),(o&&s-e>=r||!o&&r-e>=s)&&(e=l)),[t,Math.ceil(e)]},updateRanges:function(t,e){var n=this.legend.options.bubbleLegend;n.minSize=t,n.maxSize=e,n.ranges=this.getRanges()},correctSizes:function(){var t=this.legend,e=this.chart.series[this.options.seriesIndex];1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}},c(t.Legend,"afterGetAllItems",(function(e){var n=this.bubbleLegend,o=this.options,i=o.bubbleLegend,r=this.chart.getVisibleBubbleSeriesIndex();n&&n.ranges&&n.ranges.length&&(i.ranges.length&&(i.autoRanges=!!i.ranges[0].autoRanges),this.destroyItem(n)),0<=r&&o.enabled&&i.enabled&&(i.seriesIndex=r,this.bubbleLegend=new t.BubbleLegend(i,this),this.bubbleLegend.addToLegend(e.allItems))})),l.prototype.getVisibleBubbleSeriesIndex=function(){for(var t=this.series,e=0;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1},a.prototype.getLinesHeights=function(){var t,e=this.allItems,n=[],o=e.length,i=0;for(t=0;t<o;t++)if(e[t].legendItemHeight&&(e[t].itemHeight=e[t].legendItemHeight),e[t]===e[o-1]||e[t+1]&&e[t]._legendItemPos[1]!==e[t+1]._legendItemPos[1]){n.push({height:0});for(var r=n[n.length-1];i<=t;i++)e[i].itemHeight>r.height&&(r.height=e[i].itemHeight);r.step=t}return n},a.prototype.retranslateItems=function(t){var e,n,o,i=this.options.rtl,r=0;this.allItems.forEach((function(s,a){e=s.legendGroup.translateX,n=s._legendItemPos[1],((o=s.movementX)||i&&s.ranges)&&(o=i?e-s.options.maxSize/2:e+o,s.legendGroup.attr({translateX:o})),a>t[r].step&&r++,s.legendGroup.attr({translateY:Math.round(n+t[r].height/2)}),s._legendItemPos[1]=n+t[r].height/2}))},c(e,"legendItemClick",(function(){var t=this.chart,e=this.visible,n=this.chart.legend;n&&n.bubbleLegend&&(this.visible=!e,this.ignoreSeries=e,t=0<=t.getVisibleBubbleSeriesIndex(),n.bubbleLegend.visible!==t&&(n.update({bubbleLegend:{enabled:t}}),n.bubbleLegend.visible=t),this.visible=e)})),u(l.prototype,"drawChartBox",(function(t,e,n){var o=this.legend,i=0<=this.getVisibleBubbleSeriesIndex();if(o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&i){var s=o.bubbleLegend.options;i=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(i[0],i[1]),s.placed||(o.group.placed=!1,o.allItems.forEach((function(t){t.legendGroup.translateY=null}))),o.render(),this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),s.placed||(t.setScale(),t.updateNames(),r(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),s.placed=!0,this.getMargins(),t.call(this,e,n),o.bubbleLegend.correctSizes(),o.retranslateItems(o.getLinesHeights())}else t.call(this,e,n),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),o.retranslateItems(o.getLinesHeights()))}))})),e(t,"parts-more/BubbleSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.arrayMax,o=e.arrayMin,i=e.extend,r=e.isNumber,s=e.pick,a=e.pInt;e=t.Axis;var l=t.color,c=t.noop,u=t.Point,h=t.Series,p=t.seriesType,d=t.seriesTypes;p("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,isBubble:!0,pointAttribs:function(t,e){var n=this.options.marker.fillOpacity;return t=h.prototype.pointAttribs.call(this,t,e),1!==n&&(t.fill=l(t.fill).setOpacity(n).get("rgba")),t},getRadii:function(t,e,n){var o=this.zData,i=this.yData,r=n.minPxSize,s=n.maxPxSize,a=[],l=0;for(n=o.length;l<n;l++){var c=o[l];a.push(this.getRadius(t,e,r,s,c,i[l]))}this.radii=a},getRadius:function(t,e,n,o,i,s){var a=this.options,l="width"!==a.sizeBy,c=a.zThreshold,u=e-t,h=.5;if(null===s||null===i)return null;if(r(i)){if(a.sizeByAbsoluteValue&&(i=Math.abs(i-c),u=Math.max(e-c,Math.abs(t-c)),t=0),i<t)return n/2-1;0<u&&(h=(i-t)/u)}return l&&0<=h&&(h=Math.sqrt(h)),Math.ceil(n+h*(o-n))/2},animate:function(t){!t&&this.points.length<this.options.animationLimit&&(this.points.forEach((function(t){var e=t.graphic;if(e&&e.width){var n={x:e.x,y:e.y,width:e.width,height:e.height};e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(n,this.options.animation)}}),this),this.animate=null)},hasData:function(){return!!this.processedXData.length},translate:function(){var t,e=this.data,n=this.radii;for(d.scatter.prototype.translate.call(this),t=e.length;t--;){var o=e[t],s=n?n[t]:0;r(s)&&s>=this.minPxSize/2?(o.marker=i(o.marker,{radius:s,width:2*s,height:2*s}),o.dlBox={x:o.plotX-s,y:o.plotY-s,width:2*s,height:2*s}):o.shapeArgs=o.plotY=o.dlBox=void 0}},alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:c,applyZones:c},{haloPath:function(t){return u.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),e.prototype.beforePadding=function(){var t=this,e=this.len,i=this.chart,l=0,c=e,u=this.isXAxis,h=u?"xData":"yData",p=this.min,d={},f=Math.min(i.plotWidth,i.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,v=this.max-p,b=e/v,y=[];this.series.forEach((function(e){var l=e.options;!e.bubblePadding||!e.visible&&i.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,y.push(e),u&&(["minSize","maxSize"].forEach((function(t){var e=l[t],n=/%$/.test(e);e=a(e),d[t]=n?f*e/100:e})),e.minPxSize=d.minSize,e.maxPxSize=Math.max(d.maxSize,d.minSize),(e=e.zData.filter(r)).length&&(m=s(l.zMin,Math.min(m,Math.max(o(e),!1===l.displayNegative?l.zThreshold:-Number.MAX_VALUE))),g=s(l.zMax,Math.max(g,n(e))))))})),y.forEach((function(e){var n=e[h],o=n.length;if(u&&e.getRadii(m,g,e),0<v)for(;o--;)if(r(n[o])&&t.dataMin<=n[o]&&n[o]<=t.dataMax){var i=e.radii?e.radii[o]:0;l=Math.min((n[o]-p)*b-i,l),c=Math.max((n[o]-p)*b+i,c)}})),y.length&&0<v&&!this.isLog&&(c-=e,b*=(e+Math.max(0,l)-Math.min(c,e))/e,[["min","userMin",l],["max","userMax",c]].forEach((function(e){void 0===s(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/b)})))}})),e(t,"modules/networkgraph/integrations.js",[t["parts/Globals.js"]],(function(t){t.networkgraphIntegrations={verlet:{attractiveForceFunction:function(t,e){return(e-t)/t},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,n=(n-(this.box.top+this.box.height)/2)*t,this.nodes.forEach((function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=n/t.mass/t.degree)}))},repulsive:function(t,e,n){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=n.x*e,t.plotY+=n.y*e)},attractive:function(t,e,n){var o=t.getMass(),i=-n.x*e*this.diffTemperature;e=-n.y*e*this.diffTemperature,t.fromNode.fixedPosition||(t.fromNode.plotX-=i*o.fromNode/t.fromNode.degree,t.fromNode.plotY-=e*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=i*o.toNode/t.toNode.degree,t.toNode.plotY+=e*o.toNode/t.toNode.degree)},integrate:function(t,e){var n=-t.options.friction,o=t.options.maxSpeed,i=(e.plotX+e.dispX-e.prevX)*n;n*=e.plotY+e.dispY-e.prevY;var r=Math.abs,s=r(i)/(i||1);r=r(n)/(n||1),i=s*Math.min(o,Math.abs(i)),n=r*Math.min(o,Math.abs(n)),e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=i,e.plotY+=n,e.temperature=t.vectorLength({x:i,y:n})},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)}},euler:{attractiveForceFunction:function(t,e){return t*t/e},repulsiveForceFunction:function(t,e){return e*e/t},barycenter:function(){var t=this.options.gravitationalConstant,e=this.barycenter.xFactor,n=this.barycenter.yFactor;this.nodes.forEach((function(o){if(!o.fixedPosition){var i=o.getDegree();i*=1+i/2,o.dispX+=(e-o.plotX)*t*i/o.degree,o.dispY+=(n-o.plotY)*t*i/o.degree}}))},repulsive:function(t,e,n,o){t.dispX+=n.x/o*e/t.degree,t.dispY+=n.y/o*e/t.degree},attractive:function(t,e,n,o){var i=t.getMass(),r=n.x/o*e;e*=n.y/o,t.fromNode.fixedPosition||(t.fromNode.dispX-=r*i.fromNode/t.fromNode.degree,t.fromNode.dispY-=e*i.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=r*i.toNode/t.toNode.degree,t.toNode.dispY+=e*i.toNode/t.toNode.degree)},integrate:function(t,e){e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction;var n=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY});0!==n&&(e.plotX+=e.dispX/n*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/n*Math.min(Math.abs(e.dispY),t.temperature))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)}}}})),e(t,"modules/networkgraph/QuadTree.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){e=e.extend;var n=t.QuadTreeNode=function(t){this.box=t,this.boxSize=Math.min(t.width,t.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};e(n.prototype,{insert:function(t,e){this.isInternal?this.nodes[this.getBoxPosition(t)].insert(t,e-1):(this.isEmpty=!1,this.body?e?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,e-1),this.body=!0),this.nodes[this.getBoxPosition(t)].insert(t,e-1)):((e=new n({top:t.plotX,left:t.plotY,width:.1,height:.1})).body=t,e.isInternal=!1,this.nodes.push(e)):(this.isInternal=!1,this.body=t))},updateMassAndCenter:function(){var t=0,e=0,n=0;this.isInternal?(this.nodes.forEach((function(o){o.isEmpty||(t+=o.mass,e+=o.plotX*o.mass,n+=o.plotY*o.mass)})),e/=t,n/=t):this.body&&(t=this.body.mass,e=this.body.plotX,n=this.body.plotY),this.mass=t,this.plotX=e,this.plotY=n},divideBox:function(){var t=this.box.width/2,e=this.box.height/2;this.nodes[0]=new n({left:this.box.left,top:this.box.top,width:t,height:e}),this.nodes[1]=new n({left:this.box.left+t,top:this.box.top,width:t,height:e}),this.nodes[2]=new n({left:this.box.left+t,top:this.box.top+e,width:t,height:e}),this.nodes[3]=new n({left:this.box.left,top:this.box.top+e,width:t,height:e})},getBoxPosition:function(t){var e=t.plotY<this.box.top+this.box.height/2;return t.plotX<this.box.left+this.box.width/2?e?0:3:e?1:2}}),e((t=t.QuadTree=function(t,e,o,i){this.box={left:t,top:e,width:o,height:i},this.maxDepth=25,this.root=new n(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(t){t.forEach((function(t){this.root.insert(t,this.maxDepth)}),this)},visitNodeRecursive:function(t,e,n){var o;t||(t=this.root),t===this.root&&e&&(o=e(t)),!1!==o&&(t.nodes.forEach((function(t){if(t.isInternal){if(e&&(o=e(t)),!1===o)return;this.visitNodeRecursive(t,e,n)}else t.body&&e&&e(t.body);n&&n(t)}),this),t===this.root&&n&&n(t))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,(function(t){t.updateMassAndCenter()}))}})})),e(t,"modules/networkgraph/layouts.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.defined,o=e.extend,i=e.pick,r=e.setAnimation;e=t.addEvent;var s=t.Chart;t.layouts={"reingold-fruchterman":function(){}},o(t.layouts["reingold-fruchterman"].prototype,{init:function(e){this.options=e,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=t.networkgraphIntegrations[e.integration],this.attractiveForce=i(e.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=i(e.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=e.approximation},start:function(){var t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.initialRendering&&(this.initPositions(),t.forEach((function(t){t.render()}))),this.setK(),this.resetSimulation(e),e.enableSimulation&&this.step()},step:function(){var e=this,n=this.series,o=this.options;e.currentStep++,"barnes-hut"===e.approximation&&(e.createQuadTree(),e.quadTree.calculateMassAndCenter()),e.forces.forEach((function(t){e[t+"Forces"](e.temperature)})),e.applyLimits(e.temperature),e.temperature=e.coolDown(e.startTemperature,e.diffTemperature,e.currentStep),e.prevSystemTemperature=e.systemTemperature,e.systemTemperature=e.getSystemTemperature(),o.enableSimulation&&(n.forEach((function(t){t.chart&&t.render()})),e.maxIterations--&&isFinite(e.temperature)&&!e.isStable()?(e.simulation&&t.win.cancelAnimationFrame(e.simulation),e.simulation=t.win.requestAnimationFrame((function(){e.step()}))):e.simulation=!1)},stop:function(){this.simulation&&t.win.cancelAnimationFrame(this.simulation)},setArea:function(t,e,n,o){this.box={left:t,top:e,width:n,height:o}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(t,e){t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)}))},removeElementFromCollection:function(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},setMaxIterations:function(t){this.maxIterations=i(t,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(t){this.initialRendering=t},createQuadTree:function(){this.quadTree=new t.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var e=this.options.initialPositions;t.isFunction(e)?(e.call(this),this.nodes.forEach((function(t){n(t.prevX)||(t.prevX=t.plotX),n(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}))):"circle"===e?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var t=this.box,e=this.nodes,n=2*Math.PI/(e.length+1),o=e.filter((function(t){return 0===t.linksTo.length})),r=[],s={},a=this.options.initialPositionRadius;o.forEach((function(t){r.push(t),function t(e){e.linksFrom.forEach((function(e){s[e.toNode.id]||(s[e.toNode.id]=!0,r.push(e.toNode),t(e.toNode))}))}(t)})),r.length?e.forEach((function(t){-1===r.indexOf(t)&&r.push(t)})):r=e,r.forEach((function(e,o){e.plotX=e.prevX=i(e.plotX,t.width/2+a*Math.cos(o*n)),e.plotY=e.prevY=i(e.plotY,t.height/2+a*Math.sin(o*n)),e.dispX=0,e.dispY=0}))},setRandomPositions:function(){function t(t){return(t=t*t/Math.PI)-Math.floor(t)}var e=this.box,n=this.nodes,o=n.length+1;n.forEach((function(n,r){n.plotX=n.prevX=i(n.plotX,e.width*t(r)),n.plotY=n.prevY=i(n.plotY,e.height*t(o+r)),n.dispX=0,n.dispY=0}))},force:function(t){this.integration[t].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var t=0,e=0,n=0;return this.nodes.forEach((function(o){e+=o.plotX*o.mass,n+=o.plotY*o.mass,t+=o.mass})),this.barycenter={x:e,y:n,xFactor:e/t,yFactor:n/t}},barnesHutApproximation:function(t,e){var n=this.getDistXY(t,e),o=this.vectorLength(n);if(t!==e&&0!==o)if(e.isInternal)if(e.boxSize/o<this.options.theta&&0!==o){var i=this.repulsiveForce(o,this.k);this.force("repulsive",t,i*e.mass,n,o);var r=!1}else r=!0;else i=this.repulsiveForce(o,this.k),this.force("repulsive",t,i*e.mass,n,o);return r},repulsiveForces:function(){var t=this;"barnes-hut"===t.approximation?t.nodes.forEach((function(e){t.quadTree.visitNodeRecursive(null,(function(n){return t.barnesHutApproximation(e,n)}))})):t.nodes.forEach((function(e){t.nodes.forEach((function(n){if(e!==n&&!e.fixedPosition){var o=t.getDistXY(e,n),i=t.vectorLength(o);if(0!==i){var r=t.repulsiveForce(i,t.k);t.force("repulsive",e,r*n.mass,o,i)}}}))}))},attractiveForces:function(){var t,e,n,o=this;o.links.forEach((function(i){i.fromNode&&i.toNode&&(t=o.getDistXY(i.fromNode,i.toNode),0!==(e=o.vectorLength(t))&&(n=o.attractiveForce(e,o.k),o.force("attractive",i,n,t,e)))}))},applyLimits:function(){var t=this;t.nodes.forEach((function(e){e.fixedPosition||(t.integration.integrate(t,e),t.applyLimitBox(e,t.box),e.dispX=0,e.dispY=0)}))},applyLimitBox:function(t,e){var n=t.radius;t.plotX=Math.max(Math.min(t.plotX,e.width-n),e.left+n),t.plotY=Math.max(Math.min(t.plotY,e.height-n),e.top+n)},coolDown:function(t,e,n){return t-e*n},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce((function(t,e){return t+e.temperature}),0)},vectorLength:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},getDistR:function(t,e){return t=this.getDistXY(t,e),this.vectorLength(t)},getDistXY:function(t,e){var n=t.plotX-e.plotX;return{x:n,y:t=t.plotY-e.plotY,absX:Math.abs(n),absY:Math.abs(t)}}}),e(s,"predraw",(function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((function(t){t.stop()}))})),e(s,"render",(function(){function t(t){t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.options.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),n=!1,e=!0)}var e=!1;if(this.graphLayoutsLookup){for(r(!1,this),this.graphLayoutsLookup.forEach((function(t){t.start()}));!n;){var n=!0;this.graphLayoutsLookup.forEach(t)}e&&this.series.forEach((function(t){t&&t.layout&&t.render()}))}}))})),e(t,"modules/networkgraph/draggable-nodes.js",[t["parts/Globals.js"]],(function(t){var e=t.Chart,n=t.addEvent;t.dragNodesMixin={onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){var n=this.chart,o=n.pointer.normalize(e);e=t.fixedPosition.chartX-o.chartX,o=t.fixedPosition.chartY-o.chartY,(5<Math.abs(e)||5<Math.abs(o))&&(e=t.fixedPosition.plotX-e,o=t.fixedPosition.plotY-o,n.isInsidePlot(e,o)&&(t.plotX=e,t.plotY=o,t.hasDragged=!0,this.redrawHalo(t),this.layout.simulation?this.layout.resetSimulation():(this.layout.setInitialRendering(!1),this.layout.enableSimulation?this.layout.start():this.layout.setMaxIterations(1),this.chart.redraw(),this.layout.setInitialRendering(!0))))}},onMouseUp:function(t,e){t.fixedPosition&&t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw(),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}},n(e,"load",(function(){var t,e,o,i=this;i.container&&(t=n(i.container,"mousedown",(function(t){var r=i.hoverPoint;r&&r.series&&r.series.hasDraggableNodes&&r.series.options.draggable&&(r.series.onMouseDown(r,t),e=n(i.container,"mousemove",(function(t){return r&&r.series&&r.series.onMouseMove(r,t)})),o=n(i.container.ownerDocument,"mouseup",(function(t){return e(),o(),r&&r.series&&r.series.onMouseUp(r,t)})))}))),n(i,"destroy",(function(){t()}))}))})),e(t,"parts-more/PackedBubbleSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.defined,o=e.extend,i=e.isArray,r=e.isNumber,s=e.pick;e=t.seriesType;var a=t.Series,l=t.Point,c=t.addEvent,u=t.fireEvent,h=t.Chart,p=t.Color,d=t.layouts["reingold-fruchterman"],f=t.seriesTypes.bubble.prototype.pointClass,m=t.dragNodesMixin;t.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(t,e,n,o){return Math.min(t,(n.marker.radius+o.marker.radius)/2)},barycenter:function(){var t,e,n=this,o=n.options.gravitationalConstant,i=n.box,r=n.nodes;r.forEach((function(s){n.options.splitSeries&&!s.isParentNode?(t=s.series.parentNode.plotX,e=s.series.parentNode.plotY):(t=i.width/2,e=i.height/2),s.fixedPosition||(s.plotX-=(s.plotX-t)*o/(s.mass*Math.sqrt(r.length)),s.plotY-=(s.plotY-e)*o/(s.mass*Math.sqrt(r.length)))}))},repulsive:function(t,e,n,o){var i=e*this.diffTemperature/t.mass/t.degree;e=n.x*i,n=n.y*i,t.fixedPosition||(t.plotX+=e,t.plotY+=n),o.fixedPosition||(o.plotX-=e,o.plotY-=n)},integrate:t.networkgraphIntegrations.verlet.integrate,getK:t.noop},t.layouts.packedbubble=t.extendClass(d,{beforeStep:function(){this.options.marker&&this.series.forEach((function(t){t&&t.calculateParentRadius()}))},setCircularPositions:function(){var t,e,n=this,o=n.box,i=n.nodes,r=2*Math.PI/(i.length+1),a=n.options.initialPositionRadius;i.forEach((function(i,l){n.options.splitSeries&&!i.isParentNode?(t=i.series.parentNode.plotX,e=i.series.parentNode.plotY):(t=o.width/2,e=o.height/2),i.plotX=i.prevX=s(i.plotX,t+a*Math.cos(i.index||l*r)),i.plotY=i.prevY=s(i.plotY,e+a*Math.sin(i.index||l*r)),i.dispX=0,i.dispY=0}))},repulsiveForces:function(){var t,e,n,o=this,i=o.options.bubblePadding;o.nodes.forEach((function(r){r.degree=r.mass,r.neighbours=0,o.nodes.forEach((function(s){t=0,r===s||r.fixedPosition||!o.options.seriesInteraction&&r.series!==s.series||(n=o.getDistXY(r,s),0>(e=o.vectorLength(n)-(r.marker.radius+s.marker.radius+i))&&(r.degree+=.01,r.neighbours++,t=o.repulsiveForce(-e/Math.sqrt(r.neighbours),o.k,r,s)),o.force("repulsive",r,t*s.mass,n,s,e))}))}))},applyLimitBox:function(t){if(this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit){var e=this.getDistXY(t,t.series.parentNode),n=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(e);0>n&&n>-2*t.marker.radius&&(t.plotX-=.01*e.x,t.plotY-=.01*e.y)}d.prototype.applyLimitBox.apply(this,arguments)},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature||0<this.systemTemperature&&.02>this.systemTemperature/this.nodes.length&&this.enableSimulation}}),e("packedbubble","bubble",{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,dataLabels:{formatter:function(){return this.point.value},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:1,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}},{hasDraggableNodes:!0,forces:["barycenter","repulsive"],pointArrayMap:["value"],pointValKey:"value",isCartesian:!1,axisTypes:[],noSharedTooltip:!0,accumulateAllPoints:function(t){var e,n,o=t.chart,i=[];for(e=0;e<o.series.length;e++)if((t=o.series[e]).visible||!o.options.chart.ignoreHiddenSeries)for(n=0;n<t.yData.length;n++)i.push([null,null,t.yData[n],t.index,n,{id:n,marker:{radius:0}}]);return i},init:function(){return a.prototype.init.apply(this,arguments),c(this,"updatedData",(function(){this.chart.series.forEach((function(t){t.type===this.type&&(t.isDirty=!0)}),this)})),this},render:function(){var t=[];a.prototype.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach((function(e){i(e.dataLabels)&&e.dataLabels.forEach((function(e){t.push(e)}))})),this.chart.hideOverlappingLabels(t))},setVisible:function(){var t=this;a.prototype.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach((function(e){t.layout.removeElementFromCollection(e,t.layout.nodes)})))},drawDataLabels:function(){var t=this.options.dataLabels.textPath,e=this.points;a.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,a.prototype.drawDataLabels.apply(this,arguments),this.points=e,this.options.dataLabels.textPath=t)},seriesBox:function(){var t,e=this.chart,o=Math.max,i=Math.min,s=[e.plotLeft,e.plotLeft+e.plotWidth,e.plotTop,e.plotTop+e.plotHeight];return this.data.forEach((function(e){n(e.plotX)&&n(e.plotY)&&e.marker.radius&&(t=e.marker.radius,s[0]=i(s[0],e.plotX-t),s[1]=o(s[1],e.plotX+t),s[2]=i(s[2],e.plotY-t),s[3]=o(s[3],e.plotY+t))})),r(s.width/s.height)?s:null},calculateParentRadius:function(){var t=this.seriesBox();this.parentNodeRadius=Math.min(Math.max(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20),t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)},drawGraph:function(){if(this.layout&&this.layout.options.splitSeries){var e=this.chart,n=this.layout.options.parentNodeOptions.marker;n={fill:n.fillColor||p(this.color).brighten(.4).get(),opacity:n.fillOpacity,stroke:n.lineColor||this.color,"stroke-width":n.lineWidth};var o=this.visible?"inherit":"hidden";this.parentNodesGroup||(this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",o,.1,e.seriesGroup),this.group.attr({zIndex:2})),this.calculateParentRadius(),o=t.merge({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},n),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(n.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(o)}},createParentNodes:function(){var t,e=this,n=e.chart,o=e.parentNodeLayout,i=e.parentNode;e.parentNodeMass=0,e.points.forEach((function(t){e.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)})),e.calculateParentRadius(),o.nodes.forEach((function(n){n.seriesIndex===e.index&&(t=!0)})),o.setArea(0,0,n.plotWidth,n.plotHeight),t||(i||(i=(new f).init(this,{mass:e.parentNodeRadius/2,marker:{radius:e.parentNodeRadius},dataLabels:{inside:!1},dataLabelOnNull:!0,degree:e.parentNodeRadius,isParentNode:!0,seriesIndex:e.index})),e.parentNode&&(i.plotX=e.parentNode.plotX,i.plotY=e.parentNode.plotY),e.parentNode=i,o.addElementsToCollection([e],o.series),o.addElementsToCollection([i],o.nodes))},addSeriesLayout:function(){var e=this.options.layoutAlgorithm,n=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup,i=t.merge(e,e.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation}),r=n[e.type+"-series"];r||(n[e.type+"-series"]=r=new t.layouts[e.type],r.init(i),o.splice(r.index,0,r)),this.parentNodeLayout=r,this.createParentNodes()},addLayout:function(){var e=this.options.layoutAlgorithm,o=this.chart.graphLayoutsStorage,i=this.chart.graphLayoutsLookup,r=this.chart.options.chart;o||(this.chart.graphLayoutsStorage=o={},this.chart.graphLayoutsLookup=i=[]);var s=o[e.type];s||(e.enableSimulation=n(r.forExport)?!r.forExport:e.enableSimulation,o[e.type]=s=new t.layouts[e.type],s.init(e),i.splice(s.index,0,s)),this.layout=s,this.points.forEach((function(t){t.mass=2,t.degree=1,t.collisionNmb=1})),s.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),s.addElementsToCollection([this],s.series),s.addElementsToCollection(this.points,s.nodes)},deferLayout:function(){var t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())},translate:function(){var t,e=this.chart,i=this.data,r=this.index,s=this.options.useSimulation;if(this.processedXData=this.xData,this.generatePoints(),n(e.allDataPoints)||(e.allDataPoints=this.accumulateAllPoints(this),this.getPointRadius()),s)var a=e.allDataPoints;else a=this.placeBubbles(e.allDataPoints),this.options.draggable=!1;for(t=0;t<a.length;t++)if(a[t][3]===r){var l=i[a[t][4]],c=a[t][2];s||(l.plotX=a[t][0]-e.plotLeft+e.diffX,l.plotY=a[t][1]-e.plotTop+e.diffY),l.marker=o(l.marker,{radius:c,width:2*c,height:2*c}),l.radius=c}s&&this.deferLayout(),u(this,"afterTranslate")},checkOverlap:function(t,e){var n=t[0]-e[0],o=t[1]-e[1];return-.001>Math.sqrt(n*n+o*o)-Math.abs(t[2]+e[2])},positionBubble:function(t,e,n){var o=Math.sqrt,i=Math.asin,r=Math.acos,s=Math.pow,a=Math.abs;return o=o(s(t[0]-e[0],2)+s(t[1]-e[1],2)),r=r((s(o,2)+s(n[2]+e[2],2)-s(n[2]+t[2],2))/(2*(n[2]+e[2])*o)),i=i(a(t[0]-e[0])/o),t=(0>t[1]-e[1]?0:Math.PI)+r+i*(0>(t[0]-e[0])*(t[1]-e[1])?1:-1),[e[0]+(e[2]+n[2])*Math.sin(t),e[1]-(e[2]+n[2])*Math.cos(t),n[2],n[3],n[4]]},placeBubbles:function(t){var e,n=this.checkOverlap,o=this.positionBubble,i=[],r=1,s=0,a=0,l=[];if((t=t.sort((function(t,e){return e[2]-t[2]}))).length){if(i.push([[0,0,t[0][2],t[0][3],t[0][4]]]),1<t.length)for(i.push([[0,0-t[1][2]-t[0][2],t[1][2],t[1][3],t[1][4]]]),e=2;e<t.length;e++)t[e][2]=t[e][2]||1,n(l=o(i[r][s],i[r-1][a],t[e]),i[r][0])?(i.push([]),a=0,i[r+1].push(o(i[r][s],i[r][0],t[e])),r++,s=0):1<r&&i[r-1][a+1]&&n(l,i[r-1][a+1])?(a++,i[r].push(o(i[r][s],i[r-1][a],t[e])),s++):(s++,i[r].push(l));this.chart.stages=i,this.chart.rawPositions=[].concat.apply([],i),this.resizeRadius(),l=this.chart.rawPositions}return l},resizeRadius:function(){var t,e,n,o=this.chart,i=o.rawPositions,r=Math.min,s=Math.max,a=o.plotLeft,l=o.plotTop,c=o.plotHeight,u=o.plotWidth,h=t=Number.POSITIVE_INFINITY,p=e=Number.NEGATIVE_INFINITY;for(n=0;n<i.length;n++){var d=i[n][2];h=r(h,i[n][0]-d),p=s(p,i[n][0]+d),t=r(t,i[n][1]-d),e=s(e,i[n][1]+d)}if(n=[p-h,e-t],r=r.apply([],[(u-a)/n[0],(c-l)/n[1]]),1e-10<Math.abs(r-1)){for(n=0;n<i.length;n++)i[n][2]*=r;this.placeBubbles(i)}else o.diffY=c/2+l-t-(e-t)/2,o.diffX=u/2+a-h-(p-h)/2},calculateZExtremes:function(){var t=this.options.zMin,e=this.options.zMax,o=1/0,i=-1/0;return t&&e?[t,e]:(this.chart.series.forEach((function(t){t.yData.forEach((function(t){n(t)&&(t>i&&(i=t),t<o&&(o=t))}))})),[t=s(t,o),e=s(e,i)])},getPointRadius:function(){var t,e,n,o,i=this,r=i.chart,s=i.options,a=s.useSimulation,l=Math.min(r.plotWidth,r.plotHeight),c={},u=[],h=r.allDataPoints;["minSize","maxSize"].forEach((function(t){var e=parseInt(s[t],10),n=/%$/.test(s[t]);c[t]=n?l*e/100:e*Math.sqrt(h.length)})),r.minRadius=t=c.minSize/Math.sqrt(h.length),r.maxRadius=e=c.maxSize/Math.sqrt(h.length);var p=a?i.calculateZExtremes():[t,e];(h||[]).forEach((function(r,s){n=a?Math.max(Math.min(r[2],p[1]),p[0]):r[2],0===(o=i.getRadius(p[0],p[1],t,e,n))&&(o=null),h[s][2]=o,u.push(o)})),i.radii=u},redrawHalo:m.redrawHalo,onMouseDown:m.onMouseDown,onMouseMove:m.onMouseMove,onMouseUp:function(e){if(e.fixedPosition&&!e.removed){var n,o=this.layout,i=this.parentNodeLayout;i&&o.options.dragBetweenSeries&&i.nodes.forEach((function(i){e&&e.marker&&i!==e.series.parentNode&&(n=o.getDistXY(e,i),0>o.vectorLength(n)-i.marker.radius-e.marker.radius&&(i.series.addPoint(t.merge(e.options,{plotX:e.plotX,plotY:e.plotY}),!1),o.removeElementFromCollection(e,o.nodes),e.remove()))})),m.onMouseUp.apply(this,arguments)}},destroy:function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((function(t){t.removeElementFromCollection(this,t.series)}),this),this.parentNode&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),t.Series.prototype.destroy.apply(this,arguments)},alignDataLabel:t.Series.prototype.alignDataLabel},{destroy:function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),l.prototype.destroy.apply(this,arguments)}}),c(h,"beforeRedraw",(function(){this.allDataPoints&&delete this.allDataPoints}))})),e(t,"parts-more/Polar.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],(function(t,e){var n=e.pick,o=e.splat,i=t.Series,r=t.seriesTypes;e=t.wrap;var s=i.prototype,a=t.Pointer.prototype;s.searchPointByAngle=function(t){var e=this.chart,n=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-n[0]-e.plotLeft,t.chartY-n[1]-e.plotTop)})},s.getConnectors=function(t,e,n,o){var i=o?1:0,r=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0;e=0>r-1?t.length-(1+i):r-1,i=r+1>t.length-1?i:r+1;var s=t[e];i=t[i];var a=s.plotX;s=s.plotY;var l=i.plotX,c=i.plotY;a=(1.5*(i=t[r].plotX)+a)/2.5,s=(1.5*(r=t[r].plotY)+s)/2.5,l=(1.5*i+l)/2.5;var u=(1.5*r+c)/2.5;c=Math.sqrt(Math.pow(a-i,2)+Math.pow(s-r,2));var h=Math.sqrt(Math.pow(l-i,2)+Math.pow(u-r,2));return a=Math.atan2(s-r,a-i),u=Math.PI/2+(a+Math.atan2(u-r,l-i))/2,Math.abs(a-u)>Math.PI/2&&(u-=Math.PI),a=i+Math.cos(u)*c,s=r+Math.sin(u)*c,i={rightContX:l=i+Math.cos(Math.PI+u)*h,rightContY:u=r+Math.sin(Math.PI+u)*h,leftContX:a,leftContY:s,plotX:i,plotY:r},n&&(i.prevPointCont=this.getConnectors(t,e,!1,o)),i},s.toXY=function(t){var e=this.chart,n=t.plotX,o=t.plotY;t.rectPlotX=n,t.rectPlotY=o,o=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=o.x-e.plotLeft,t.plotY=t.polarPlotY=o.y-e.plotTop,this.kdByAngle?(0>(e=(n/Math.PI*180+this.xAxis.pane.options.startAngle)%360)&&(e+=360),t.clientX=e):t.clientX=t.plotX},r.spline&&(e(r.spline.prototype,"getPointSpline",(function(t,e,n,o){return this.chart.polar?o?t=["C",(t=this.getConnectors(e,o,!0,this.connectEnds)).prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]:t=["M",n.plotX,n.plotY]:t=t.call(this,e,n,o),t})),r.areasplinerange&&(r.areasplinerange.prototype.getPointSpline=r.spline.prototype.getPointSpline)),t.addEvent(i,"afterTranslate",(function(){var e,n=this.chart;if(n.polar&&this.xAxis){if((this.kdByAngle=n.tooltip&&n.tooltip.shared)?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy",!this.preventPostTranslate){var o=this.points;for(e=o.length;e--;)this.toXY(o[e]),!n.hasParallelCoordinates&&!this.yAxis.reversed&&o[e].y<this.yAxis.min&&(o[e].isNull=!0)}this.hasClipCircleSetter||(this.hasClipCircleSetter=!!t.addEvent(this,"afterRender",(function(){if(n.polar){var e=this.yAxis.center;this.group.clip(n.renderer.clipCircle(e[0],e[1],e[2]/2)),this.setClip=t.noop}})))}}),{order:2}),e(s,"getGraphPath",(function(t,e){var n,o=this;if(this.chart.polar){for(e=e||this.points,n=0;n<e.length;n++)if(!e[n].isNull){var i=n;break}if(!1!==this.options.connectEnds&&void 0!==i){this.connectEnds=!0,e.splice(e.length,0,e[i]);var r=!0}e.forEach((function(t){void 0===t.polarPlotY&&o.toXY(t)}))}return n=t.apply(this,[].slice.call(arguments,1)),r&&e.pop(),n})),i=function(t,e){var n=this.chart,o=this.options.animation,i=this.group,r=this.markerGroup,s=this.xAxis.center,a=n.plotLeft,l=n.plotTop;n.polar?n.renderer.isSVG&&(!0===o&&(o={}),e?(t={translateX:s[0]+a,translateY:s[1]+l,scaleX:.001,scaleY:.001},i.attr(t),r&&r.attr(t)):(t={translateX:a,translateY:l,scaleX:1,scaleY:1},i.animate(t,o),r&&r.animate(t,o),this.animate=null)):t.call(this,e)},e(s,"animate",i),r.column&&((r=r.column.prototype).polarArc=function(t,e,o,i){var r=this.xAxis.center,s=this.yAxis.len;return this.chart.renderer.symbols.arc(r[0],r[1],s-e,null,{start:o,end:i,innerR:s-n(t,s)})},e(r,"animate",i),e(r,"translate",(function(t){var e,n=this.xAxis,o=n.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),n.isRadial){var i=this.points;for(e=i.length;e--;){var r=i[e];t=r.barX+o,r.shapeType="path",r.shapeArgs={d:this.polarArc(r.yBottom,r.plotY,t,t+r.pointWidth)},this.toXY(r),r.tooltipPos=[r.plotX,r.plotY],r.ttBelow=r.plotY>n.center[1]}}})),e(r,"alignDataLabel",(function(t,e,n,o,i,r){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===o.align&&(o.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===o.verticalAlign&&(o.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),s.alignDataLabel.call(this,e,n,o,i,r)):t.call(this,e,n,o,i,r)}))),e(a,"getCoordinates",(function(t,e){var n=this.chart,o={xAxis:[],yAxis:[]};return n.polar?n.axes.forEach((function(t){var i=t.isXAxis,r=t.center;if("colorAxis"!==t.coll){var s=e.chartX-r[0]-n.plotLeft;r=e.chartY-r[1]-n.plotTop,o[i?"xAxis":"yAxis"].push({axis:t,value:t.translate(i?Math.PI-Math.atan2(s,r):Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),!0)})}})):o=t.call(this,e),o})),t.SVGRenderer.prototype.clipCircle=function(e,n,o){var i=t.uniqueKey(),r=this.createElement("clipPath").attr({id:i}).add(this.defs);return(e=this.circle(e,n,o).add(r)).id=i,e.clipPath=r,e},t.addEvent(t.Chart,"getAxes",(function(){this.pane||(this.pane=[]),o(this.options.pane).forEach((function(e){new t.Pane(e,this)}),this)})),t.addEvent(t.Chart,"afterDrawChartBox",(function(){this.pane.forEach((function(t){t.render()}))})),e(t.Chart.prototype,"get",(function(e,n){return t.find(this.pane,(function(t){return t.options.id===n}))||e.call(this,n)}))})),e(t,"masters/highcharts-more.src.js",[],(function(){}))}))},Nkvg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var o=n("oxeV");function i(t){return function(){this.style.removeProperty(t)}}function r(t,e,n){return function(){this.style.setProperty(t,e,n)}}function s(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function a(t,e){return t.style.getPropertyValue(e)||Object(o.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return arguments.length>1?this.each((null==e?i:"function"==typeof e?s:r)(t,e,null==n?"":n)):a(this.node(),t)}},QjDJ:function(t,e,n){"use strict";function o(){return[]}e.a=function(t){return null==t?o:function(){return this.querySelectorAll(t)}}},R0y8:function(t,e,n){"use strict";n.d(e,"h",(function(){return o})),n.d(e,"i",(function(){return i})),n.d(e,"m",(function(){return r})),n.d(e,"k",(function(){return s})),n.d(e,"n",(function(){return a})),n.d(e,"t",(function(){return l})),n.d(e,"g",(function(){return c})),n.d(e,"o",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"j",(function(){return m})),n.d(e,"l",(function(){return g})),n.d(e,"q",(function(){return v})),n.d(e,"p",(function(){return b})),n.d(e,"r",(function(){return y})),n.d(e,"s",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return C}));var o=1e-6,i=1e-12,r=Math.PI,s=r/2,a=r/4,l=2*r,c=180/r,u=r/180,h=Math.abs,p=Math.atan,d=Math.atan2,f=Math.cos,m=(Math.ceil,Math.exp),g=(Math.floor,Math.log),v=(Math.pow,Math.sin),b=Math.sign||function(t){return t>0?1:t<0?-1:0},y=Math.sqrt,w=Math.tan;function E(t){return t>1?0:t<-1?r:Math.acos(t)}function C(t){return t>1?s:t<-1?-s:Math.asin(t)}},SKAX:function(t,e,n){var o=n("JC6p"),i=n("lQqw")(o);t.exports=i},SMTj:function(t,e,n){"use strict";var o=n("mPOO"),i=1/0,r=i,s=-i,a=s,l={point:function(t,e){t<i&&(i=t);t>s&&(s=t);e<r&&(r=e);e>a&&(a=e)},lineStart:o.a,lineEnd:o.a,polygonStart:o.a,polygonEnd:o.a,result:function(){var t=[[i,r],[s,a]];return s=a=-(r=i=1/0),t}};e.a=l},T8I8:function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},XAaG:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c}));var o=n("tepu"),i=n("SMTj");function r(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Object(o.a)(n,t.stream(i.a)),e(i.a.result()),null!=r&&t.clipExtent(r),t}function s(t,e,n){return r(t,(function(n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=Math.min(o/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+e[0][0]+(o-r*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([s,a])}),n)}function a(t,e,n){return s(t,[[0,0],e],n)}function l(t,e,n){return r(t,(function(n){var o=+e,i=o/(n[1][0]-n[0][0]),r=(o-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];t.scale(150*i).translate([r,s])}),n)}function c(t,e,n){return r(t,(function(n){var o=+e,i=o/(n[1][1]-n[0][1]),r=-i*n[0][0],s=(o-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([r,s])}),n)}},ad02:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("mrSG"),i=n("FFOo"),r=n("Ehmk"),s=n("eihs");function a(t,e){return function(n){return n.lift(new l(t,e))}}var l=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,o){var i=t.call(this,e)||this;return i.keySelector=o,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return o.__extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=Object(r.a)(this.keySelector)(t))===s.a)return this.destination.error(s.a.e);var n=!1;if(this.hasKey){if((n=Object(r.a)(this.compare)(this.key,e))===s.a)return this.destination.error(s.a.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(i.a)},aj5g:function(t,e,n){"use strict";var o=n("R0y8"),i=n("1ibS");function r(t,e){var n=Object(o.q)(t),i=(n+Object(o.q)(e))/2;if(Object(o.a)(i)<o.h)return function(t){var e=Object(o.f)(t);function n(t,n){return[t*e,Object(o.q)(n)/e]}return n.invert=function(t,n){return[t/e,Object(o.c)(n*e)]},n}(t);var r=1+n*(2*i-n),s=Object(o.r)(r)/i;function a(t,e){var n=Object(o.r)(r-2*i*Object(o.q)(e))/i;return[n*Object(o.q)(t*=i),s-n*Object(o.f)(t)]}return a.invert=function(t,e){var n=s-e,a=Object(o.e)(t,Object(o.a)(n))*Object(o.p)(n);return n*i<0&&(a-=o.m*Object(o.p)(t)*Object(o.p)(n)),[a/i,Object(o.c)((r-(t*t+n*n)*i*i)/(2*i))]},a}var s=function(){return(t=r,e=0,n=o.m/3,s=Object(i.b)(t),a=s(e,n),a.parallels=function(t){return arguments.length?s(e=t[0]*o.o,n=t[1]*o.o):[e*o.g,n*o.g]},a).scale(155.424).center([0,33.6442]);var t,e,n,s,a},a=n("XAaG");e.a=function(){var t,e,n,i,r,l,c=s().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),u=s().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=s().rotate([157,0]).center([-3,19.9]).parallels([8,18]),p={point:function(t,e){l=[t,e]}};function d(t){var e=t[0],o=t[1];return l=null,n.point(e,o),l||(i.point(e,o),l)||(r.point(e,o),l)}function f(){return t=e=null,d}return d.invert=function(t){var e=c.scale(),n=c.translate(),o=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&o>=-.425&&o<-.214?u:i>=.166&&i<.234&&o>=-.214&&o<-.115?h:c).invert(t)},d.stream=function(n){return t&&e===n?t:(o=[c.stream(e=n),u.stream(n),h.stream(n)],i=o.length,t={point:function(t,e){for(var n=-1;++n<i;)o[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)o[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)o[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)o[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)o[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)o[t].polygonEnd()}});var o,i},d.precision=function(t){return arguments.length?(c.precision(t),u.precision(t),h.precision(t),f()):c.precision()},d.scale=function(t){return arguments.length?(c.scale(t),u.scale(.35*t),h.scale(t),d.translate(c.translate())):c.scale()},d.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),s=+t[0],a=+t[1];return n=c.translate(t).clipExtent([[s-.455*e,a-.238*e],[s+.455*e,a+.238*e]]).stream(p),i=u.translate([s-.307*e,a+.201*e]).clipExtent([[s-.425*e+o.h,a+.12*e+o.h],[s-.214*e-o.h,a+.234*e-o.h]]).stream(p),r=h.translate([s-.205*e,a+.212*e]).clipExtent([[s-.214*e+o.h,a+.166*e+o.h],[s-.115*e-o.h,a+.234*e-o.h]]).stream(p),f()},d.fitExtent=function(t,e){return Object(a.a)(d,t,e)},d.fitSize=function(t,e){return Object(a.c)(d,t,e)},d.fitWidth=function(t,e){return Object(a.d)(d,t,e)},d.fitHeight=function(t,e){return Object(a.b)(d,t,e)},d.scale(1070)}},alwl:function(t,e,n){var o=n("eUgh"),i=n("ZWtO"),r=n("ut/Y"),s=n("l9OW"),a=n("1LK5"),l=n("sEf8"),c=n("IWTy"),u=n("zZ0H"),h=n("Z0cm");t.exports=function(t,e,n){e=e.length?o(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var p=-1;e=o(e,l(r));var d=s(t,(function(t,n,i){return{criteria:o(e,(function(e){return e(t)})),index:++p,value:t}}));return a(d,(function(t,e){return c(t,e,n)}))}},"b/sn":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("byeC"),i=n("CsC6"),r=Object.create(null),s=function(t,e,n){this.ranges=n||[new l(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},a={anchor:{},head:{},from:{},to:{},$from:{},$to:{},empty:{}};a.anchor.get=function(){return this.$anchor.pos},a.head.get=function(){return this.$head.pos},a.from.get=function(){return this.$from.pos},a.to.get=function(){return this.$to.pos},a.$from.get=function(){return this.ranges[0].$from},a.$to.get=function(){return this.ranges[0].$to},a.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(t,e){void 0===e&&(e=o.Slice.empty);for(var n=e.content.lastChild,i=null,r=0;r<e.openEnd;r++)i=n,n=n.lastChild;for(var s=t.steps.length,a=this.ranges,l=0;l<a.length;l++){var c=a[l],u=c.$from,h=c.$to,p=t.mapping.slice(s);t.replaceRange(p.map(u.pos),p.map(h.pos),l?o.Slice.empty:e),0==l&&g(t,s,(n?n.isInline:i&&i.isTextblock)?-1:1)}},s.prototype.replaceWith=function(t,e){for(var n=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var r=o[i],s=r.$from,a=r.$to,l=t.mapping.slice(n),c=l.map(s.pos),u=l.map(a.pos);i?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),g(t,n,e.isInline?-1:1))}},s.findFrom=function(t,e,n){var o=t.parent.inlineContent?new c(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(o)return o;for(var i=t.depth-1;i>=0;i--){var r=e<0?m(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):m(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(r)return r}},s.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new d(t.node(0))},s.atStart=function(t){return m(t,t,0,0,1)||new d(t)},s.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new d(t)},s.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=r[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},s.jsonID=function(t,e){if(t in r)throw new RangeError("Duplicate use of selection JSON ID "+t);return r[t]=e,e.prototype.jsonID=t,e},s.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,a),s.prototype.visible=!0;var l=function(t,e){this.$from=t,this.$to=e},c=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,o){var i=n.resolve(o.map(this.head));if(!i.parent.inlineContent)return t.near(i);var r=n.resolve(o.map(this.anchor));return new e(r.parent.inlineContent?r:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=o.Slice.empty),t.prototype.replace.call(this,e,n),n==o.Slice.empty){var i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new u(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var o=t.resolve(e);return new this(o,n==e?o:t.resolve(n))},e.between=function(n,o,i){var r=n.pos-o.pos;if(i&&!r||(i=r>=0?1:-1),!o.parent.inlineContent){var s=t.findFrom(o,i,!0)||t.findFrom(o,-i,!0);if(!s)return t.near(o,i);o=s.$head}return n.parent.inlineContent||(0==r||(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor).pos<o.pos!=r<0)&&(n=o),new e(n,o)},Object.defineProperties(e.prototype,n),e}(s);s.jsonID("text",c);var u=function(t,e){this.anchor=t,this.head=e};u.prototype.map=function(t){return new u(t.map(this.anchor),t.map(this.head))},u.prototype.resolve=function(t){return c.between(t.resolve(this.anchor),t.resolve(this.head))};var h=function(t){function e(e){var n=e.nodeAfter,o=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,o),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,o){var i=o.mapResult(this.anchor),r=i.deleted,s=i.pos,a=n.resolve(s);return r?t.near(a):new e(a)},e.prototype.content=function(){return new o.Slice(o.Fragment.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new p(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(s);h.prototype.visible=!1,s.jsonID("node",h);var p=function(t){this.anchor=t};p.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,o=e.pos;return n?new u(o,o):new p(o)},p.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&h.isSelectable(n)?new h(e):s.near(e)};var d=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return f},e}(s);s.jsonID("all",d);var f={map:function(){return this},resolve:function(t){return new d(t)}};function m(t,e,n,o,i,r){if(e.inlineContent)return c.create(t,n);for(var s=o-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){var a=e.child(s);if(a.isAtom){if(!r&&h.isSelectable(a))return h.create(t,n-(i<0?a.nodeSize:0))}else{var l=m(t,a,n+i,i<0?a.childCount:0,i,r);if(l)return l}n+=a.nodeSize*i}}function g(t,e,n){var o=t.steps.length-1;if(!(o<e)){var r,a=t.steps[o];if(a instanceof i.ReplaceStep||a instanceof i.ReplaceAroundStep)t.mapping.maps[o].forEach((function(t,e,n,o){null==r&&(r=o)})),t.setSelection(s.near(t.doc.resolve(r),n))}}var v=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{},selectionSet:{},storedMarksSet:{},isGeneric:{},scrolledIntoView:{}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return o.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||o.Mark.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var o=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var r=this.doc.resolve(e);i=n==e?r.marks():r.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,o.text(t,i))},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(i.Transform);function b(t,e){return e&&t?t.bind(e):t}var y=function(t,e,n){this.name=t,this.init=b(e.init,n),this.apply=b(e.apply,n)},w=[new y("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new y("selection",{init:function(t,e){return t.selection||s.atStart(e.doc)},apply:function(t){return t.selection}}),new y("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,o){return o.selection.$cursor?t.storedMarks:null}}),new y("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],E=function(t,e){var n=this;this.schema=t,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new y(t.key,t.spec.state,t))}))},C=function(t){this.config=t},x={schema:{},plugins:{},tr:{}};x.schema.get=function(){return this.config.schema},x.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(t){return this.applyTransaction(t).state},C.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0},C.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),o=null;;){for(var i=!1,r=0;r<this.config.plugins.length;r++){var s=this.config.plugins[r];if(s.spec.appendTransaction){var a=o?o[r].n:0,l=o?o[r].state:this,c=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,l,n);if(c&&n.filterTransaction(c,r)){if(c.setMeta("appendedTransaction",t),!o){o=[];for(var u=0;u<this.config.plugins.length;u++)o.push(u<r?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}o&&(o[r]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},C.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new C(this.config),n=this.config.fields,o=0;o<n.length;o++){var i=n[o];e[i.name]=i.apply(t,this[i.name],this,e)}for(var r=0;r<M.length;r++)M[r](this,t,e);return e},x.tr.get=function(){return new v(this)},C.create=function(t){for(var e=new E(t.schema||t.doc.type.schema,t.plugins),n=new C(e),o=0;o<e.fields.length;o++)n[e.fields[o].name]=e.fields[o].init(t,n);return n},C.prototype.reconfigure=function(t){for(var e=new E(t.schema||this.schema,t.plugins),n=e.fields,o=new C(e),i=0;i<n.length;i++){var r=n[i].name;o[r]=this.hasOwnProperty(r)?this[r]:n[i].init(t,o)}return o},C.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=t[n],i=o.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(o,this[o.key]))}return e},C.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new E(t.schema,t.plugins),r=new C(i);return i.fields.forEach((function(i){if("doc"==i.name)r.doc=o.Node.fromJSON(t.schema,e.doc);else if("selection"==i.name)r.selection=s.fromJSON(r.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(r.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var a in n){var l=n[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,a))return void(r[i.name]=c.fromJSON.call(l,t,e[a],r))}r[i.name]=i.init(t,r)}})),r},C.addApplyListener=function(t){M.push(t)},C.removeApplyListener=function(t){var e=M.indexOf(t);e>-1&&M.splice(e,1)},Object.defineProperties(C.prototype,x);var M=[];var _=function(t){this.props={},t.props&&function t(e,n,o){for(var i in e){var r=e[i];r instanceof Function?r=r.bind(n):"handleDOMEvents"==i&&(r=t(r,n,{})),o[i]=r}return o}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:k("plugin")};_.prototype.getState=function(t){return t[this.key]};var S=Object.create(null);function k(t){return t in S?t+"$"+ ++S[t]:(S[t]=0,t+"$")}var R=function(t){void 0===t&&(t="key"),this.key=k(t)};R.prototype.get=function(t){return t.config.pluginsByKey[this.key]},R.prototype.getState=function(t){return t[this.key]},e.Selection=s,e.SelectionRange=l,e.TextSelection=c,e.NodeSelection=h,e.AllSelection=d,e.Transaction=v,e.EditorState=C,e.Plugin=_,e.PluginKey=R},b9Oj:function(t,e,n){"use strict";function o(){}e.a=function(t){return null==t?o:function(){return this.querySelector(t)}}},bNSl:function(t,e,n){"use strict";var o=n("4xGt");e.a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),o.a.hasOwnProperty(e)?{space:o.a[e],local:t}:t}},bwSX:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return r}));function o(){}function i(t,e){var n=new o;if(t instanceof o)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,s=t.length;if(null==e)for(;++r<s;)n.set(r,t[r]);else for(;++r<s;)n.set(e(i=t[r],r,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}o.prototype=i.prototype={constructor:o,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var r=i;function s(){}var a=r.prototype;function l(t,e){var n=new s;if(t instanceof s)t.each((function(t){n.add(t)}));else if(t){var o=-1,i=t.length;if(null==e)for(;++o<i;)n.add(t[o]);else for(;++o<i;)n.add(e(t[o],o,t))}return n}s.prototype=l.prototype={constructor:s,has:a.has,add:function(t){return this["$"+(t+="")]=t,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each};var c=l},byeC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=(o=n("iEzb"))&&"object"==typeof o&&"default"in o?o.default:o;var r=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},s={firstChild:{},lastChild:{},childCount:{}};r.prototype.nodesBetween=function(t,e,n,o,i){void 0===o&&(o=0);for(var r=0,s=0;s<e;r++){var a=this.content[r],l=s+a.nodeSize;if(l>t&&!1!==n(a,o+s,i,r)&&a.content.size){var c=s+1;a.nodesBetween(Math.max(0,t-c),Math.min(a.content.size,e-c),n,o+c)}s=l}},r.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},r.prototype.textBetween=function(t,e,n,o){var i="",r=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(i+=s.text.slice(Math.max(t,a)-a,e-a),r=!n):s.isLeaf&&o?(i+=o,r=!n):!r&&s.isBlock&&(i+=n,r=!0)}),0),i},r.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,o=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(o[o.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new r(o,this.size+t.size)},r.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],o=0;if(e>t)for(var i=0,s=0;s<e;i++){var a=this.content[i],l=s+a.nodeSize;l>t&&((s<t||l>e)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),o+=a.nodeSize),s=l}return new r(n,o)},r.prototype.cutByIndex=function(t,e){return t==e?r.empty:0==t&&e==this.content.length?this:new r(this.content.slice(t,e))},r.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var o=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return o[t]=e,new r(o,i)},r.prototype.addToStart=function(t){return new r([t].concat(this.content),this.size+t.nodeSize)},r.prototype.addToEnd=function(t){return new r(this.content.concat(t),this.size+t.nodeSize)},r.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},s.firstChild.get=function(){return this.content.length?this.content[0]:null},s.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},s.childCount.get=function(){return this.content.length},r.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},r.prototype.maybeChild=function(t){return this.content[t]},r.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var o=this.content[e];t(o,n,e),n+=o.nodeSize}},r.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,o){for(var i=0;;i++){if(i==e.childCount||i==n.childCount)return e.childCount==n.childCount?null:o;var r=e.child(i),s=n.child(i);if(r!=s){if(!r.sameMarkup(s))return o;if(r.isText&&r.text!=s.text){for(var a=0;r.text[a]==s.text[a];a++)o++;return o}if(r.content.size||s.content.size){var l=t(r.content,s.content,o+1);if(null!=l)return l}o+=r.nodeSize}else o+=r.nodeSize}}(this,t,e)},r.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,o,i){for(var r=e.childCount,s=n.childCount;;){if(0==r||0==s)return r==s?null:{a:o,b:i};var a=e.child(--r),l=n.child(--s),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:o,b:i};if(a.isText&&a.text!=l.text){for(var u=0,h=Math.min(a.text.length,l.text.length);u<h&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,o--,i--;return{a:o,b:i}}if(a.content.size||l.content.size){var p=t(a.content,l.content,o-1,i-1);if(p)return p}o-=c,i-=c}else o-=c,i-=c}}(this,t,e,n)},r.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return l(0,t);if(t==this.size)return l(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,o=0;;n++){var i=o+this.child(n).nodeSize;if(i>=t)return i==t||e>0?l(n+1,i):l(n,o);o=i}},r.prototype.toString=function(){return"<"+this.toStringInner()+">"},r.prototype.toStringInner=function(){return this.content.join(", ")},r.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},r.fromJSON=function(t,e){if(!e)return r.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new r(e.map(t.nodeFromJSON))},r.fromArray=function(t){if(!t.length)return r.empty;for(var e,n=0,o=0;o<t.length;o++){var i=t[o];n+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(e||(e=t.slice(0,o)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new r(e||t,n)},r.from=function(t){return t?t instanceof r?t:Array.isArray(t)?this.fromArray(t):new r([t],t.nodeSize):r.empty},Object.defineProperties(r.prototype,s);var a={index:0,offset:0};function l(t,e){return a.index=t,a.offset=e,a}function c(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(!c(t[o],e[o]))return!1}else{for(var i in t)if(!(i in e)||!c(t[i],e[i]))return!1;for(var r in e)if(!(r in t))return!1}return!0}r.empty=new r([],0);var u=function(t,e){this.type=t,this.attrs=e};function h(t){var e=Error.call(this,t);return e.__proto__=h.prototype,e}u.prototype.addToSet=function(t){for(var e,n=!1,o=0;o<t.length;o++){var i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,o)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},u.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},u.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},u.prototype.eq=function(t){return this==t||this.type==t.type&&c(this.attrs,t.attrs)},u.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},u.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},u.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},u.setFrom=function(t){if(!t||0==t.length)return u.none;if(t instanceof u)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},u.none=[],h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="ReplaceError";var p=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},d={size:{}};function f(t,e,n){if(n.openStart>t.depth)throw new h("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new h("Inconsistent open depths");return function t(e,n,o,i){var s=e.index(i),a=e.node(i);if(s==n.index(i)&&i<e.depth-o.openStart){var l=t(e,n,o,i+1);return a.copy(a.content.replaceChild(s,l))}if(o.content.size){if(o.openStart||o.openEnd||e.depth!=i||n.depth!=i){var c=function(t,e){for(var n=e.depth-t.openStart,o=e.node(n).copy(t.content),i=n-1;i>=0;i--)o=e.node(i).copy(r.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}(o,e),u=c.start,h=c.end;return y(a,function t(e,n,o,i,s){var a=e.depth>s&&g(e,n,s+1),l=i.depth>s&&g(o,i,s+1),c=[];b(null,e,s,c),a&&l&&n.index(s)==o.index(s)?(m(a,l),v(y(a,t(e,n,o,i,s+1)),c)):(a&&v(y(a,w(e,n,s+1)),c),b(n,o,s,c),l&&v(y(l,w(o,i,s+1)),c));return b(i,null,s,c),new r(c)}(e,u,h,n,i))}var p=e.parent,d=p.content;return y(p,d.cut(0,e.parentOffset).append(o.content).append(d.cut(n.parentOffset)))}return y(a,w(e,n,i))}(t,e,n,0)}function m(t,e){if(!e.type.compatibleContent(t.type))throw new h("Cannot join "+e.type.name+" onto "+t.type.name)}function g(t,e,n){var o=t.node(n);return m(o,e.node(n)),o}function v(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function b(t,e,n,o){var i=(e||t).node(n),r=0,s=e?e.index(n):i.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(v(t.nodeAfter,o),r++));for(var a=r;a<s;a++)v(i.child(a),o);e&&e.depth==n&&e.textOffset&&v(e.nodeBefore,o)}function y(t,e){if(!t.type.validContent(e))throw new h("Invalid content for node "+t.type.name);return t.copy(e)}function w(t,e,n){var o=[];(b(null,t,n,o),t.depth>n)&&v(y(g(t,e,n+1),w(t,e,n+1)),o);return b(e,null,n,o),new r(o)}d.size.get=function(){return this.content.size-this.openStart-this.openEnd},p.prototype.insertAt=function(t,e){var n=function t(e,n,o,i){var r=e.findIndex(n),s=r.index,a=r.offset,l=e.maybeChild(s);if(a==n||l.isText)return i&&!i.canReplace(s,s,o)?null:e.cut(0,n).append(o).append(e.cut(n));var c=t(l.content,n-a-1,o);return c&&e.replaceChild(s,l.copy(c))}(this.content,t+this.openStart,e,null);return n&&new p(n,this.openStart,this.openEnd)},p.prototype.removeBetween=function(t,e){return new p(function t(e,n,o){var i=e.findIndex(n),r=i.index,s=i.offset,a=e.maybeChild(r),l=e.findIndex(o),c=l.index,u=l.offset;if(s==n||a.isText){if(u!=o&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(o))}if(r!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(t(a.content,n-s-1,o-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},p.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},p.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},p.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},p.fromJSON=function(t,e){if(!e)return p.empty;var n=e.openStart||0,o=e.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new p(r.fromJSON(t,e.content),e.openStart||0,e.openEnd||0)},p.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,o=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var r=t.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)o++;return new p(t,n,o)},Object.defineProperties(p.prototype,d),p.empty=new p(r.empty,0,0);var E=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},C={parent:{},doc:{},textOffset:{},nodeAfter:{},nodeBefore:{}};E.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},C.parent.get=function(){return this.node(this.depth)},C.doc.get=function(){return this.node(0)},E.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},E.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},E.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},E.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},E.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},E.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},E.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},C.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},C.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],o=t.child(e);return n?t.child(e).cut(n):o},C.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},E.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return u.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),o=t.maybeChild(e);if(!n){var i=n;n=o,o=i}for(var r=n.marks,s=0;s<r.length;s++)!1!==r[s].type.spec.inclusive||o&&r[s].isInSet(o.marks)||(r=r[s--].removeFromSet(r));return r},E.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,o=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||o&&n[i].isInSet(o.marks)||(n=n[i--].removeFromSet(n));return n},E.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},E.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new S(this,t,n)},E.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},E.prototype.max=function(t){return t.pos>this.pos?t:this},E.prototype.min=function(t){return t.pos<this.pos?t:this},E.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},E.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],o=0,i=e,r=t;;){var s=r.content.findIndex(i),a=s.index,l=s.offset,c=i-l;if(n.push(r,a,o+l),!c)break;if((r=r.child(a)).isText)break;i=c-1,o+=l+1}return new E(e,n,i)},E.resolveCached=function(t,e){for(var n=0;n<x.length;n++){var o=x[n];if(o.pos==e&&o.doc==t)return o}var i=x[M]=E.resolve(t,e);return M=(M+1)%_,i},Object.defineProperties(E.prototype,C);var x=[],M=0,_=12,S=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},k={start:{},end:{},parent:{},startIndex:{},endIndex:{}};k.start.get=function(){return this.$from.before(this.depth+1)},k.end.get=function(){return this.$to.after(this.depth+1)},k.parent.get=function(){return this.$from.node(this.depth)},k.startIndex.get=function(){return this.$from.index(this.depth)},k.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(S.prototype,k);var R=Object.create(null),T=function(t,e,n,o){this.type=t,this.attrs=e,this.content=n||r.empty,this.marks=o||u.none},D={nodeSize:{},childCount:{},textContent:{},firstChild:{},lastChild:{},isBlock:{},isTextblock:{},inlineContent:{},isInline:{},isText:{},isLeaf:{},isAtom:{}};D.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},D.childCount.get=function(){return this.content.childCount},T.prototype.child=function(t){return this.content.child(t)},T.prototype.maybeChild=function(t){return this.content.maybeChild(t)},T.prototype.forEach=function(t){this.content.forEach(t)},T.prototype.nodesBetween=function(t,e,n,o){void 0===o&&(o=0),this.content.nodesBetween(t,e,n,o,this)},T.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},D.textContent.get=function(){return this.textBetween(0,this.content.size,"")},T.prototype.textBetween=function(t,e,n,o){return this.content.textBetween(t,e,n,o)},D.firstChild.get=function(){return this.content.firstChild},D.lastChild.get=function(){return this.content.lastChild},T.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},T.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},T.prototype.hasMarkup=function(t,e,n){return this.type==t&&c(this.attrs,e||t.defaultAttrs||R)&&u.sameSet(this.marks,n||u.none)},T.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},T.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},T.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},T.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return p.empty;var o=this.resolve(t),i=this.resolve(e),r=n?0:o.sharedDepth(e),s=o.start(r),a=o.node(r).content.cut(o.pos-s,i.pos-s);return new p(a,o.depth-r,i.depth-r)},T.prototype.replace=function(t,e,n){return f(this.resolve(t),this.resolve(e),n)},T.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),o=n.index,i=n.offset;if(!(e=e.maybeChild(o)))return null;if(i==t||e.isText)return e;t-=i+1}},T.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,o=e.offset;return{node:this.content.maybeChild(n),index:n,offset:o}},T.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,o=e.offset;if(o<t)return{node:this.content.child(n),index:n,offset:o};var i=this.content.child(n-1);return{node:i,index:n-1,offset:o-i.nodeSize}},T.prototype.resolve=function(t){return E.resolveCached(this,t)},T.prototype.resolveNoCache=function(t){return E.resolve(this,t)},T.prototype.rangeHasMark=function(t,e,n){var o=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(o=!0),!o})),o},D.isBlock.get=function(){return this.type.isBlock},D.isTextblock.get=function(){return this.type.isTextblock},D.inlineContent.get=function(){return this.type.inlineContent},D.isInline.get=function(){return this.type.isInline},D.isText.get=function(){return this.type.isText},D.isLeaf.get=function(){return this.type.isLeaf},D.isAtom.get=function(){return this.type.isAtom},T.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),O(this.marks,t)},T.prototype.contentMatchAt=function(t){return this.type.contentMatch.matchFragment(this.content,0,t)},T.prototype.canReplace=function(t,e,n,o,i){void 0===n&&(n=r.empty),void 0===o&&(o=0),void 0===i&&(i=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,o,i),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var l=o;l<i;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0},T.prototype.canReplaceWith=function(t,e,n,o){if(o&&!this.type.allowsMarks(o))return!1;var i=this.contentMatchAt(t).matchType(n),r=i&&i.matchFragment(this.content,e);return!!r&&r.validEnd},T.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},T.prototype.defaultContentType=function(t){return this.contentMatchAt(t).defaultType},T.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(t){return t.check()}))},T.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},T.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var o=r.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,o,n)},Object.defineProperties(T.prototype,D);var L=function(t){function e(e,n,o,i){if(t.call(this,e,n,null,i),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{},nodeSize:{}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):O(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(T);function O(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var A=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},P={inlineContent:{},defaultType:{},edgeCount:{}};A.parse=function(t,e){var n=new z(t,e);if(null==n.next)return A.empty;var o=F(n);n.next&&n.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return function n(o){var i=[];o.forEach((function(e){t[e].forEach((function(e){var n=e.term,o=e.to;if(n){var r=i.indexOf(n),s=r>-1&&i[r+1];W(t,o).forEach((function(t){s||i.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var r=e[o.join(",")]=new A(o.indexOf(t.length-1)>-1),s=0;s<i.length;s+=2){var a=i[s+1].sort(V);r.next.push(i[s],e[a.join(",")]||n(a))}return r}(W(t,0))}(function(t){var e=[[]];return i(function t(e,r){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,r))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],r);if(s==e.exprs.length-1)return a;i(a,r=n())}else{if("star"==e.type){var l=n();return o(r,l),i(t(e.expr,l),l),[o(l)]}if("plus"==e.type){var c=n();return i(t(e.expr,r),c),i(t(e.expr,c),c),[o(c)]}if("opt"==e.type)return[o(r)].concat(t(e.expr,r));if("range"==e.type){for(var u=r,h=0;h<e.min;h++){var p=n();i(t(e.expr,u),p),u=p}if(-1==e.max)i(t(e.expr,u),u);else for(var d=e.min;d<e.max;d++){var f=n();o(u,f),i(t(e.expr,u),f),u=f}return[o(u)]}if("name"==e.type)return[o(r,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function o(t,n,o){var i={term:o,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}}(o));return function(t,e){for(var n=0,o=[t];n<o.length;n++){for(var i=o[n],r=!i.validEnd,s=[],a=0;a<i.next.length;a+=2){var l=i.next[a],c=i.next[a+1];s.push(l.name),!r||l.isText||l.hasRequiredAttrs()||(r=!1),-1==o.indexOf(c)&&o.push(c)}r&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position")}}(i,n),i},A.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},A.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var o=this,i=e;o&&i<n;i++)o=o.matchType(t.child(i).type);return o},P.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},P.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},A.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},A.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var o=[this];return function i(s,a){var l=s.matchFragment(t,n);if(l&&(!e||l.validEnd))return r.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<s.next.length;c+=2){var u=s.next[c],h=s.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==o.indexOf(h)){o.push(h);var p=i(h,a.concat(u));if(p)return p}}}(this,[])},A.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},A.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var o=n.shift(),i=o.match;if(i.matchType(t)){for(var r=[],s=o;s.type;s=s.via)r.push(s.type);return r.reverse()}for(var a=0;a<i.next.length;a+=2){var l=i.next[a];l.isLeaf||l.name in e||o.type&&!i.next[a+1].validEnd||(n.push({match:l.contentMatch,type:l,via:o}),e[l.name]=!0)}}},P.edgeCount.get=function(){return this.next.length>>1},A.prototype.edge=function(t){var e=t<<1;if(e>this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},A.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var o=1;o<n.next.length;o+=2)-1==t.indexOf(n.next[o])&&e(n.next[o])}(this),t.map((function(e,n){for(var o=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)o+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return o})).join("\n")},Object.defineProperties(A.prototype,P),A.empty=new A(!0);var z=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},N={next:{}};function F(t){var e=[];do{e.push(j(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function j(t){var e=[];do{e.push(H(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function H(t){for(var e=function(t){if(t.eat("(")){var e=F(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,o=n[e];if(o)return[o];var i=[];for(var r in n){var s=n[r];s.groups.indexOf(e)>-1&&i.push(s)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=B(t,e)}return e}function I(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function B(t,e){var n=I(t),o=n;return t.eat(",")&&(o="}"!=t.next?I(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:e}}function V(t,e){return t-e}function W(t,e){var n=[];return function e(o){var i=t[o];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(o);for(var r=0;r<i.length;r++){var s=i[r],a=s.term,l=s.to;a||-1!=n.indexOf(l)||e(l)}}(e),n.sort(V)}function G(t){var e=Object.create(null);for(var n in t){var o=t[n];if(!o.hasDefault)return null;e[n]=o.default}return e}function Y(t,e){var n=Object.create(null);for(var o in t){var i=e&&e[o];if(void 0===i){var r=t[o];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+o);i=r.default}n[o]=i}return n}function $(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new U(t[n]);return e}N.next.get=function(){return this.tokens[this.pos]},z.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},z.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(z.prototype,N);var X=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=$(n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},q={isInline:{},isTextblock:{},isLeaf:{},isAtom:{}};q.isInline.get=function(){return!this.isBlock},q.isTextblock.get=function(){return this.isBlock&&this.inlineContent},q.isLeaf.get=function(){return this.contentMatch==A.empty},q.isAtom.get=function(){return this.isLeaf||this.spec.atom},X.prototype.hasRequiredAttrs=function(t){for(var e in this.attrs)if(this.attrs[e].isRequired&&(!t||!(e in t)))return!0;return!1},X.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},X.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:Y(this.attrs,t)},X.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new T(this,this.computeAttrs(t),r.from(e),u.setFrom(n))},X.prototype.createChecked=function(t,e,n){if(e=r.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new T(this,this.computeAttrs(t),e,u.setFrom(n))},X.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=r.from(e)).size){var o=this.contentMatch.fillBefore(e);if(!o)return null;e=o.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(r.empty,!0);return i?new T(this,t,e.append(i),u.setFrom(n)):null},X.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},X.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},X.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},X.prototype.allowedMarks=function(t){var e;if(null==this.markSet)return t;for(var n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:u.empty:t},X.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,o){return n[t]=new X(t,e,o)}));var o=e.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(X.prototype,q);var U=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},J={isRequired:{}};J.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(U.prototype,J);var K=function(t,e,n,o){this.name=t,this.schema=n,this.spec=o,this.attrs=$(o.attrs),this.rank=e,this.excluded=null;var i=G(this.attrs);this.instance=i&&new u(this,i)};K.prototype.create=function(t){return!t&&this.instance?this.instance:new u(this,Y(this.attrs,t))},K.compile=function(t,e){var n=Object.create(null),o=0;return t.forEach((function(t,i){return n[t]=new K(t,o++,e,i)})),n},K.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t.slice(0,e).concat(t.slice(e+1));return t},K.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},K.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Z=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=i.from(t.nodes),this.spec.marks=i.from(t.marks),this.nodes=X.compile(this.spec.nodes,this),this.marks=K.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var r=this.nodes[o],s=r.spec.content||"",a=r.spec.marks;r.contentMatch=n[s]||(n[s]=A.parse(s,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==a?null:a?Q(this,a.split(" ")):""!=a&&r.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:Q(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(t,e){for(var n=[],o=0;o<e.length;o++){var i=e[o],r=t.marks[i],s=r;if(r)n.push(r);else for(var a in t.marks){var l=t.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[o]+"'")}return n}Z.prototype.node=function(t,e,n,o){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof X))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,o)},Z.prototype.text=function(t,e){var n=this.nodes.text;return new L(n,n.defaultAttrs,t,u.setFrom(e))},Z.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},Z.prototype.nodeFromJSON=function(t){return T.fromJSON(this,t)},Z.prototype.markFromJSON=function(t){return u.fromJSON(this,t)},Z.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var tt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)}))};tt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new st(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},tt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new st(this,e,!0);return n.addAll(t,null,e.from,e.to),p.maxOpen(n.finish())},tt.prototype.matchTag=function(t,e){for(var n=0;n<this.tags.length;n++){var o=this.tags[n];if(lt(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},tt.prototype.matchStyle=function(t,e,n){for(var o=0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var r=i.getAttrs(e);if(!1===r)continue;i.attrs=r}return i}}},tt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,o=0;o<e.length;o++){var i=e[o];if((null==i.priority?50:i.priority)<n)break}e.splice(o,0,t)}var o=function(e){var o=t.marks[e].spec.parseDOM;o&&o.forEach((function(t){n(t=ct(t)),t.mark=e}))};for(var i in t.marks)o(i);var r;for(var s in t.nodes)r=void 0,(r=t.nodes[s].spec.parseDOM)&&r.forEach((function(t){n(t=ct(t)),t.node=s}));return e},tt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new tt(t,tt.schemaRules(t)))};var et={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ot={ol:!0,ul:!0};function it(t){return(t?1:0)|("full"===t?2:0)}var rt=function(t,e,n,o,i,r){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&r?null:t.contentMatch),this.options=r,this.content=[],this.marks=n,this.activeMarks=u.none};rt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(r.from(t));if(!e){var n,o=this.type.contentMatch;return(n=o.findWrapping(t.type))?(this.match=o,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},rt.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/\s+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var o=r.from(this.content);return!t&&this.match&&(o=o.append(this.match.fillBefore(r.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o};var st=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.pendingMarks=[];var o,i=e.topNode,r=it(e.preserveWhitespace)|(n?4:0);o=i?new rt(i.type,i.attrs,u.none,!0,e.topMatch||i.type.contentMatch,r):new rt(n?null:t.schema.topNodeType,null,u.none,!0,null,r),this.nodes=[o],this.open=0,this.find=e.findPositions,this.needsBlock=!1},at={top:{},currentPos:{}};function lt(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ct(t){var e={};for(var n in t)e[n]=t[n];return e}at.top.get=function(){return this.nodes[this.open]},st.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[];for(;e=n.exec(t);)o.push(e[1],e[2].trim());return o}(e)):null;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i])}},st.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/\S/.test(e)){if(1&n.options)2&n.options||(e=e.replace(/\r?\n|\r/g," "));else if(e=e.replace(/\s+/g," "),/^\s/.test(e)&&this.open==this.nodes.length-1){var o=n.content[n.content.length-1];(!o||o.isText&&/\s$/.test(o.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},st.prototype.addElement=function(t){var e=t.nodeName.toLowerCase();ot.hasOwnProperty(e)&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var o=1==e.nodeType?e.nodeName.toLowerCase():null;o&&ot.hasOwnProperty(o)&&n?(n.appendChild(e),e=n):"li"==o?n=e:o&&(n=null)}}(t);var n=this.options.ruleFromNode&&this.options.ruleFromNode(t)||this.parser.matchTag(t,this);if(n?n.ignore:nt.hasOwnProperty(e))this.findInside(t);else if(!n||n.skip){n&&n.skip.nodeType&&(t=n.skip);var o,i=this.top,r=this.needsBlock;et.hasOwnProperty(e)&&(o=!0,i.type||(this.needsBlock=!0)),this.addAll(t),o&&this.sync(i),this.needsBlock=r}else this.addElementByRule(t,n)},st.prototype.readStyles=function(t){for(var e=u.none,n=0;n<t.length;n+=2){var o=this.parser.matchStyle(t[n],t[n+1],this);if(o){if(o.ignore)return null;e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e)}}return e},st.prototype.addElementByRule=function(t,e){var n,o,i,r=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs)):n=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var s=this.top;if(o&&o.isLeaf)this.findInside(t);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return r.insertNode(t)}));else{var a=e.contentElement;"string"==typeof a?a=t.querySelector(a):"function"==typeof a&&(a=a(t)),a||(a=t),this.findAround(t,a,!0),this.addAll(a,n)}return n&&(this.sync(s),this.open--),i&&this.removePendingMark(i),!0},st.prototype.addAll=function(t,e,n,o){for(var i=n||0,r=n?t.childNodes[n]:t.firstChild,s=null==o?null:t.childNodes[o];r!=s;r=r.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(r),e&&et.hasOwnProperty(r.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},st.prototype.findPlace=function(t){for(var e,n,o=this.open;o>=0;o--){var i=this.nodes[o],r=i.findWrapping(t);if(r&&(!e||e.length>r.length)&&(e=r,n=i,!r.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},st.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;this.applyPendingMarks(n),n.match&&(n.match=n.match.matchType(t.type));for(var o=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(o=t.marks[i].addToSet(o));n.content.push(t.mark(o))}},st.prototype.applyPendingMarks=function(t){for(var e=0;e<this.pendingMarks.length;e++){var n=this.pendingMarks[e];t.type&&!t.type.allowsMarkType(n.type)||n.type.isInSet(t.activeMarks)||(t.activeMarks=n.addToSet(t.activeMarks),this.pendingMarks.splice(e--,1))}},st.prototype.enter=function(t,e,n){var o=this.findPlace(t.create(e));return o&&(this.applyPendingMarks(this.top),this.enterInner(t,e,!0,n)),o},st.prototype.enterInner=function(t,e,n,o){this.closeExtra();var i=this.top;i.match=i.match&&i.match.matchType(t,e);var r=null==o?-5&i.options:it(o);4&i.options&&0==i.content.length&&(r|=4),this.nodes.push(new rt(t,e,i.activeMarks,n,null,r)),this.open++},st.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},st.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},st.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},st.prototype.addPendingMark=function(t){this.pendingMarks.push(t)},st.prototype.removePendingMark=function(t){var e=this.pendingMarks.lastIndexOf(t);if(e>-1)this.pendingMarks.splice(e,1);else{var n=this.top;n.activeMarks=t.removeFromSet(n.activeMarks)}},at.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,o=n.length-1;o>=0;o--)t+=n[o].nodeSize;e&&t++}return t},st.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},st.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},st.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var o=0;o<this.find.length;o++){if(null==this.find[o].pos&&1==t.nodeType&&t.contains(this.find[o].node))e.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}},st.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},st.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),o=this.options.context,i=!(this.isOpen||o&&o.parent.type!=this.nodes[0].type),r=-(o?o.depth+1:0)+(i?0:1),s=function(t,a){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=r;a--)if(s(t-1,a))return!0;return!1}var c=a>0||0==a&&i?e.nodes[a].type:o&&a>=r?o.node(a-r).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;a--}return!0};return s(n.length-1,this.open)},st.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var o in this.parser.schema.nodes){var i=this.parser.schema.nodes[o];if(i.isTextblock&&i.defaultAttrs)return i}},Object.defineProperties(st.prototype,at);var ut=function(t,e){this.nodes=t||{},this.marks=e||{}};function ht(t){var e={};for(var n in t){var o=t[n].spec.toDOM;o&&(e[n]=o)}return e}function pt(t){return t.document||window.document}ut.prototype.serializeFragment=function(t,e,n){var o=this;void 0===e&&(e={}),n||(n=pt(e).createDocumentFragment());var i=n,r=null;return t.forEach((function(t){if(r||t.marks.length){r||(r=[]);for(var n=0,s=0;n<r.length&&s<t.marks.length;){var a=t.marks[s];if(o.marks[a.type.name]){if(!a.eq(r[n]))break;n+=2,s++}else s++}for(;n<r.length;)i=r.pop(),r.pop();for(;s<t.marks.length;){var l=t.marks[s++],c=o.serializeMark(l,t.isInline,e);c&&(r.push(l,i),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(o.serializeNode(t,e))})),n},ut.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=ut.renderSpec(pt(e),this.nodes[t.type.name](t)),o=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return o},ut.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),o=t.marks.length-1;o>=0;o--){var i=this.serializeMark(t.marks[o],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},ut.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var o=this.marks[t.type.name];return o&&ut.renderSpec(pt(n),o(t,e))},ut.renderSpec=function(t,e){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};var n=t.createElement(e[0]),o=null,i=e[1],r=1;if(i&&"object"==typeof i&&null==i.nodeType&&!Array.isArray(i))for(var s in r=2,i)"style"==s?n.style.cssText=i[s]:null!=i[s]&&n.setAttribute(s,i[s]);for(var a=r;a<e.length;a++){var l=e[a];if(0===l){if(a<e.length-1||a>r)throw new RangeError("Content hole must be the only child of its parent node");return{dom:n,contentDOM:n}}var c=ut.renderSpec(t,l),u=c.dom,h=c.contentDOM;if(n.appendChild(u),h){if(o)throw new RangeError("Multiple content holes");o=h}}return{dom:n,contentDOM:o}},ut.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new ut(this.nodesFromSchema(t),this.marksFromSchema(t)))},ut.nodesFromSchema=function(t){var e=ht(t.nodes);return e.text||(e.text=function(t){return t.text}),e},ut.marksFromSchema=function(t){return ht(t.marks)},e.Node=T,e.ResolvedPos=E,e.NodeRange=S,e.Fragment=r,e.Slice=p,e.ReplaceError=h,e.Mark=u,e.Schema=Z,e.NodeType=X,e.MarkType=K,e.ContentMatch=A,e.DOMParser=tt,e.DOMSerializer=ut},"cD+i":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("byeC"),i=n("b/sn"),r=n("CsC6"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var a=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var u=s.ie=!!(l||c||a);s.ie_version=l?document.documentMode||6:c?+c[1]:a?+a[1]:null,s.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var h=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!h,s.chrome_version=h&&+h[1],s.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),s.android=/Android \d/.test(navigator.userAgent),s.webkit=!u&&"WebkitAppearance"in document.documentElement.style,s.safari=/Apple Computer/.test(navigator.vendor),s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},d=function(t){var e=t.parentNode;return e&&11==e.nodeType?e.host:e},f=function(t,e,n){var o=document.createRange();return o.setEnd(t,null==n?t.nodeValue.length:n),o.setStart(t,e||0),o},m=function(t,e,n,o){return n&&(v(t,e,n,o,-1)||v(t,e,n,o,1))},g=/^(img|br|input|textarea|hr)$/i;function v(t,e,n,o,i){for(;;){if(t==n&&e==o)return!0;if(e==(i<0?0:b(t))||3==t.nodeType&&"\ufeff"==t.nodeValue){var r=t.parentNode;if(1!=r.nodeType||(s=void 0,(s=t.pmViewDesc)&&s.node&&s.node.isBlock)||g.test(t.nodeName)||"false"==t.contentEditable)return!1;e=p(t)+(i<0?0:1),t=r}else{if(1!=t.nodeType)return!1;t=t.childNodes[e+(i<0?-1:0)],e=i<0?b(t):0}}var s}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}var y=function(t){var e=t.isCollapsed;return e&&s.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function w(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function E(t,e){var n=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin"),i=t.dom.ownerDocument,r=i.defaultView;null==o&&(o=5);for(var s=t.dom;s;s=d(s)){var a=s==i.body||1!=s.nodeType,l=a?w(r):s.getBoundingClientRect(),c=0,u=0;if(e.top<l.top+n?u=-(l.top-e.top+o):e.bottom>l.bottom-n&&(u=e.bottom-l.bottom+o),e.left<l.left+n?c=-(l.left-e.left+o):e.right>l.right-n&&(c=e.right-l.right+o),(c||u)&&(a?r.scrollBy(c,u):(u&&(s.scrollTop+=u),c&&(s.scrollLeft+=c))),a)break}}function C(t,e){for(var n,o,i=2e8,r=0,s=e.top,a=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=f(l).getClientRects()}for(var h=0;h<u.length;h++){var p=u[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);var d=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(d<i){n=l,i=d,o=d&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==l.nodeType&&d&&(r=c+(e.left>=(p.left+p.right)/2?1:0));continue}}!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(r=c+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,o=document.createRange(),i=0;i<n;i++){o.setEnd(t,i+1),o.setStart(t,i);var r=M(o,1);if(r.top!=r.bottom&&(r.left-1<=e.left&&r.right+1>=e.left&&r.top-1<=e.top&&r.bottom+1>=e.top))return{node:t,offset:i+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}(n,o):!n||i&&1==n.nodeType?{node:t,offset:r}:C(n,o)}function x(t,e){var n,o,i=t.root;if(i.caretPositionFromPoint){var r,s=i.caretPositionFromPoint(e.left,e.top);if(s)n=(r=s).offsetNode,o=r.offset}if(!n&&i.caretRangeFromPoint){var a,l=i.caretRangeFromPoint(e.left,e.top);if(l)n=(a=l).startContainer,o=a.startOffset}var c,u=i.elementFromPoint(e.left,e.top+1);if(!u)return null;if(u=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(u,e),n&&(n==t.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(c=function(t,e,n,o){for(var i=-1,r=e;r!=t.dom;){var s=t.docView.nearestDesc(r,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>o.left||a.top>o.top)i=s.posBefore;else{if(!(a.right<o.left||a.bottom<o.top))break;i=s.posAfter}}r=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}(t,n,o,e))),null==c&&null==(c=function(t,e,n){if(!t.dom.contains(1!=e.nodeType?e.parentNode:e))return null;var o=C(e,n),i=o.node,r=o.offset,s=-1;if(1==i.nodeType&&!i.firstChild){var a=i.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(i,r,s)}(t,u,e)))return null;var h=t.docView.nearestDesc(u,!0);return{pos:c,inside:h?h.posAtStart-h.border:-1}}function M(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function _(t,e){var n,o,i=t.docView.domFromPos(e),r=i.node,s=i.offset;if(3==r.nodeType)s<r.nodeValue.length&&(o=M(f(r,s,s+1),-1),n="left"),o&&o.left!=o.right||!s||(o=M(f(r,s-1,s),1),n="right");else if(r.firstChild){if(s<r.childNodes.length){var a=r.childNodes[s];o=M(3==a.nodeType?f(a):a,-1),n="left"}if((!o||o.top==o.bottom)&&s){var l=r.childNodes[s-1];o=M(3==l.nodeType?f(l):l,1),n="right"}}else o=r.getBoundingClientRect(),n="left";var c=o[n];return{top:o.top,bottom:o.bottom,left:c,right:c}}function S(t,e,n){var o=t.state,i=t.root.activeElement;o==e&&t.inDOMChange||t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{o!=e&&t.updateState(o),i!=t.dom&&i.focus()}}var k=/[\u0590-\u08ac]/;var R=null,T=null,D=!1;function L(t,e,n){return R==e&&T==n?D:(R=e,T=n,D="up"==n||"down"==n?function(t,e,n){var o=e.selection,i="up"==n?o.$anchor.min(o.$head):o.$anchor.max(o.$head);return!!i.depth&&S(t,e,(function(){for(var e=t.docView.domAfterPos(i.before()),o=_(t,i.pos),r=e.firstChild;r;r=r.nextSibling){var s=void 0;if(1==r.nodeType)s=r.getClientRects();else{if(3!=r.nodeType)continue;s=f(r,0,r.nodeValue.length).getClientRects()}for(var a=0;a<s.length;a++){var l=s[a];if(l.bottom>l.top&&("up"==n?l.bottom<o.top+1:l.top>o.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var o=e.selection.$head;if(!o.parent.isTextblock||!o.depth)return!1;var i=o.parentOffset,r=!i,s=i==o.parent.content.size,a=getSelection();return k.test(o.parent.textContent)&&a.modify?S(t,e,(function(){var e=a.getRangeAt(0),i=a.focusNode,r=a.focusOffset;a.modify("move",n,"character");var s=!t.docView.domAfterPos(o.before()).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||i==a.focusNode&&r==a.focusOffset;return a.removeAllRanges(),a.addRange(e),s})):"left"==n||"backward"==n?r:s}(t,e,n))}var O=function(t,e,n,o){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},A={beforePosition:{},size:{},border:{},posBefore:{},posAtStart:{},posAfter:{},posAtEnd:{},contentLost:{}};O.prototype.matchesWidget=function(){return!1},O.prototype.matchesMark=function(){return!1},O.prototype.matchesNode=function(){return!1},O.prototype.matchesHack=function(){return!1},A.beforePosition.get=function(){return!1},O.prototype.parseRule=function(){return null},O.prototype.stopEvent=function(){return!1},A.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},A.border.get=function(){return 0},O.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},O.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var o=this.children[e];if(o==t)return n;n+=o.size}},A.posBefore.get=function(){return this.parent.posBeforeChild(this)},A.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},A.posAfter.get=function(){return this.posBefore+this.size},A.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},O.prototype.localPosFromDOM=function(t,e,n){var o;if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var i,r;if(t==this.contentDOM)i=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&(!(r=i.pmViewDesc)||r.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var s,a;if(t==this.contentDOM)s=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&(!(a=s.pmViewDesc)||a.parent!=this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){o=!1;break}if(l.parentNode.firstChild!=l)break}if(null==o&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){o=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==o?n>0:o)?this.posAtEnd:this.posAtStart},O.prototype.nearestDesc=function(t,e){for(var n=!0,o=t;o;o=o.parentNode){var i=this.getDesc(o);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(t):i.nodeDOM==t))return i;n=!1}}},O.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},O.prototype.posFromDOM=function(t,e,n){for(var o=t;;o=o.parentNode){var i=this.getDesc(o);if(i)return i.localPosFromDOM(t,e,n)}},O.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var o=this.children[e],i=n+o.size;if(n==t&&i!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<i)return o.descAt(t-n-o.border);n=i}},O.prototype.domFromPos=function(t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var e=0,n=0;;n++){if(e==t){for(;n<this.children.length&&this.children[n].beforePosition;)n++;return{node:this.contentDOM,offset:n}}if(n==this.children.length)throw new Error("Invalid position "+t);var o=this.children[n],i=e+o.size;if(t<i)return o.domFromPos(t-e-o.border);e=i}},O.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,i=-1,r=0,s=0;;s++){var a=this.children[s],l=r+a.size;if(-1==o&&t<=l){var c=r+a.border;if(t>=c&&e<=l-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t-c,e-c,n+c);t=n+r;for(var u=s;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){o=p(h.dom)+1;break}t-=h.size}-1==o&&(o=0)}if(o>-1&&e<=l){e=n+l;for(var d=s+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=p(f.dom);break}e+=f.size}-1==i&&(i=this.contentDOM.childNodes.length);break}r=l}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:i}},O.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},O.prototype.domAfterPos=function(t){var e=this.domFromPos(t),n=e.node,o=e.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[o]},O.prototype.setSelection=function(t,e,n){for(var o=Math.min(t,e),i=Math.max(t,e),r=0,s=0;r<this.children.length;r++){var a=this.children[r],l=s+a.size;if(o>s&&i<l)return a.setSelection(t-s-a.border,e-s-a.border,n);s=l}var c=this.domFromPos(t),u=this.domFromPos(e),h=n.getSelection(),p=document.createRange();if(!m(c.node,c.offset,h.anchorNode,h.anchorOffset)||!m(u.node,u.offset,h.focusNode,h.focusOffset)){if(h.extend)p.setEnd(c.node,c.offset),p.collapse(!1);else{if(t>e){var d=c;c=u,u=d}p.setEnd(u.node,u.offset),p.setStart(c.node,c.offset)}h.removeAllRanges(),h.addRange(p),h.extend&&h.extend(u.node,u.offset)}},O.prototype.ignoreMutation=function(t){return!this.contentDOM},A.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},O.prototype.markDirty=function(t,e){for(var n=0,o=0;o<this.children.length;o++){var i=this.children[o],r=n+i.size;if(n==r?t<=r&&e>=n:t<r&&e>n){var s=n+i.border,a=r-i.border;if(t>=s&&e<=a)return this.dirty=t==n||e==r?2:1,void(t==s&&e==a&&i.contentLost?i.dirty=3:i.markDirty(t-s,e-s));i.dirty=3}n=r}this.dirty=2},Object.defineProperties(O.prototype,A);var P=[],z=function(t){function e(e,n,o,i){var r,s=n.type.toDOM;if("function"==typeof s&&(s=s(o,(function(){return r?r.parent?r.parent.posBeforeChild(r):void 0:i}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,P,s,null),this.widget=n,r=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},Object.defineProperties(e.prototype,n),e}(O),N=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){for(var e,n=this.dom.firstChild;n;n=n.nextSibling){var o=void 0;if(3==n.nodeType){var i=n.nodeValue.replace(/\ufeff/g,"");if(!i)continue;o=document.createTextNode(i)}else{if("\ufeff"==n.textContent)continue;o=n.cloneNode(!0)}e||(e=document.createDocumentFragment()),e.appendChild(o)}return e?{skip:e}:t.prototype.parseRule.call(this)},e.prototype.ignoreMutation=function(){return!1},e}(z),F=function(t){function e(e,n,o,i){t.call(this,e,[],o,i),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,i,r){var s=et(r)[n.type.name],a=s&&s(n,r,i);return a&&a.dom||(a=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,i))),new e(t,n,a.dom,a.contentDOM||a.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},e}(O),j=function(t){function e(e,n,o,i,r,s,a,l,c){t.call(this,e,n.isLeaf?P:[],r,s),this.nodeDOM=a,this.node=n,this.outerDeco=o,this.innerDeco=i,s&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{},border:{}};return e.create=function(t,n,i,r,s,a){var l,c=et(s)[n.type.name],u=c&&c(n,s,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:a}),i),h=u&&u.dom,p=u&&u.contentDOM;if(n.isText)if(h){if(3!=h.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else h=document.createTextNode(n.text);else if(!h){var d;h=(d=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=d.contentDOM}p||n.isText||"BR"==h.nodeName||(h.contentEditable=!1,n.type.spec.draggable&&(h.draggable=!0));var f=h;return h=q(h,i,n),u?l=new V(t,n,i,r,h,p,f,u,s):n.isText?new I(t,n,i,r,h,f,s):new e(t,n,i,r,h,p,f,s,a+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?o.Fragment.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&U(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,i=new Q(this),r=this.node.inlineContent;!function(t,e,n,o){var i=e.locals(t),r=0;if(0==i.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);o(a,i,e.forChild(r,a),s),r+=a.nodeSize}return}for(var l=0,c=[],u=null,h=0;;){if(l<i.length&&i[l].to==r){for(var p=i[l++],d=void 0;l<i.length&&i[l].to==r;)(d||(d=[p])).push(i[l++]);if(d){d.sort(tt);for(var f=0;f<d.length;f++)n(d[f],h)}else n(p,h)}var m=void 0;if(u)m=u,u=null;else{if(!(h<t.childCount))break;m=t.child(h++)}for(var g=0;g<c.length;g++)c[g].to<=r&&c.splice(g--,1);for(;l<i.length&&i[l].from==r;)c.push(i[l++]);var v=r+m.nodeSize;if(m.isText){var b=v;l<i.length&&i[l].from<b&&(b=i[l].from);for(var y=0;y<c.length;y++)c[y].to<b&&(b=c[y].to);b<v&&(u=m.cut(b-r),m=m.cut(0,b-r),v=b)}o(m,c.length?c.slice():P,e.forChild(r,m),h-1),r=v}}(this.node,this.innerDeco,(function(s,a){s.spec.marks?i.syncToMarks(s.spec.marks,r,t):s.type.side>=0&&i.syncToMarks(a==n.node.childCount?o.Mark.none:n.node.child(a).marks,r,t),i.placeWidget(s,t,e)}),(function(n,o,s,a){i.syncToMarks(n.marks,r,t),i.findNodeMatch(n,o,s,a)||i.updateNextNode(n,o,s,t,a)||i.addNode(n,o,s,t,e),e+=n.nodeSize})),i.syncToMarks(P,r,t),this.node.isTextblock&&i.addTextblockHacks(),i.destroyRest(),(i.changed||2==this.dirty)&&this.renderChildren()},e.prototype.renderChildren=function(){!function t(e,n){for(var o=e.firstChild,i=0;i<n.length;i++){var r=n[i],s=r.dom;if(s.parentNode==e){for(;s!=o;)o=J(o);o=o.nextSibling}else e.insertBefore(s,o);if(r instanceof F){var a=o?o.previousSibling:e.lastChild;t(r.contentDOM,r.children),o=a?a.nextSibling:e.firstChild}}for(;o;)o=J(o)}(this.contentDOM,this.children,e.is),s.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom)},e.prototype.update=function(t,e,n,o){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,o),!0)},e.prototype.updateInner=function(t,e,n,o){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!U(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=$(this.dom,this.nodeDOM,Y(this.outerDeco,this.node,e),Y(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode")},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode")},Object.defineProperties(e.prototype,n),e}(O);function H(t,e,n,o,i){return q(o,e,t),new j(null,t,e,n,o,o,o,i,0)}var I=function(t){function e(e,n,o,i,r,s,a){t.call(this,e,n,o,i,r,null,s,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;return t?{skip:t}:{ignore:!0}},e.prototype.update=function(t,e){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,o){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,o)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type},e}(j),B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return 0==this.dirty},e}(O),V=function(t){function e(e,n,o,i,r,s,a,l,c){t.call(this,e,n,o,i,r,s,a,c),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,o,i){if(3==this.dirty)return!1;if(this.spec.update){var r=this.spec.update(e,n);return r&&this.updateInner(e,n,o,i),r}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,o,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,o){this.spec.setSelection?this.spec.setSelection(e,n,o):t.prototype.setSelection.call(this,e,n,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(j);function W(t){t&&(this.nodeName=t)}W.prototype=Object.create(null);var G=[new W];function Y(t,e,n){if(0==t.length)return G;for(var o=n?G[0]:new W,i=[o],r=0;r<t.length;r++){var s=t[r].type.attrs,a=o;if(s)for(var l in s.nodeName&&i.push(a=new W(s.nodeName)),s){var c=s[l];null!=c&&(n&&1==i.length&&i.push(a=o=new W(e.isInline?"span":"div")),"class"==l?a.class=(a.class?a.class+" ":"")+c:"style"==l?a.style=(a.style?a.style+";":"")+c:"nodeName"!=l&&(a[l]=c))}}return i}function $(t,e,n,o){if(n==G&&o==G)return e;for(var i=e,r=0;r<o.length;r++){var s=o[r],a=n[r];if(r){var l=void 0;a&&a.nodeName==s.nodeName&&i!=t&&(l=e.parentNode)&&l.tagName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName)).appendChild(i),i=l}X(i,a||G[0],s)}return i}function X(t,e,n){for(var o in e)"class"==o||"style"==o||"nodeName"==o||o in n||t.removeAttribute(o);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var r=e.class?e.class.split(" "):P,s=n.class?n.class.split(" "):P,a=0;a<r.length;a++)-1==s.indexOf(r[a])&&t.classList.remove(r[a]);for(var l=0;l<s.length;l++)-1==r.indexOf(s[l])&&t.classList.add(s[l])}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style[c[1].toLowerCase()]="";n.style&&(t.style.cssText+=n.style)}}function q(t,e,n){return $(t,t,G,Y(e,n,1!=t.nodeType))}function U(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function J(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var K,Z,Q=function(t){this.top=t,this.index=0,this.stack=[],this.changed=!1,this.preMatched=function(t,e){for(var n=[],o=t.childCount,i=e.length-1;o>0&&i>=0;i--){var r=e[i],s=r.node;if(s){if(s!=t.child(o-1))break;n[--o]=r}}return n}(t.node.content,t.children)};function tt(t,e){return t.type.side-e.type.side}function et(t){return Z==t._props?K:(Z=t._props,K=function(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}(t))}function nt(t,e){var n=t.selection,o=n.$anchor,r=n.$head,s=e>0?o.max(r):o.min(r),a=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return a&&i.Selection.findFrom(a,e)}function ot(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function it(t,e){var n=t.state.selection;if(n instanceof i.TextSelection){if(n.empty){if(t.endOfTextblock(e>0?"right":"left")){var o=nt(t.state,e);return!!(o&&o instanceof i.NodeSelection)&&ot(t,o)}var r,s=n.$head,a=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(a&&i.NodeSelection.isSelectable(a)){var l=e<0?s.pos-a.nodeSize:s.pos;if(a.isAtom||(r=t.docView.descAt(l))&&!r.contentDOM)return ot(t,new i.NodeSelection(e<0?t.state.doc.resolve(s.pos-a.nodeSize):s))}return!1}return!1}if(n instanceof i.NodeSelection&&n.node.isInline)return ot(t,new i.TextSelection(e>0?n.$to:n.$from));var c=nt(t.state,e);return!!c&&ot(t,c)}function rt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function st(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function at(t){var e=t.root.getSelection(),n=e.focusNode,o=e.focusOffset;if(n){var i,r,a=!1;for(s.gecko&&1==n.nodeType&&o<rt(n)&&st(n.childNodes[o])&&(a=!0);;)if(o>0)if(1!=n.nodeType){if(3!=n.nodeType||"\ufeff"!=n.nodeValue.charAt(o-1))break;s.ie&&s.ie_version<=11&&(a=!0),i=n,r=--o}else{var l=n.childNodes[o-1];if(st(l))i=n,r=--o;else{if(3!=l.nodeType)break;o=(n=l).nodeValue.length}}else{if(ct(n))break;for(var c=n.previousSibling;c&&st(c);)i=n.parentNode,r=p(c),c=c.previousSibling;if(c)o=rt(n=c);else{if((n=n.parentNode)==t.dom)break;o=0}}a?ut(t,e,n,o):i&&ut(t,e,i,r)}}function lt(t){var e=t.root.getSelection(),n=e.focusNode,o=e.focusOffset;if(n){for(var i,r,s=rt(n);;)if(o<s){if(1!=n.nodeType)break;if(!st(n.childNodes[o]))break;i=n,r=++o}else{if(ct(n))break;for(var a=n.nextSibling;a&&st(a);)i=a.parentNode,r=p(a)+1,a=a.nextSibling;if(a)o=0,s=rt(n=a);else{if((n=n.parentNode)==t.dom)break;o=s=0}}i&&ut(t,e,i,r)}}function ct(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ut(t,e,n,o){if(y(e)){var i=document.createRange();i.setEnd(n,o),i.setStart(n,o),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,o);t.selectionReader.storeDOMState(t.selection)}function ht(t,e){var n=t.state.selection;if(n instanceof i.TextSelection&&!n.empty)return!1;var o=n.$from,r=n.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=nt(t.state,e);if(s&&s instanceof i.NodeSelection)return ot(t,s)}if(!o.parent.inlineContent){var a=i.Selection.findFrom(e<0?o:r,e);return!a||ot(t,a)}return!1}function pt(t,e){if(!(t.state.selection instanceof i.TextSelection))return!0;var n=t.state.selection,o=n.$head,r=n.$anchor,s=n.empty;if(!o.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!o.textOffset&&(e<0?o.nodeBefore:o.nodeAfter);if(a&&!a.isText){var l=t.state.tr;return e<0?l.delete(o.pos-a.nodeSize,o.pos):l.delete(o.pos,o.pos+a.nodeSize),t.dispatch(l),!0}return!1}Q.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Q.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Q.prototype.syncToMarks=function(t,e,n){for(var o,i=0,r=this.stack.length>>1,s=Math.min(r,t.length);i<s&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(t[i]);)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<t.length;){if(this.stack.push(this.top,this.index+1),this.index<this.top.children.length&&(o=this.top.children[this.index]).matchesMark(t[r]))this.top=o;else{var a=F.create(this.top,t[r],e,n);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,r++}},Q.prototype.findNodeMatch=function(t,e,n,o){for(var i=this.index,r=this.top.children,s=Math.min(r.length,i+5);i<s;i++){var a=r[i],l=void 0;if(a.matchesNode(t,e,n)&&(-1==(l=this.preMatched.indexOf(a))||l==o))return this.destroyBetween(this.index,i),this.index++,!0}return!1},Q.prototype.updateNextNode=function(t,e,n,o,i){if(this.index==this.top.children.length)return!1;var r=this.top.children[this.index];if(r instanceof j){var s=this.preMatched.indexOf(r);if(s>-1&&s!=i)return!1;var a=r.dom;if(r.update(t,e,n,o))return r.dom!=a&&(this.changed=!0),this.index++,!0}return!1},Q.prototype.addNode=function(t,e,n,o,i){this.top.children.splice(this.index++,0,j.create(this.top,t,e,n,o,i)),this.changed=!0},Q.prototype.placeWidget=function(t,e,n){if(this.index<this.top.children.length&&this.top.children[this.index].matchesWidget(t))this.index++;else{var o=new(t.spec.isCursorWrapper?N:z)(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}},Q.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof F;)t=t.children[t.children.length-1];if(!t||!(t instanceof I)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new B(this.top,P,e,null)),this.changed=!0}};var dt=function(t,e,n){this.prev=t,this.mapping=e,this.state=n},ft=function(t){this.seen=[new dt(null,null,t)],i.EditorState.addApplyListener(this.track=this.track.bind(this))};ft.prototype.destroy=function(){i.EditorState.removeApplyListener(this.track)},ft.prototype.find=function(t){for(var e=this.seen.length-1;e>=0;e--){var n=this.seen[e];if(n.state==t)return n}},ft.prototype.track=function(t,e,n){var o=this.seen.length<200?this.find(t):null;o&&this.seen.push(new dt(o,e.docChanged?e.mapping:null,n))},ft.prototype.getMapping=function(t,e){var n=this.find(t);if(!n)return null;for(var o=[],i=n;i;i=i.prev)i.mapping&&o.push(i.mapping);for(var s=e||new r.Mapping,a=o.length-1;a>=0;a--)s.appendMapping(o[a]);return s};var mt=function(t){var e=this;this.view=t,this.lastAnchorNode=this.lastHeadNode=this.lastAnchorOffset=this.lastHeadOffset=null,this.lastSelection=t.state.selection,this.ignoreUpdates=!1,this.suppressUpdates=!1,this.poller=new("onselectionchange"in document?gt:vt)(this),t.dom.addEventListener("focus",(function(){return e.poller.start(xt(e.view))})),t.dom.addEventListener("blur",(function(){return e.poller.stop()})),t.editable||this.poller.start(!1)};mt.prototype.destroy=function(){this.poller.stop()},mt.prototype.poll=function(t){this.poller.poll(t)},mt.prototype.editableChanged=function(){this.view.editable?xt(this.view)||this.poller.stop():this.poller.start()},mt.prototype.domChanged=function(){var t=this.view.root.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastHeadNode||t.focusOffset!=this.lastHeadOffset},mt.prototype.storeDOMState=function(t){var e=this.view.root.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastHeadNode=e.focusNode,this.lastHeadOffset=e.focusOffset,this.lastSelection=t},mt.prototype.clearDOMState=function(){this.lastAnchorNode=this.lastSelection=null},mt.prototype.readFromDOM=function(t){if(!this.ignoreUpdates&&this.domChanged()&&xt(this.view)){if(this.suppressUpdates)return bt(this.view);if(this.view.inDOMChange||this.view.domObserver.flush(),!this.view.inDOMChange){var e,n,o=this.view.root.getSelection(),r=this.view.state.doc,s=this.view.docView.nearestDesc(o.focusNode),a=s&&0==s.size,l=this.view.docView.posFromDOM(o.focusNode,o.focusOffset),c=r.resolve(l);if(y(o)){for(e=c;s&&!s.node;)s=s.parent;if(s&&s.node.isAtom&&i.NodeSelection.isSelectable(s.node)&&s.parent){var u=s.posBefore;n=new i.NodeSelection(l==u?c:r.resolve(u))}}else e=r.resolve(this.view.docView.posFromDOM(o.anchorNode,o.anchorOffset));if(!n){var h="pointer"==t||this.view.state.selection.head<c.pos&&!a?1:-1;n=Ct(this.view,e,c,h)}if(this.view.state.selection.eq(n))bt(this.view);else{var p=this.view.state.tr.setSelection(n);"pointer"==t&&p.setMeta("pointer",!0),this.view.dispatch(p)}}}};var gt=function(t){var e=this;this.listening=!1,this.curOrigin=null,this.originTime=0,this.reader=t,this.readFunc=function(){return t.readFromDOM(e.originTime>Date.now()-50?e.curOrigin:null)}};gt.prototype.poll=function(t){this.curOrigin=t,this.originTime=Date.now()},gt.prototype.start=function(t){this.listening||(this.reader.view.dom.ownerDocument.addEventListener("selectionchange",this.readFunc),this.listening=!0,t&&this.readFunc())},gt.prototype.stop=function(){this.listening&&(this.reader.view.dom.ownerDocument.removeEventListener("selectionchange",this.readFunc),this.listening=!1)};var vt=function(t){this.polling=null,this.reader=t,this.pollFunc=this.doPoll.bind(this,null)};function bt(t,e){var n=t.state.selection;if(function(t,e){if(e instanceof i.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Et(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Et(t)}(t,n),t.editable&&!t.hasFocus()){if(!e)return;s.gecko&&s.gecko_version<=55&&(t.selectionReader.ignoreUpdates=!0,t.dom.focus(),t.selectionReader.ignoreUpdates=!1)}else if(!t.editable&&!Mt(t)&&!e)return;var o=t.selectionReader;if(!o.lastSelection||!o.lastSelection.eq(n)||o.domChanged()){if(o.ignoreUpdates=!0,t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),o=t.cursorWrapper.dom;n.setEnd(o,o.childNodes.length),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!t.state.selection.visible&&s.ie&&s.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(t);else{var r,a,l=n.anchor,c=n.head;!yt||n instanceof i.TextSelection||(n.$from.parent.inlineContent||(r=wt(t,n.from)),n.empty||n.$from.parent.inlineContent||(a=wt(t,n.to))),t.docView.setSelection(l,c,t.root),yt&&(r&&(r.contentEditable="false"),a&&(a.contentEditable="false")),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):l!=c&&(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),o=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),t.dom.classList.remove("ProseMirror-hideselection"))})}(t))}o.storeDOMState(n),o.ignoreUpdates=!1}}vt.prototype.doPoll=function(t){var e=this.reader.view;e.focused||!e.editable?(this.reader.readFromDOM(t),this.polling=setTimeout(this.pollFunc,100)):this.polling=null},vt.prototype.poll=function(t){clearTimeout(this.polling),this.polling=setTimeout(t?this.doPoll.bind(this,t):this.pollFunc,0)},vt.prototype.start=function(){null==this.polling&&this.poll()},vt.prototype.stop=function(){clearTimeout(this.polling),this.polling=null};var yt=s.safari||s.chrome&&s.chrome_version<63;function wt(t,e){var n=t.docView.domFromPos(e),o=n.node,i=n.offset,r=i<o.childNodes.length?o.childNodes[i]:null,s=i?o.childNodes[i-1]:null;if(!(r&&"false"!=r.contentEditable||s&&"false"!=s.contentEditable)){if(r)return r.contentEditable="true",r;if(s)return s.contentEditable="true",s}}function Et(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Ct(t,e,n,o){return t.someProp("createSelectionBetween",(function(o){return o(t,e,n)}))||i.TextSelection.between(e,n,o)}function xt(t){return(!t.editable||t.root.activeElement==t.dom)&&Mt(t)}function Mt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function _t(t){return!1===t.type.spec.inclusive}function St(t){var e=t.selection,n=e.$head,o=e.$anchor,i=e.visible,r=n.pos!=o.pos||i&&!n.parent.inlineContent?null:n;return r&&(!i||t.storedMarks||0==r.parent.content.length||r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.some(_t))?r:null}var kt=function t(e,n){var o=this;this.view=e,this.state=e.state,this.composing=n,this.from=this.to=null,this.typeOver=!1,this.timeout=n?null:setTimeout((function(){return o.finish()}),t.commitTimeout),this.trackMappings=new ft(e.state),this.mapping=new r.Mapping,this.mappingTo=e.state};function Rt(t,e){return function(n){var o=n.pmViewDesc;if(o)return o.parseRule();if("BR"==n.nodeName&&n.parentNode){if(s.safari&&/^(ul|ol)$/i.test(n.parentNode.nodeName))return t.matchTag(document.createElement("li"),e);if(n.parentNode.lastChild==n)return{ignore:!0}}}}function Tt(t,e){for(var n=e||0;n<t.depth;n++)if(t.index(n)+1<t.node(n).childCount)return!1;return t.parentOffset==t.parent.content.size}function Dt(t,e){for(var n=e||0;n<t.depth;n++)if(t.index(0)>0)return!1;return 0==t.parentOffset}function Lt(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ot(t,e,n,o){return Math.max(o.anchor,o.head)>e.content.size?null:Ct(t,e.resolve(n.map(o.anchor)),e.resolve(n.map(o.head)))}function At(t,e,n){for(var o=t.depth,i=e?t.end():t.pos;o>0&&(e||t.indexAfter(o)==t.node(o).childCount);)o--,i++,e=!1;if(n)for(var r=t.node(o).maybeChild(t.indexAfter(o));r&&!r.isLeaf;)r=r.firstChild,i++;return i}function Pt(t,e){for(var n=[],i=e.content,r=e.openStart,s=e.openEnd;r>1&&s>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,s--;var a=i.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),i=a.content}var l=t.someProp("clipboardSerializer")||o.DOMSerializer.fromSchema(t.state.schema),c=document.createElement("div");c.appendChild(l.serializeFragment(i));for(var u,h=c.firstChild;h&&1==h.nodeType&&(u=Ft[h.nodeName.toLowerCase()]);){for(var p=u.length-1;p>=0;p--){for(var d=document.createElement(u[p]);c.firstChild;)d.appendChild(c.firstChild);c.appendChild(d)}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",r+" "+s+" "+JSON.stringify(n)),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function zt(t,e,n,i,r){var s,a,l=r.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(i||l||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e)})),l)return new o.Slice(o.Fragment.from(t.state.schema.text(e)),0,0);var u=t.someProp("clipboardTextParser",(function(t){return t(e,r)}));u?a=u:(s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){return n=t(n)})),s=function(t){var e=/(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,o=(jt||(jt=document.implementation.createHTMLDocument("title"))).createElement("div"),i=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(t),r=0;(n=i&&Ft[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""),r=n.length);o.innerHTML=t;for(var s=0;s<r;s++)o=o.firstChild;return o}(n);var h=s&&s.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+) (.*)/.exec(h.getAttribute("data-pm-slice"));if(!a){var d=t.someProp("clipboardParser")||t.someProp("domParser")||o.DOMParser.fromSchema(t.state.schema);a=d.parseSlice(s,{preserveWhitespace:!(!c&&!p),context:r})}return a=p?function(t,e){if(!t.size)return t;var n,i=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var r=t.content,s=t.openStart,a=t.openEnd,l=n.length-2;l>=0;l-=2){var c=i.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;r=o.Fragment.from(c.create(n[l+1],r)),s++,a++}return new o.Slice(r,s,a)}(new o.Slice(a.content,Math.min(a.openStart,+p[1]),Math.min(a.openEnd,+p[2])),p[3]):o.Slice.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var i=e.node(n).contentMatchAt(e.index(n)),r=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=i.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&r.length&&function t(e,n,i,r,s){if(s<e.length&&s<n.length&&e[s]==n[s]){var a=t(e,n,i,r.lastChild,s+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(s==e.length-1?i.type:e[s+1]))return r.copy(r.content.append(o.Fragment.from(Nt(i,e,s+1))))}}(n,r,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=function t(e,n){if(0==n)return e;var i=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),r=e.contentMatchAt(e.childCount).fillBefore(o.Fragment.empty,!0);return e.copy(i.append(r))}(s[s.length-1],r.length));var a=Nt(t,n);s.push(a),i=i.matchType(a.type,a.attrs),r=n}}})),s)return{v:o.Fragment.from(s)}},i=e.depth;i>=0;i--){var r=n(i);if(r)return r.v}return t}(a.content,r),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function Nt(t,e,n){void 0===n&&(n=0);for(var i=e.length-1;i>=n;i--)t=e[i].create(null,o.Fragment.from(t));return t}kt.prototype.addRange=function(t,e){null==this.from?(this.from=t,this.to=e):(this.from=Math.min(t,this.from),this.to=Math.max(e,this.to))},kt.prototype.changedRange=function(){if(null==this.from)return function(t){var e=t.$anchor.min(t.$head),n=t.$anchor.max(t.$head);if(e.sameParent(n)&&e.parent.inlineContent&&e.parentOffset&&n.parentOffset<n.parent.content.size){var o=Math.max(0,e.parentOffset),i=e.parent.content.size,r=Math.min(i,n.parentOffset);if(o>0&&(o=e.parent.childBefore(o).offset),r<i){var s=e.parent.childAfter(r);r=s.offset+s.node.nodeSize}var a=e.start();return{from:a+o,to:a+r}}for(var l=0;;l++){var c=Dt(e,l+1),u=Tt(n,l+1);if(c||u||e.index(l)!=n.index(l)||n.node(l).isTextblock){var h=e.before(l+1),p=n.after(l+1);return c&&e.index(l)>0&&(h-=e.node(l).child(e.index(l)-1).nodeSize),u&&n.index(l)+1<n.node(l).childCount&&(p+=n.node(l).child(n.index(l)+1).nodeSize),{from:h,to:p}}}}(this.state.selection);var t=this.state.doc.resolve(Math.min(this.from,this.state.selection.from)),e=this.state.doc.resolve(this.to),n=t.sharedDepth(this.to);return{from:t.before(n+1),to:e.after(n+1)}},kt.prototype.markDirty=function(t){null==this.from?this.view.docView.markDirty((t=t||this.changedRange()).from,t.to):this.view.docView.markDirty(this.from,this.to)},kt.prototype.stateUpdated=function(t){return this.trackMappings.getMapping(t,this.mapping)?(this.trackMappings.destroy(),this.trackMappings=new ft(t),this.mappingTo=t,!0):(this.markDirty(),this.destroy(),!1)},kt.prototype.finish=function(t){if(clearTimeout(this.timeout),!this.composing||t){this.view.domObserver.flush();var e=this.changedRange();this.markDirty(e),this.destroy();var n=this.state.selection,r=this.typeOver&&n instanceof i.TextSelection&&!n.empty&&n.$head.sameParent(n.$anchor);!function(t,e,n,r,a){var l,c,u=function(t,e,n){var i=t.docView.parseRange(n.from,n.to),r=i.node,a=i.fromOffset,l=i.toOffset,c=i.from,u=i.to,h=t.root.getSelection(),p=null,d=h.anchorNode;d&&t.dom.contains(1==d.nodeType?d:d.parentNode)&&(p=[{node:d,offset:h.anchorOffset}],y(h)||p.push({node:h.focusNode,offset:h.focusOffset}));if(s.chrome&&8===t.lastKeyCode)for(var f=l;f>a;f--){var m=r.childNodes[f-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){l=f;break}if(!g||g.size)break}var v=e.doc,b=t.someProp("domParser")||o.DOMParser.fromSchema(t.state.schema),w=v.resolve(c),E=null,C=b.parse(r,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:a,to:l,preserveWhitespace:!w.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:Rt(b,w),context:w});if(p&&null!=p[0].pos){var x=p[0].pos,M=p[1]&&p[1].pos;null==M&&(M=x),E={anchor:x+c,head:M+c}}return{doc:C,sel:E,from:c,to:u}}(t,n,r),h=n.doc,p=h.slice(u.from,u.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(l=n.selection.to,c="end"):(l=n.selection.from,c="start");t.lastKeyCode=null;var d=function(t,e,n,o,i){var r=t.findDiffStart(e,n);if(null==r)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,l=s.b;if("end"==i){var c=Math.max(0,r-Math.min(a,l));o-=a+c-r}if(a<r&&t.size<e.size){l=(r-=o<=r&&o>=a?r-o:0)+(l-a),a=r}else if(l<r){a=(r-=o<=r&&o>=l?r-o:0)+(a-l),l=r}return{start:r,endA:a,endB:l}}(p.content,u.doc.content,u.from,l,c);if(!d){if(a){var f=t.state,m=f.selection;t.dispatch(f.tr.replaceSelectionWith(f.schema.text(f.doc.textBetween(m.from,m.to)),!0).scrollIntoView())}else if(u.sel){var g=Ot(t,t.state.doc,e,u.sel);g&&!g.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(g))}return}var v,b=u.doc.resolveNoCache(d.start-u.from),w=u.doc.resolveNoCache(d.endB-u.from);if(!b.sameParent(w)&&b.pos<u.doc.content.size&&(v=i.Selection.findFrom(u.doc.resolve(b.pos+1),1,!0))&&v.head==w.pos&&t.someProp("handleKeyDown",(function(e){return e(t,Lt(13,"Enter"))})))return;if(n.selection.anchor>d.start&&function(t,e,n,o,i){if(!o.parent.isTextblock||n-e<=i.pos-o.pos||At(o,!0,!1)<i.pos)return!1;var r=t.resolve(e);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;var s=t.resolve(At(r,!0,!0));if(!s.parent.isTextblock||s.pos>n||At(s,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(s.parent.content)}(h,d.start,d.endA,b,w)&&t.someProp("handleKeyDown",(function(e){return e(t,Lt(8,"Backspace"))})))return void(s.android&&s.chrome&&(t.selectionReader.suppressUpdates=!0,setTimeout((function(){return t.selectionReader.suppressUpdates=!1}),50)));var E,C,x,M,_=e.map(d.start),S=e.map(d.endA,-1);if(b.sameParent(w)&&b.parent.inlineContent)if(b.pos==w.pos)E=t.state.tr.delete(_,S),C=h.resolve(d.start).marksAcross(h.resolve(d.endA));else if(d.endA==d.endB&&(M=h.resolve(d.start))&&(x=function(t,e){for(var n,i,r,s=t.firstChild.marks,a=e.firstChild.marks,l=s,c=a,u=0;u<a.length;u++)l=a[u].removeFromSet(l);for(var h=0;h<s.length;h++)c=s[h].removeFromSet(c);if(1==l.length&&0==c.length)i=l[0],n="add",r=function(t){return t.mark(i.addToSet(t.marks))};else{if(0!=l.length||1!=c.length)return null;i=c[0],n="remove",r=function(t){return t.mark(i.removeFromSet(t.marks))}}for(var p=[],d=0;d<e.childCount;d++)p.push(r(e.child(d)));if(o.Fragment.from(p).eq(t))return{mark:i,type:n}}(b.parent.content.cut(b.parentOffset,w.parentOffset),M.parent.content.cut(M.parentOffset,d.endA-M.start()))))E=t.state.tr,"add"==x.type?E.addMark(_,S,x.mark):E.removeMark(_,S,x.mark);else if(b.parent.child(b.index()).isText&&b.index()==w.index()-(w.textOffset?0:1)){var k=b.parent.textBetween(b.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,_,S,k)})))return;E=t.state.tr.insertText(k,_,S)}E||(E=t.state.tr.replace(_,S,u.doc.slice(d.start-u.from,d.endB-u.from)));if(u.sel){var R=Ot(t,E.doc,e,u.sel);R&&E.setSelection(R)}C&&E.ensureMarks(C);t.dispatch(E.scrollIntoView())}(this.view,this.mapping,this.state,e,r),this.view.docView.dirty&&this.view.updateState(this.view.state)}},kt.prototype.destroy=function(){clearTimeout(this.timeout),this.trackMappings.destroy(),this.view.inDOMChange=null},kt.prototype.compositionEnd=function(){var t=this;this.composing&&(this.composing=!1,this.timeout=setTimeout((function(){return t.finish()}),50))},kt.start=function(t,e){return t.inDOMChange?e&&(clearTimeout(t.inDOMChange.timeout),t.inDOMChange.composing=!0):t.inDOMChange=new kt(t,e),t.inDOMChange},kt.commitTimeout=20;var Ft={thead:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},jt=null;var Ht={childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0},It=s.ie&&s.ie_version<=11,Bt=function(t){var e=this;this.view=t,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){return e.registerMutations(t)})),It&&(this.onCharData=function(t){return e.registerMutation({target:t.target,type:"characterData",oldValue:t.prevValue})})};Bt.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ht),It&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData)},Bt.prototype.stop=function(){this.observer&&(this.flush(),this.observer.disconnect()),It&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData)},Bt.prototype.flush=function(){this.observer&&this.registerMutations(this.observer.takeRecords())},Bt.prototype.registerMutations=function(t){for(var e=0;e<t.length;e++)this.registerMutation(t[e])},Bt.prototype.registerMutation=function(t){if(this.view.editable){var e=this.view.docView.nearestDesc(t.target);if(("attributes"!=t.type||e!=this.view.docView&&"contenteditable"!=t.attributeName)&&e&&!e.ignoreMutation(t)){var n,o;if("childList"==t.type){var i=t.previousSibling&&t.previousSibling.parentNode==t.target?p(t.previousSibling)+1:0;if(-1==i)return;n=e.localPosFromDOM(t.target,i,-1);var r=t.nextSibling&&t.nextSibling.parentNode==t.target?p(t.nextSibling):t.target.childNodes.length;if(-1==r)return;o=e.localPosFromDOM(t.target,r,1)}else"attributes"==t.type?(n=e.posAtStart-e.border,o=e.posAtEnd+e.border):(n=e.posAtStart,o=e.posAtEnd,t.target.nodeValue==t.oldValue&&(kt.start(this.view).typeOver=!0));kt.start(this.view).addRange(n,o)}}};var Vt={},Wt={};function Gt(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Yt(t,e)})}))}function Yt(t,e){return t.someProp("handleDOMEvents",(function(n){var o=n[e.type];return!!o&&(o(t,e)||e.defaultPrevented)}))}function $t(t){return{left:t.clientX,top:t.clientY}}Wt.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,t.inDOMChange){if(t.inDOMChange.composing)return;t.inDOMChange.finish()}t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),t.someProp("handleKeyDown",(function(n){return n(t,e)}))||function(t,e){var n=e.keyCode,o=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||s.mac&&72==n&&"c"==o?pt(t,-1)||at(t):46==n||s.mac&&68==n&&"c"==o?pt(t,1)||lt(t):13==n||27==n||(37==n?it(t,-1)||at(t):39==n?it(t,1)||lt(t):38==n?ht(t,-1)||at(t):40==n?ht(t,1)||lt(t):o==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}(t,e)?e.preventDefault():t.selectionReader.poll()},Wt.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Wt.keypress=function(t,e){if(!(t.inDOMChange||!e.charCode||e.ctrlKey&&!e.altKey||s.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof i.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,o)}))||t.dispatch(t.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}}};var Xt={time:0,x:0,y:0,type:""};function qt(t,e,n,o,i){if(-1==o)return!1;for(var r=t.state.doc.resolve(o),s=function(o){if(t.someProp(e,(function(e){return o>r.depth?e(t,n,r.nodeAfter,r.before(o),i,!0):e(t,n,r.node(o),r.before(o),i,!1)})))return{v:!0}},a=r.depth+1;a>0;a--){var l=s(a);if(l)return l.v}return!1}function Ut(t,e,n){t.focused||t.focus();var o=t.state.tr.setSelection(e);"pointer"==n&&o.setMeta("pointer",!0),t.dispatch(o)}function Jt(t,e,n,o,r){return qt(t,"handleClickOn",e,n,o)||t.someProp("handleClick",(function(n){return n(t,e,o)}))||(r?function(t,e){if(-1==e)return!1;var n,o,r=t.state.selection;r instanceof i.NodeSelection&&(n=r.node);for(var s=t.state.doc.resolve(e),a=s.depth+1;a>0;a--){var l=a>s.depth?s.nodeAfter:s.node(a);if(i.NodeSelection.isSelectable(l)){o=n&&r.$from.depth>0&&a>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?s.before(r.$from.depth):s.before(a);break}}return null!=o&&(Ut(t,i.NodeSelection.create(t.state.doc,o),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),o=n.nodeAfter;return!!(o&&o.isAtom&&i.NodeSelection.isSelectable(o))&&(Ut(t,new i.NodeSelection(n),"pointer"),!0)}(t,n))}function Kt(t,e,n,o){return qt(t,"handleDoubleClickOn",e,n,o)||t.someProp("handleDoubleClick",(function(n){return n(t,e,o)}))}function Zt(t,e,n,o){return qt(t,"handleTripleClickOn",e,n,o)||t.someProp("handleTripleClick",(function(n){return n(t,e,o)}))||function(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Ut(t,i.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(e),r=o.depth+1;r>0;r--){var s=r>o.depth?o.nodeAfter:o.node(r),a=o.before(r);if(s.inlineContent)Ut(t,i.TextSelection.create(n,a+1,a+1+s.content.size),"pointer");else{if(!i.NodeSelection.isSelectable(s))continue;Ut(t,i.NodeSelection.create(n,a),"pointer")}return!0}}(t,n)}function Qt(t){return!!t.inDOMChange&&(t.inDOMChange.finish(!0),!0)}var te=s.mac?"metaKey":"ctrlKey";Vt.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=Qt(t),o=Date.now(),i="singleClick";o-Xt.time<500&&function(t,e){var n=e.x-t.clientX,o=e.y-t.clientY;return n*n+o*o<100}(e,Xt)&&!e[te]&&("singleClick"==Xt.type?i="doubleClick":"doubleClick"==Xt.type&&(i="tripleClick")),Xt={time:o,x:e.clientX,y:e.clientY,type:i};var r=t.posAtCoords($t(e));r&&("singleClick"==i?t.mouseDown=new ee(t,r,e,n):("doubleClick"==i?Kt:Zt)(t,r.pos,r.inside,e)?e.preventDefault():t.selectionReader.poll("pointer"))};var ee=function(t,e,n,o){var r,a,l=this;if(this.view=t,this.pos=e,this.event=n,this.flushed=o,this.selectNode=n[te],this.allowDefault=n.shiftKey,e.inside>-1)r=t.state.doc.nodeAt(e.inside),a=e.inside;else{var c=t.state.doc.resolve(e.pos);r=c.parent,a=c.depth?c.before():0}this.mightDrag=null,this.target=o?null:n.target,(r.type.spec.draggable&&!1!==r.type.spec.selectable||t.state.selection instanceof i.NodeSelection&&a==t.state.selection.from)&&(this.mightDrag={node:r,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),t.selectionReader.poll("pointer")};ee.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!1),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},ee.prototype.up=function(t){this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)&&(this.allowDefault?(s.ie&&St(this.view.state)&&this.view.updateState(this.view.state),this.view.selectionReader.poll("pointer")):Jt(this.view,this.pos.pos,this.pos.inside,t,this.selectNode)?t.preventDefault():this.flushed?(Ut(this.view,i.Selection.near(this.view.state.doc.resolve(this.pos.pos)),"pointer"),t.preventDefault()):this.view.selectionReader.poll("pointer"))},ee.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),this.view.selectionReader.poll("pointer")},Vt.touchdown=function(t){Qt(t),t.selectionReader.poll("pointer")},Vt.contextmenu=function(t){return Qt(t)},Wt.compositionstart=Wt.compositionupdate=function(t){kt.start(t,!0)},Wt.compositionend=function(t,e){if(!t.inDOMChange){if(!e.data)return;kt.start(t,!0)}t.inDOMChange.compositionEnd()},Wt.input=function(t){var e=kt.start(t);e.composing||e.finish()};var ne=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function oe(t,e,n,o){var i=zt(t,e,n,t.shiftKey,t.state.selection.$from);if(!i)return!1;if(t.someProp("handlePaste",(function(e){return e(t,o,i)})))return!0;var r=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(i),s=r?t.state.tr.replaceSelectionWith(r,t.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Vt.copy=Wt.cut=function(t,e){var n=t.state.selection,o="cut"==e.type;if(!n.empty){var i=ne?null:e.clipboardData,r=Pt(t,n.content()),s=r.dom,a=r.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",a)):function(t,e){var n=e.ownerDocument,o=n.body.appendChild(n.createElement("div"));o.appendChild(e),o.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=n.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.body.removeChild(o),t.focus()}),50)}(t,s),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Wt.paste=function(t,e){var n=ne?null:e.clipboardData;n&&oe(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){var n=t.dom.ownerDocument,o=t.shiftKey||t.state.selection.$from.parent.type.spec.code,i=n.body.appendChild(n.createElement(o?"textarea":"div"));o||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){t.focus(),n.body.removeChild(i),o?oe(t,i.value,null,e):oe(t,i.textContent,i.innerHTML,e)}),50)}(t,e)};var ie=function(t,e){this.slice=t,this.move=e},re=s.mac?"altKey":"ctrlKey";for(var se in Vt.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var o=t.state.selection,r=o.empty?null:t.posAtCoords($t(e));if(r&&r.pos>=o.from&&r.pos<=(o instanceof i.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(i.NodeSelection.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var s=t.docView.nearestDesc(e.target,!0);if(!s||!s.node.type.spec.draggable||s==t.docView)return;t.dispatch(t.state.tr.setSelection(i.NodeSelection.create(t.state.doc,s.posBefore)))}var a=t.state.selection.content(),l=Pt(t,a),c=l.dom,u=l.text;e.dataTransfer.clearData(),e.dataTransfer.setData(ne?"Text":"text/html",c.innerHTML),ne||e.dataTransfer.setData("text/plain",u),t.dragging=new ie(a,!e[re])}},Vt.dragend=function(t){window.setTimeout((function(){return t.dragging=null}),50)},Wt.dragover=Wt.dragenter=function(t,e){return e.preventDefault()},Wt.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var o=t.posAtCoords($t(e));if(o){var s=t.state.doc.resolve(o.pos);if(s){var a=n&&n.slice||zt(t,e.dataTransfer.getData(ne?"Text":"text/plain"),ne?null:e.dataTransfer.getData("text/html"),!1,s);if(a&&(e.preventDefault(),!t.someProp("handleDrop",(function(o){return o(t,e,a,n&&n.move)})))){var l=a?r.dropPoint(t.state.doc,s.pos,a):s.pos;null==l&&(l=s.pos);var c=t.state.tr;n&&n.move&&c.deleteSelection();var u=c.mapping.map(l),h=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,p=c.doc;if(h?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),!c.doc.eq(p)){var d=c.doc.resolve(u);h&&i.NodeSelection.isSelectable(a.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(a.content.firstChild)?c.setSelection(new i.NodeSelection(d)):c.setSelection(Ct(t,d,c.doc.resolve(c.mapping.map(l)))),t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}}}}}},Vt.focus=function(t){t.focused||(t.dom.classList.add("ProseMirror-focused"),t.focused=!0)},Vt.blur=function(t){t.focused&&(t.dom.classList.remove("ProseMirror-focused"),t.focused=!1)},Wt)Vt[se]=Wt[se];function ae(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var o in e)if(!(o in t))return!1;return!0}var le=function(t,e){this.spec=e||fe,this.side=this.spec.side||0,this.toDOM=t};le.prototype.map=function(t,e,n,o){var i=t.mapResult(e.from+o,this.side<0?-1:1),r=i.pos;return i.deleted?null:new he(r-n,r-n,this)},le.prototype.valid=function(){return!0},le.prototype.eq=function(t){return this==t||t instanceof le&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ae(this.spec,t.spec))};var ce=function(t,e){this.spec=e||fe,this.attrs=t};ce.prototype.map=function(t,e,n,o){var i=t.map(e.from+o,this.spec.inclusiveStart?-1:1)-n,r=t.map(e.to+o,this.spec.inclusiveEnd?1:-1)-n;return i>=r?null:new he(i,r,this)},ce.prototype.valid=function(t,e){return e.from<e.to},ce.prototype.eq=function(t){return this==t||t instanceof ce&&ae(this.attrs,t.attrs)&&ae(this.spec,t.spec)},ce.is=function(t){return t.type instanceof ce};var ue=function(t,e){this.spec=e||fe,this.attrs=t};ue.prototype.map=function(t,e,n,o){var i=t.mapResult(e.from+o,1);if(i.deleted)return null;var r=t.mapResult(e.to+o,-1);return r.deleted||r.pos<=i.pos?null:new he(i.pos-n,r.pos-n,this)},ue.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),o=n.index,i=n.offset;return i==e.from&&i+t.child(o).nodeSize==e.to},ue.prototype.eq=function(t){return this==t||t instanceof ue&&ae(this.attrs,t.attrs)&&ae(this.spec,t.spec)};var he=function(t,e,n){this.from=t,this.to=e,this.type=n},pe={spec:{}};he.prototype.copy=function(t,e){return new he(t,e,this.type)},he.prototype.eq=function(t){return this.type.eq(t.type)&&this.from==t.from&&this.to==t.to},he.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},he.widget=function(t,e,n){return new he(t,t,new le(e,n))},he.inline=function(t,e,n,o){return new he(t,e,new ce(n,o))},he.node=function(t,e,n,o){return new he(t,e,new ue(n,o))},pe.spec.get=function(){return this.type.spec},Object.defineProperties(he.prototype,pe);var de=[],fe={},me=function(t,e){this.local=t&&t.length?t:de,this.children=e&&e.length?e:de};me.create=function(t,e){return e.length?Ee(e,t,0,fe):ge},me.prototype.find=function(t,e,n){var o=[];return this.findInner(null==t?0:t,null==e?1e9:e,o,0,n),o},me.prototype.findInner=function(t,e,n,o,i){for(var r=0;r<this.local.length;r++){var s=this.local[r];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&n.push(s.copy(s.from+o,s.to+o))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var l=this.children[a]+1;this.children[a+2].findInner(t-l,e-l,n,o+l,i)}},me.prototype.map=function(t,e,n){return this==ge||0==t.maps.length?this:this.mapInner(t,e,0,0,n||fe)},me.prototype.mapInner=function(t,e,n,o,i){for(var r,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,o);a&&a.type.valid(e,a)?(r||(r=[])).push(a):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,o,i,r,s){for(var a=t.slice(),l=function(t,e,n,o){for(var s=0;s<a.length;s+=3){var l=a[s+1],c=void 0;-1==l||t>l+r||(e>=a[s]+r?a[s+1]=-1:(c=o-n-(e-t)+(r-i))&&(a[s]+=c,a[s+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,h=0;h<a.length;h+=3)if(-1==a[h+1]){var p=n.map(a[h]+r),d=p-i;if(d<0||d>=o.content.size){u=!0;continue}var f=n.map(t[h+1]+r,-1)-i,m=o.content.findIndex(d),g=m.index,v=m.offset,b=o.maybeChild(g);if(b&&v==d&&v+b.nodeSize==f){var y=a[h+2].mapInner(n,b,p+1,a[h]+r+1,s);y!=ge?(a[h]=d,a[h+1]=f,a[h+2]=y):(a.splice(h,3),h-=3)}else u=!0}if(u){var w=Ee(function(t,e,n,o,i,r){function s(t,i){for(var a=0;a<t.local.length;a++){var l=t.local[a].map(n,o,i);l?e.push(l):r.onRemove&&r.onRemove(t.local[a].spec)}for(var c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+i+1)}for(var a=0;a<t.length;a+=3)-1==t[a+1]&&s(t[a+2],t[a]+i+1);return e}(a,e?be(e,i):[],n,i,r,s),o,0,s);e=w.local;for(var E=0;E<a.length;E+=3)-1==a[E+1]&&(a.splice(E,3),E-=3);for(var C=0,x=0;C<w.children.length;C+=3){for(var M=w.children[C];x<a.length&&a[x]<M;)x+=3;a.splice(x,0,w.children[C],w.children[C+1],w.children[C+2])}}return new me(e&&e.sort(Ce),a)}(this.children,r,t,e,n,o,i):r?new me(r.sort(Ce)):ge},me.prototype.add=function(t,e){return e.length?this==ge?me.create(t,e):this.addInner(t,e,0):this},me.prototype.addInner=function(t,e,n){var o,i=this,r=0;t.forEach((function(t,s){var a,l=s+n;if(a=ye(e,t,l)){for(o||(o=i.children.slice());r<o.length&&o[r]<s;)r+=3;o[r]==s?o[r+2]=o[r+2].addInner(t,a,l+1):o.splice(r,0,s,s+t.nodeSize,Ee(a,t,l+1,fe)),r+=3}}));var s=be(r?we(e):e,-n);return new me(s.length?this.local.concat(s).sort(Ce):this.local,o||this.children)},me.prototype.remove=function(t){return 0==t.length||this==ge?this:this.removeInner(t,0)},me.prototype.removeInner=function(t,e){for(var n=this.children,o=this.local,i=0;i<n.length;i+=3){for(var r=void 0,s=n[i]+e,a=n[i+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>s&&c.to<a&&(t[l]=null,(r||(r=[])).push(c));if(r){n==this.children&&(n=this.children.slice());var u=n[i+2].removeInner(r,s+1);u!=ge?n[i+2]=u:(n.splice(i,3),i-=3)}}if(o.length)for(var h=0,p=void 0;h<t.length;h++)if(p=t[h])for(var d=0;d<o.length;d++)o[d].type.eq(p.type)&&(o==this.local&&(o=this.local.slice()),o.splice(d--,1));return n==this.children&&o==this.local?this:o.length||n.length?new me(o,n):ge},me.prototype.forChild=function(t,e){var n,o;if(this==ge)return this;if(e.isLeaf)return me.empty;for(var i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var r=t+1,s=r+e.content.size,a=0;a<this.local.length;a++){var l=this.local[a];if(l.from<s&&l.to>r&&l.type instanceof ce){var c=Math.max(r,l.from)-r,u=Math.min(s,l.to)-r;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){var h=new me(o.sort(Ce));return n?new ve([h,n]):h}return n||ge},me.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof me)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!1},me.prototype.locals=function(t){return xe(this.localsInner(t))},me.prototype.localsInner=function(t){if(this==ge)return de;if(t.inlineContent||!this.local.some(ce.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof ce||e.push(this.local[n]);return e};var ge=new me;me.empty=ge,me.removeOverlap=xe;var ve=function(t){this.members=t};function be(t,e){if(!e||!t.length)return t;for(var n=[],o=0;o<t.length;o++){var i=t[o];n.push(new he(i.from+e,i.to+e,i.type))}return n}function ye(t,e,n){if(e.isLeaf)return null;for(var o=n+e.nodeSize,i=null,r=0,s=void 0;r<t.length;r++)(s=t[r])&&s.from>n&&s.to<o&&((i||(i=[])).push(s),t[r]=null);return i}function we(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Ee(t,e,n,o){var i=[],r=!1;e.forEach((function(e,s){var a=ye(t,e,s+n);if(a){r=!0;var l=Ee(a,e,n+s+1,o);l!=ge&&i.push(s,s+e.nodeSize,l)}}));for(var s=be(r?we(t):t,-n).sort(Ce),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(o.onRemove&&o.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new me(s,i):ge}function Ce(t,e){return t.from-e.from||t.to-e.to}function xe(t){for(var e=t,n=0;n<e.length-1;n++){var o=e[n];if(o.from!=o.to)for(var i=n+1;i<e.length;i++){var r=e[i];if(r.from!=o.from){r.from<o.to&&(e==t&&(e=t.slice()),e[n]=o.copy(o.from,r.from),Me(e,i,o.copy(r.from,o.to)));break}r.to!=o.to&&(e==t&&(e=t.slice()),e[i]=r.copy(r.from,o.to),Me(e,i+1,r.copy(o.to,r.to)))}}return e}function Me(t,e,n){for(;e<t.length&&Ce(n,t[e])>0;)e++;t.splice(e,0,n)}function _e(t){var e=[];return t.someProp("decorations",(function(n){var o=n(t.state);o&&o!=ge&&e.push(o)})),t.cursorWrapper&&e.push(me.create(t.state.doc,[t.cursorWrapper.deco])),ve.from(e)}ve.prototype.forChild=function(t,e){if(e.isLeaf)return me.empty;for(var n=[],o=0;o<this.members.length;o++){var i=this.members[o].forChild(t,e);i!=ge&&(i instanceof ve?n=n.concat(i.members):n.push(i))}return ve.from(n)},ve.prototype.eq=function(t){if(!(t instanceof ve)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},ve.prototype.locals=function(t){for(var e,n=!0,o=0;o<this.members.length;o++){var i=this.members[o].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var r=0;r<i.length;r++)e.push(i[r])}else e=i}return e?xe(n?e:e.sort(Ce)):de},ve.from=function(t){switch(t.length){case 0:return ge;case 1:return t[0];default:return new ve(t)}};var Se=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=De(this),this.cursorWrapper=null,Te(this),this.docView=H(this.state.doc,Re(this),_e(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.inDOMChange=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.domObserver=new Bt(t),t.domObserver.start(),t.eventHandlers=Object.create(null);var e=function(e){var n=Vt[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Yt(t,e)||!t.editable&&e.type in Wt||n(t,e)})};for(var n in Vt)e(n);Gt(t)}(this),this.selectionReader=new mt(this),this.pluginViews=[],this.updatePluginViews()},ke={props:{},root:{}};function Re(t){var e=Object.create(null);return e.class="ProseMirror"+(t.focused?" ProseMirror-focused":""),e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var o in n)"class"==o?e.class+=" "+n[o]:e[o]||"contenteditable"==o||"nodeName"==o||(e[o]=String(n[o]))})),[he.node(0,t.state.doc.content.size,e)]}function Te(t){var e=St(t.state);if(!e||s.ie&&t.mouseDown)t.cursorWrapper=null;else{var n,i=t.state.selection.visible,r=t.state.storedMarks||e.marks();t.cursorWrapper&&o.Mark.sameSet(t.cursorWrapper.deco.spec.marks,r)&&"\ufeff"==t.cursorWrapper.dom.textContent&&t.cursorWrapper.deco.spec.visible==i?t.cursorWrapper.deco.pos!=e.pos&&(n=t.cursorWrapper.dom):n=function(t){var e=document.createElement("span");return e.textContent="\ufeff",t||(e.style.position="absolute",e.style.left="-100000px"),e}(i),n&&(t.cursorWrapper={dom:n,deco:he.widget(e.pos,n,{isCursorWrapper:!0,marks:r,raw:!0,visible:i})})}}function De(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}ke.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Se.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Gt(this),this._props=t,this.updateState(t.state)},Se.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var o in e.state=this.state,t)e[o]=t[o];this.update(e)},Se.prototype.updateState=function(t){var e=this,n=this.state;if(this.state=t,n.plugins!=t.plugins&&Gt(this),this.domObserver.flush(),!this.inDOMChange||!this.inDOMChange.stateUpdated(t)){var o=this.editable;this.editable=De(this),Te(this);var r=_e(this),s=Re(this),a=n.config!=t.config?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",l=!this.docView.matchesNode(t.doc,s,r),c=l||!t.selection.eq(n.selection)||this.selectionReader.domChanged(),u="preserve"==a&&c&&function(t){for(var e,n,o=t.dom.getBoundingClientRect(),i=Math.max(0,o.top),r=t.dom.ownerDocument,s=(o.left+o.right)/2,a=i+1;a<Math.min(innerHeight,o.bottom);a+=5){var l=t.root.elementFromPoint(s,a);if(l!=t.dom&&t.dom.contains(l)){var c=l.getBoundingClientRect();if(c.top>=i-20){e=l,n=c.top;break}}}for(var u=[],h=t.dom;h&&(u.push({dom:h,top:h.scrollTop,left:h.scrollLeft}),h!=r.body);h=d(h));return{refDOM:e,refTop:n,stack:u}}(this);c&&(this.domObserver.stop(),l&&(this.docView.update(t.doc,s,r,this)||(this.docView.destroy(),this.docView=H(t.doc,s,r,this.dom,this)),this.selectionReader.clearDOMState()),bt(this),this.domObserver.start()),o!=this.editable&&this.selectionReader.editableChanged(),this.updatePluginViews(n),"reset"==a?this.dom.scrollTop=0:"to selection"==a?this.someProp("handleScrollToSelection",(function(t){return t(e)}))||(t.selection instanceof i.NodeSelection?E(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect()):E(this,this.coordsAtPos(t.selection.head))):u&&function(t){for(var e=t.refDOM,n=t.refTop,o=t.stack,i=e?e.getBoundingClientRect().top:0,r=0==i?0:i-n,s=0;s<o.length;s++){var a=o[s],l=a.dom,c=a.top,u=a.left;l.scrollTop!=c+r&&(l.scrollTop=c+r),l.scrollLeft!=u&&(l.scrollLeft=u)}}(u)}},Se.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Se.prototype.updatePluginViews=function(t){var e=this.state.plugins;if(t&&t.plugins==e)for(var n=0;n<this.pluginViews.length;n++){var o=this.pluginViews[n];o.update&&o.update(this,t)}else{this.destroyPluginViews();for(var i=0;i<e.length;i++){var r=e[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},Se.prototype.someProp=function(t,e){var n,o=this._props&&this._props[t];if(null!=o&&(n=e?e(o):o))return n;var i=this.state.plugins;if(i)for(var r=0;r<i.length;r++){var s=i[r].props[t];if(null!=s&&(n=e?e(s):s))return n}},Se.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Se.prototype.focus=function(){this.domObserver.stop(),bt(this,!0),this.domObserver.start(),this.editable&&this.dom.focus()},ke.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return this._root=e;return t||document},Se.prototype.posAtCoords=function(t){var e=x(this,t);return this.inDOMChange&&e&&(e.pos=this.inDOMChange.mapping.map(e.pos),-1!=e.inside&&(e.inside=this.inDOMChange.mapping.map(e.inside))),e},Se.prototype.coordsAtPos=function(t){return this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t)),_(this,t)},Se.prototype.domAtPos=function(t){return this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t)),this.docView.domFromPos(t)},Se.prototype.nodeDOM=function(t){this.inDOMChange&&(t=this.inDOMChange.mapping.invert().map(t));var e=this.docView.descAt(t);return e?e.nodeDOM:null},Se.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(t,e,n);if(null==o)throw new RangeError("DOM position not inside the editor");return this.inDOMChange&&(o=this.inDOMChange.mapping.map(o)),o},Se.prototype.endOfTextblock=function(t,e){return L(this,e||this.state,t)},Se.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.inDOMChange&&t.inDOMChange.destroy(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e])}(this),this.destroyPluginViews(),this.selectionReader.destroy(),this.mounted?(this.docView.update(this.state.doc,[],_e(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Se.prototype.dispatchEvent=function(t){return function(t,e){Yt(t,e)||!Vt[e.type]||!t.editable&&e.type in Wt||Vt[e.type](t,e)}(this,t)},Se.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Se.prototype,ke),e.EditorView=Se,e.Decoration=he,e.DecorationSet=me,e.__serializeForClipboard=Pt,e.__parseFromClipboard=zt},cwsO:function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var o=n("pbho"),i=n("R0y8");function r(t,e){return[Object(i.a)(t)>i.m?t+Math.round(-t/i.t)*i.t:t,e]}function s(t,e,n){return(t%=i.t)?e||n?Object(o.a)(l(t),c(e,n)):l(t):e||n?c(e,n):r}function a(t){return function(e,n){return[(e+=t)>i.m?e-i.t:e<-i.m?e+i.t:e,n]}}function l(t){var e=a(t);return e.invert=a(-t),e}function c(t,e){var n=Object(i.f)(t),o=Object(i.q)(t),r=Object(i.f)(e),s=Object(i.q)(e);function a(t,e){var a=Object(i.f)(e),l=Object(i.f)(t)*a,c=Object(i.q)(t)*a,u=Object(i.q)(e),h=u*n+l*o;return[Object(i.e)(c*r-h*s,l*n-u*o),Object(i.c)(h*r+c*s)]}return a.invert=function(t,e){var a=Object(i.f)(e),l=Object(i.f)(t)*a,c=Object(i.q)(t)*a,u=Object(i.q)(e),h=u*r-c*s;return[Object(i.e)(c*r+u*s,l*n+h*o),Object(i.c)(h*n-l*o)]},a}r.invert=r,e.a=function(t){function e(e){return(e=t(e[0]*i.o,e[1]*i.o))[0]*=i.g,e[1]*=i.g,e}return t=s(t[0]*i.o,t[1]*i.o,t.length>2?t[2]*i.o:0),e.invert=function(e){return(e=t.invert(e[0]*i.o,e[1]*i.o))[0]*=i.g,e[1]*=i.g,e},e}},fKCf:function(t,e){t.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"h+56":function(t,e,n){"use strict";function o(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}));var i=n("VnD/");function r(t,e){return function(n){return[Object(i.a)(t,e)(n),Object(i.a)(o(t,e))(n)]}}},iEzb:function(t,e,n){"use strict";function o(t){this.content=t}n.r(e),o.prototype={constructor:o,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,r=i.find(t),s=i.content.slice();return-1==r?s.push(n||t,e):(s[r+1]=e,n&&(s[r]=n)),new o(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new o(n)},addToStart:function(t,e){return new o([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new o(n)},addBefore:function(t,e,n){var i=this.remove(e),r=i.content.slice(),s=i.find(t);return r.splice(-1==s?r.length:s,0,e,n),new o(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=o.from(t)).size?new o(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=o.from(t)).size?new o(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=o.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},o.from=function(t){if(t instanceof o)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new o(e)};var i=o;e.default=i},"k8Y/":function(t,e,n){var o=n("alwl"),i=n("Z0cm");t.exports=function(t,e,n,r){return null==t?[]:(i(e)||(e=null==e?[]:[e]),i(n=r?void 0:n)||(n=null==n?[]:[n]),o(t,e,n))}},kO9b:function(t,e,n){"use strict";var o=n("4xfg"),i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r=new RegExp(i.source,"g");e.a=function(t,e){var n,s,a,l=i.lastIndex=r.lastIndex=0,c=-1,u=[],h=[];for(t+="",e+="";(n=i.exec(t))&&(s=r.exec(e));)(a=s.index)>l&&(a=e.slice(l,a),u[c]?u[c]+=a:u[++c]=a),(n=n[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,h.push({i:c,x:Object(o.a)(n,s)})),l=r.lastIndex;return l<e.length&&(a=e.slice(l),u[c]?u[c]+=a:u[++c]=a),u.length<2?h[0]?function(t){return function(e){return t(e)+""}}(h[0].x):function(t){return function(){return t}}(e):(e=h.length,function(t){for(var n,o=0;o<e;++o)u[(n=h[o]).i]=n.x(t);return u.join("")})}},l9OW:function(t,e,n){var o=n("SKAX"),i=n("MMmD");t.exports=function(t,e){var n=-1,r=i(t)?Array(t.length):[];return o(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}},lQqw:function(t,e,n){var o=n("MMmD");t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!o(n))return t(n,i);for(var r=n.length,s=e?r:-1,a=Object(n);(e?s--:++s<r)&&!1!==i(a[s],s,a););return n}}},lYZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("6blF"),i=n("0/uQ"),r=n("G5J1");function s(t){return new o.a((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(r.b)()).subscribe(e)}))}},"m0e+":function(t,e,n){"use strict";(function(t,n){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var o="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(o&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var r=o&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),i))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+o)?t:c(l(t))}function u(t){return t&&t.referenceNode?t.referenceNode:t}var h=o&&!(!window.MSInputMethodContext||!document.documentMode),p=o&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?h:10===t?p:h||p}function f(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var o=n&&n.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?f(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?t:e,i=n?e:t,r=document.createRange();r.setStart(o,0),r.setEnd(i,0);var s,a,l=r.commonAncestorContainer;if(t!==l&&e!==l||o.contains(i))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&f(s.firstElementChild)!==s?f(l):l;var c=m(t);return c.host?g(c.host,e):g(t,m(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",o=t.nodeName;if("BODY"===o||"HTML"===o){var i=t.ownerDocument.documentElement,r=t.ownerDocument.scrollingElement||i;return r[n]}return t[n]}function b(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=v(e,"top"),i=v(e,"left"),r=n?-1:1;return t.top+=o*r,t.bottom+=o*r,t.left+=i*r,t.right+=i*r,t}function y(t,e){var n="x"===e?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+o+"Width"])}function w(t,e,n,o){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(o["margin"+("Height"===t?"Top":"Left")])+parseInt(o["margin"+("Height"===t?"Bottom":"Right")]):0)}function E(t){var e=t.body,n=t.documentElement,o=d(10)&&getComputedStyle(n);return{height:w("Height",e,n,o),width:w("Width",e,n,o)}}var C=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},x=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),M=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function S(t){return _({},t,{right:t.left+t.width,bottom:t.top+t.height})}function k(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=v(t,"top"),o=v(t,"left");e.top+=n,e.left+=o,e.bottom+=n,e.right+=o}else e=t.getBoundingClientRect()}catch(t){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?E(t.ownerDocument):{},s=r.width||t.clientWidth||i.width,l=r.height||t.clientHeight||i.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var h=a(t);c-=y(h,"x"),u-=y(h,"y"),i.width-=c,i.height-=u}return S(i)}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=d(10),i="HTML"===e.nodeName,r=k(t),s=k(e),l=c(t),u=a(e),h=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=S({top:r.top-s.top-h,left:r.left-s.left-p,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!o&&i){var m=parseFloat(u.marginTop),g=parseFloat(u.marginLeft);f.top-=h-m,f.bottom-=h-m,f.left-=p-g,f.right-=p-g,f.marginTop=m,f.marginLeft=g}return(o&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(f=b(f,e)),f}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,o=R(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left"),l={top:s-o.top+o.marginTop,left:a-o.left+o.marginLeft,width:i,height:r};return S(l)}function D(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var n=l(t);return!!n&&D(n)}function L(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function O(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},s=i?L(t):g(t,u(e));if("viewport"===o)r=T(s,i);else{var a=void 0;"scrollParent"===o?"BODY"===(a=c(l(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===o?t.ownerDocument.documentElement:o;var h=R(a,s,i);if("HTML"!==a.nodeName||D(s))r=h;else{var p=E(t.ownerDocument),d=p.height,f=p.width;r.top+=h.top-h.marginTop,r.bottom=d+h.top,r.left+=h.left-h.marginLeft,r.right=f+h.left}}var m="number"==typeof(n=n||0);return r.left+=m?n:n.left||0,r.top+=m?n:n.top||0,r.right-=m?n:n.right||0,r.bottom-=m?n:n.bottom||0,r}function A(t){return t.width*t.height}function P(t,e,n,o,i){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=O(n,o,r,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return _({key:t},a[t],{area:A(a[t])})})).sort((function(t,e){return e.area-t.area})),c=l.filter((function(t){var e=t.width,o=t.height;return e>=n.clientWidth&&o>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function z(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=o?L(e):g(e,u(n));return R(n,i,o)}function N(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),o=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function F(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function j(t,e,n){n=n.split("-")[0];var o=N(t),i={width:o.width,height:o.height},r=-1!==["right","left"].indexOf(n),s=r?"top":"left",a=r?"left":"top",l=r?"height":"width",c=r?"width":"height";return i[s]=e[s]+e[l]/2-o[l]/2,i[a]=n===a?e[a]-o[c]:e[F(a)],i}function H(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function I(e,n,o){return(void 0===o?e:e.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var o=H(t,(function(t){return t[e]===n}));return t.indexOf(o)}(e,"name",o))).forEach((function(e){e.function&&t.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=e.function||e.fn;e.enabled&&s(o)&&(n.offsets.popper=S(n.offsets.popper),n.offsets.reference=S(n.offsets.reference),n=o(n,e))})),n}function B(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=z(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=P(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=j(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=I(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function V(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function W(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),o=0;o<e.length;o++){var i=e[o],r=i?""+i+n:t;if(void 0!==document.body.style[r])return r}return null}function G(){return this.state.isDestroyed=!0,V(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[W("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Y(t){var e=t.ownerDocument;return e?e.defaultView:window}function $(t,e,n,o){n.updateBound=o,Y(t).addEventListener("resize",n.updateBound,{passive:!0});var i=c(t);return function t(e,n,o,i){var r="BODY"===e.nodeName,s=r?e.ownerDocument.defaultView:e;s.addEventListener(n,o,{passive:!0}),r||t(c(s.parentNode),n,o,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function X(){this.state.eventsEnabled||(this.state=$(this.reference,this.options,this.state,this.scheduleUpdate))}function q(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,Y(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function U(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function J(t,e){Object.keys(e).forEach((function(n){var o="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&U(e[n])&&(o="px"),t.style[n]=e[n]+o}))}var K=o&&/Firefox/i.test(navigator.userAgent);function Z(e,n,o){var i=H(e,(function(t){return t.name===n})),r=!!i&&e.some((function(t){return t.name===o&&t.enabled&&t.order<i.order}));if(!r){var s="`"+n+"`",a="`"+o+"`";t.warn(a+" modifier is required by "+s+" modifier in order to work, be sure to include it before "+s+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],tt=Q.slice(3);function et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tt.indexOf(t),o=tt.slice(n+1).concat(tt.slice(0,n));return e?o.reverse():o}var nt="flip",ot="clockwise",it="counterclockwise";function rt(e,n,o,i){var r=[0,0],s=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map((function(t){return t.trim()})),l=a.indexOf(H(a,(function(t){return-1!==t.search(/,|\s/)})));a[l]&&-1===a[l].indexOf(",")&&t.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==l?[a.slice(0,l).concat([a[l].split(c)[0]]),[a[l].split(c)[1]].concat(a.slice(l+1))]:[a];return(u=u.map((function(t,e){var i=(1===e?!s:s)?"height":"width",r=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,r=!0,t):r?(t[t.length-1]+=e,r=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,o){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+i[1],s=i[2];if(!r)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=o}return S(a)[e]/100*r}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}(t,i,n,o)}))}))).forEach((function(t,e){t.forEach((function(n,o){U(n)&&(r[e]+=n*("-"===t[o-1]?-1:1))}))})),r}var st={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],o=e.split("-")[1];if(o){var i=t.offsets,r=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:M({},l,r[l]),end:M({},l,r[l]+r[c]-s[c])};t.offsets.popper=_({},s,u[o])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,o=t.placement,i=t.offsets,r=i.popper,s=i.reference,a=o.split("-")[0],l=void 0;return l=U(+n)?[+n,0]:rt(n,r,s,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||f(t.instance.popper);t.instance.reference===n&&(n=f(n));var o=W("transform"),i=t.instance.popper.style,r=i.top,s=i.left,a=i[o];i.top="",i.left="",i[o]="";var l=O(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=r,i.left=s,i[o]=a,e.boundaries=l;var c=e.priority,u=t.offsets.popper,h={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),M({},t,n)},secondary:function(t){var n="right"===t?"left":"top",o=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(o=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),M({},n,o)}};return c.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=_({},u,h[e](t))})),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,o=e.reference,i=t.placement.split("-")[0],r=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<r(o[l])&&(t.offsets.popper[l]=r(o[l])-n[c]),n[l]>r(o[a])&&(t.offsets.popper[l]=r(o[a])),t}},arrow:{order:500,enabled:!0,fn:function(e,n){var o;if(!Z(e.instance.modifiers,"arrow","keepTogether"))return e;var i=n.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return t.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],s=e.offsets,l=s.popper,c=s.reference,u=-1!==["left","right"].indexOf(r),h=u?"height":"width",p=u?"Top":"Left",d=p.toLowerCase(),f=u?"left":"top",m=u?"bottom":"right",g=N(i)[h];c[m]-g<l[d]&&(e.offsets.popper[d]-=l[d]-(c[m]-g)),c[d]+g>l[m]&&(e.offsets.popper[d]+=c[d]+g-l[m]),e.offsets.popper=S(e.offsets.popper);var v=c[d]+c[h]/2-g/2,b=a(e.instance.popper),y=parseFloat(b["margin"+p]),w=parseFloat(b["border"+p+"Width"]),E=v-e.offsets.popper[d]-y-w;return E=Math.max(Math.min(l[h]-g,E),0),e.arrowElement=i,e.offsets.arrow=(M(o={},d,Math.round(E)),M(o,f,""),o),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(V(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=O(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),o=t.placement.split("-")[0],i=F(o),r=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case nt:s=[o,i];break;case ot:s=et(o);break;case it:s=et(o,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(o!==a||s.length===l+1)return t;o=t.placement.split("-")[0],i=F(o);var c=t.offsets.popper,u=t.offsets.reference,h=Math.floor,p="left"===o&&h(c.right)>h(u.left)||"right"===o&&h(c.left)<h(u.right)||"top"===o&&h(c.bottom)>h(u.top)||"bottom"===o&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),f=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===o&&d||"right"===o&&f||"top"===o&&m||"bottom"===o&&g,b=-1!==["top","bottom"].indexOf(o),y=!!e.flipVariations&&(b&&"start"===r&&d||b&&"end"===r&&f||!b&&"start"===r&&m||!b&&"end"===r&&g),w=!!e.flipVariationsByContent&&(b&&"start"===r&&f||b&&"end"===r&&d||!b&&"start"===r&&g||!b&&"end"===r&&m),E=y||w;(p||v||E)&&(t.flipped=!0,(p||v)&&(o=s[l+1]),E&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=o+(r?"-"+r:""),t.offsets.popper=_({},t.offsets.popper,j(t.instance.popper,t.offsets.reference,t.placement)),t=I(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],o=t.offsets,i=o.popper,r=o.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=r[n]-(a?i[s?"width":"height"]:0),t.placement=F(e),t.offsets.popper=S(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Z(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=H(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(e,n){var o=n.x,i=n.y,r=e.offsets.popper,s=H(e.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==s&&t.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==s?s:n.gpuAcceleration,l=f(e.instance.popper),c=k(l),u={position:r.position},h=function(t,e){var n=t.offsets,o=n.popper,i=n.reference,r=Math.round,s=Math.floor,a=function(t){return t},l=r(i.width),c=r(o.width),u=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),p=e?u||h||l%2==c%2?r:s:a,d=e?r:a;return{left:p(l%2==1&&c%2==1&&!h&&e?o.left-1:o.left),top:d(o.top),bottom:d(o.bottom),right:p(o.right)}}(e,window.devicePixelRatio<2||!K),p="bottom"===o?"top":"bottom",d="right"===i?"left":"right",m=W("transform"),g=void 0,v=void 0;if(v="bottom"===p?"HTML"===l.nodeName?-l.clientHeight+h.bottom:-c.height+h.bottom:h.top,g="right"===d?"HTML"===l.nodeName?-l.clientWidth+h.right:-c.width+h.right:h.left,a&&m)u[m]="translate3d("+g+"px, "+v+"px, 0)",u[p]=0,u[d]=0,u.willChange="transform";else{var b="bottom"===p?-1:1,y="right"===d?-1:1;u[p]=v*b,u[d]=g*y,u.willChange=p+", "+d}var w={"x-placement":e.placement};return e.attributes=_({},w,e.attributes),e.styles=_({},u,e.styles),e.arrowStyles=_({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return J(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&J(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,o,i){var r=z(i,e,t,n.positionFixed),s=P(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),J(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},at=function(){function t(e,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};C(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=r(this.update.bind(this)),this.options=_({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_({},t.Defaults.modifiers,i.modifiers)).forEach((function(e){o.options.modifiers[e]=_({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return _({name:t},o.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&s(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(t,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return G.call(this)}},{key:"enableEventListeners",value:function(){return X.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:n).PopperUtils,at.placements=Q,at.Defaults=st,e.a=at}).call(this,n("ziTh"),n("yLpj"))},mPOO:function(t,e,n){"use strict";function o(){}n.d(e,"a",(function(){return o}))},ny24:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),i=n("MGBS"),r=n("zotm");function s(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new l(t),o=Object(r.a)(n,this.notifier);return o&&!n.seenValue?(n.add(o),e.subscribe(n)):n},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return o.__extends(e,t),e.prototype.notifyNext=function(t,e,n,o,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.a)},oxeV:function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},p0ib:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n("6blF"),i=n("nkY7"),r=n("Zn8D"),s=n("IUTb");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,l=t[t.length-1];return Object(i.a)(l)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof l&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof o.a?t[0]:Object(r.a)(n)(Object(s.a)(t,a))}},p5SD:function(t,e,n){"use strict";var o,i,r,s,a,l,c,u,h,p,d,f,m,g,v,b,y=n("R0y8"),w=n("mPOO"),E=n("tepu"),C={sphere:w.a,point:x,lineStart:_,lineEnd:R,polygonStart:function(){C.lineStart=T,C.lineEnd=D},polygonEnd:function(){C.lineStart=_,C.lineEnd=R}};function x(t,e){t*=y.o,e*=y.o;var n=Object(y.f)(e);M(n*Object(y.f)(t),n*Object(y.q)(t),Object(y.q)(e))}function M(t,e,n){++o,r+=(t-r)/o,s+=(e-s)/o,a+=(n-a)/o}function _(){C.point=S}function S(t,e){t*=y.o,e*=y.o;var n=Object(y.f)(e);g=n*Object(y.f)(t),v=n*Object(y.q)(t),b=Object(y.q)(e),C.point=k,M(g,v,b)}function k(t,e){t*=y.o,e*=y.o;var n=Object(y.f)(e),o=n*Object(y.f)(t),r=n*Object(y.q)(t),s=Object(y.q)(e),a=Object(y.e)(Object(y.r)((a=v*s-b*r)*a+(a=b*o-g*s)*a+(a=g*r-v*o)*a),g*o+v*r+b*s);i+=a,l+=a*(g+(g=o)),c+=a*(v+(v=r)),u+=a*(b+(b=s)),M(g,v,b)}function R(){C.point=x}function T(){C.point=L}function D(){O(f,m),C.point=x}function L(t,e){f=t,m=e,t*=y.o,e*=y.o,C.point=O;var n=Object(y.f)(e);g=n*Object(y.f)(t),v=n*Object(y.q)(t),b=Object(y.q)(e),M(g,v,b)}function O(t,e){t*=y.o,e*=y.o;var n=Object(y.f)(e),o=n*Object(y.f)(t),r=n*Object(y.q)(t),s=Object(y.q)(e),a=v*s-b*r,f=b*o-g*s,m=g*r-v*o,w=Object(y.r)(a*a+f*f+m*m),E=Object(y.c)(w),C=w&&-E/w;h+=C*a,p+=C*f,d+=C*m,i+=E,l+=E*(g+(g=o)),c+=E*(v+(v=r)),u+=E*(b+(b=s)),M(g,v,b)}e.a=function(t){o=i=r=s=a=l=c=u=h=p=d=0,Object(E.a)(t,C);var e=h,n=p,f=d,m=e*e+n*n+f*f;return m<y.i&&(e=l,n=c,f=u,i<y.h&&(e=r,n=s,f=a),(m=e*e+n*n+f*f)<y.i)?[NaN,NaN]:[Object(y.e)(n,e)*y.g,Object(y.c)(f/Object(y.r)(m))*y.g]}},p7ys:function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},pbho:function(t,e,n){"use strict";e.a=function(t,e){function n(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,o){return(n=e.invert(n,o))&&t.invert(n[0],n[1])}),n}},sQjb:function(t,e,n){"use strict";var o=n("5Iso"),i={value:function(){}};function r(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o||/[\s.]/.test(t))throw new Error("illegal type: "+t);o[t]=[]}return new s(o)}function s(t){this._=t}function a(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function l(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function c(t,e,n){for(var o=0,r=t.length;o<r;++o)if(t[o].name===e){t[o]=i,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}s.prototype=r.prototype={constructor:s,on:function(t,e){var n,o=this._,i=a(t+"",o),r=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<s;)if(n=(t=i[r]).type)o[n]=c(o[n],t.name,e);else if(null==e)for(n in o)o[n]=c(o[n],t.name,null);return this}for(;++r<s;)if((n=(t=i[r]).type)&&(n=l(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new s(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,n=(o=this._[t]).length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};var u,h,p=r,d=0,f=0,m=0,g=0,v=0,b=0,y="object"==typeof performance&&performance.now?performance:Date,w="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function E(){return v||(w(C),v=y.now()+b)}function C(){v=0}function x(){this._call=this._time=this._next=null}function M(t,e,n){var o=new x;return o.restart(t,e,n),o}function _(){v=(g=y.now())+b,d=f=0;try{!function(){E(),++d;for(var t,e=u;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--d}()}finally{d=0,function(){var t,e,n=u,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:u=e);h=t,k(o)}(),v=0}}function S(){var t=y.now(),e=t-g;e>1e3&&(b-=e,g=t)}function k(t){d||(f&&(f=clearTimeout(f)),t-v>24?(t<1/0&&(f=setTimeout(_,t-y.now()-b)),m&&(m=clearInterval(m))):(m||(g=y.now(),m=setInterval(S,1e3)),d=1,w(_)))}x.prototype=M.prototype={constructor:x,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?E():+n)+(null==e?0:+e),this._next||h===this||(h?h._next=this:u=this,h=this),this._call=t,this._time=n,k()},stop:function(){this._call&&(this._call=null,this._time=1/0,k())}};var R=function(t,e,n){var o=new x;return e=null==e?0:+e,o.restart((function(n){o.stop(),t(n+e)}),e,n),o},T=p("start","end","cancel","interrupt"),D=[],L=function(t,e,n,o,i,r){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var o,i=t.__transition;function r(l){var c,u,h,p;if(1!==n.state)return a();for(c in i)if((p=i[c]).name===n.name){if(3===p.state)return R(r);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[c]):+c<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete i[c])}if(R((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++u]=p);o.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),r=-1,s=o.length;++r<s;)o[r].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var o in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=M((function(t){n.state=1,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}),0,n.time)}(t,n,{name:e,index:o,group:i,on:T,tween:D,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})};function O(t,e){var n=P(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function A(t,e){var n=P(t,e);if(n.state>3)throw new Error("too late; already running");return n}function P(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var z,N,F,j,H=n("4xfg"),I=180/Math.PI,B={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},V=function(t,e,n,o,i,r){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*o)&&(n-=t*l,o-=e*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),t*o<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*I,skewX:Math.atan(l)*I,scaleX:s,scaleY:a}};function W(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}return function(r,s){var a=[],l=[];return r=t(r),s=t(s),function(t,o,i,r,s,a){if(t!==i||o!==r){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Object(H.a)(t,i)},{i:l-2,x:Object(H.a)(o,r)})}else(i||r)&&s.push("translate("+i+e+r+n)}(r.translateX,r.translateY,s.translateX,s.translateY,a,l),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:Object(H.a)(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}(r.rotate,s.rotate,a,l),function(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:Object(H.a)(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}(r.skewX,s.skewX,a,l),function(t,e,n,o,r,s){if(t!==n||e!==o){var a=r.push(i(r)+"scale(",null,",",null,")");s.push({i:a-4,x:Object(H.a)(t,n)},{i:a-2,x:Object(H.a)(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}(r.scaleX,r.scaleY,s.scaleX,s.scaleY,a,l),r=s=null,function(t){for(var e,n=-1,o=l.length;++n<o;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var G=W((function(t){return"none"===t?B:(z||(z=document.createElement("DIV"),N=document.documentElement,F=document.defaultView),z.style.transform=t,t=F.getComputedStyle(N.appendChild(z),null).getPropertyValue("transform"),N.removeChild(z),t=t.slice(7,-1).split(","),V(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Y=W((function(t){return null==t?B:(j||(j=document.createElementNS("http://www.w3.org/2000/svg","g")),j.setAttribute("transform",t),(t=j.transform.baseVal.consolidate())?(t=t.matrix,V(t.a,t.b,t.c,t.d,t.e,t.f)):B)}),", ",")",")"),$=n("bNSl");function X(t,e){var n,o;return function(){var i=A(this,t),r=i.tween;if(r!==n)for(var s=0,a=(o=n=r).length;s<a;++s)if(o[s].name===e){(o=o.slice()).splice(s,1);break}i.tween=o}}function q(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=A(this,t),s=r.tween;if(s!==o){i=(o=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}r.tween=i}}function U(t,e,n){var o=t._id;return t.each((function(){var t=A(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return P(t,o).value[e]}}var J=n("FmoU"),K=n("42CK"),Z=n("kO9b"),Q=function(t,e){var n;return("number"==typeof e?H.a:e instanceof J.a?K.a:(n=Object(J.a)(e))?(e=n,K.a):Z.a)(t,e)};function tt(t){return function(){this.removeAttribute(t)}}function et(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nt(t,e,n){var o,i,r=n+"";return function(){var s=this.getAttribute(t);return s===r?null:s===o?i:i=e(o=s,n)}}function ot(t,e,n){var o,i,r=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===o?i:i=e(o=s,n)}}function it(t,e,n){var o,i,r;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===o&&a===i?r:(i=a,r=e(o=s,l));this.removeAttribute(t)}}function rt(t,e,n){var o,i,r;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===o&&a===i?r:(i=a,r=e(o=s,l));this.removeAttributeNS(t.space,t.local)}}function st(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function at(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function lt(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&at(t,i)),n}return i._value=e,i}function ct(t,e){var n,o;function i(){var i=e.apply(this,arguments);return i!==o&&(n=(o=i)&&st(t,i)),n}return i._value=e,i}function ut(t,e){return function(){O(this,t).delay=+e.apply(this,arguments)}}function ht(t,e){return e=+e,function(){O(this,t).delay=e}}function pt(t,e){return function(){A(this,t).duration=+e.apply(this,arguments)}}function dt(t,e){return e=+e,function(){A(this,t).duration=e}}function ft(t,e){if("function"!=typeof e)throw new Error;return function(){A(this,t).ease=e}}var mt=n("Cnj1");function gt(t,e,n){var o,i,r=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?O:A;return function(){var s=r(this,t),a=s.on;a!==o&&(i=(o=a).copy()).on(e,n),s.on=i}}var vt=n("b9Oj"),bt=n("QjDJ"),yt=o.b.prototype.constructor,wt=n("Nkvg");function Et(t){return function(){this.style.removeProperty(t)}}function Ct(t,e,n){return function(o){this.style.setProperty(t,e.call(this,o),n)}}function xt(t,e,n){var o,i;function r(){var r=e.apply(this,arguments);return r!==i&&(o=(i=r)&&Ct(t,r,n)),o}return r._value=e,r}function Mt(t){return function(e){this.textContent=t.call(this,e)}}function _t(t){var e,n;function o(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Mt(o)),e}return o._value=t,o}var St=0;function kt(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function Rt(){return++St}var Tt=o.b.prototype;kt.prototype=function(t){return Object(o.b)().transition(t)}.prototype={constructor:kt,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(vt.a)(t));for(var o=this._groups,i=o.length,r=new Array(i),s=0;s<i;++s)for(var a,l,c=o[s],u=c.length,h=r[s]=new Array(u),p=0;p<u;++p)(a=c[p])&&(l=t.call(a,a.__data__,p,c))&&("__data__"in a&&(l.__data__=a.__data__),h[p]=l,L(h[p],e,n,p,h,P(a,n)));return new kt(r,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(bt.a)(t));for(var o=this._groups,i=o.length,r=[],s=[],a=0;a<i;++a)for(var l,c=o[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var p,d=t.call(l,l.__data__,h,c),f=P(l,n),m=0,g=d.length;m<g;++m)(p=d[m])&&L(p,e,n,m,d,f);r.push(d),s.push(l)}return new kt(r,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(mt.a)(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,s=e[i],a=s.length,l=o[i]=[],c=0;c<a;++c)(r=s[c])&&t.call(r,r.__data__,c,s)&&l.push(r);return new kt(o,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),s=new Array(o),a=0;a<r;++a)for(var l,c=e[a],u=n[a],h=c.length,p=s[a]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(p[d]=l);for(;a<o;++a)s[a]=e[a];return new kt(s,this._parents,this._name,this._id)},selection:function(){return new yt(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Rt(),o=this._groups,i=o.length,r=0;r<i;++r)for(var s,a=o[r],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=P(s,e);L(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new kt(o,this._parents,t,n)},call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:function(t,e){var n=this._id;return arguments.length<2?P(this.node(),n).on.on(t):this.each(gt(n,t,e))},attr:function(t,e){var n=Object($.a)(t),o="transform"===n?Y:Q;return this.attrTween(t,"function"==typeof e?(n.local?rt:it)(n,o,U(this,"attr."+t,e)):null==e?(n.local?et:tt)(n):(n.local?ot:nt)(n,o,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=Object($.a)(t);return this.tween(n,(o.local?lt:ct)(o,e))},style:function(t,e,n){var o="transform"==(t+="")?G:Q;return null==e?this.styleTween(t,function(t,e){var n,o,i;return function(){var r=Object(wt.b)(this,t),s=(this.style.removeProperty(t),Object(wt.b)(this,t));return r===s?null:r===n&&s===o?i:i=e(n=r,o=s)}}(t,o)).on("end.style."+t,Et(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var o,i,r;return function(){var s=Object(wt.b)(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Object(wt.b)(this,t)),s===l?null:s===o&&l===i?r:(i=l,r=e(o=s,a))}}(t,o,U(this,"style."+t,e))).each(function(t,e){var n,o,i,r,s="style."+e,a="end."+s;return function(){var l=A(this,t),c=l.on,u=null==l.value[s]?r||(r=Et(e)):void 0;c===n&&i===u||(o=(n=c).copy()).on(a,i=u),l.on=o}}(this._id,t)):this.styleTween(t,function(t,e,n){var o,i,r=n+"";return function(){var s=Object(wt.b)(this,t);return s===r?null:s===o?i:i=e(o=s,n)}}(t,o,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,xt(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(U(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,_t(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=P(this.node(),n).tween,r=0,s=i.length;r<s;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?X:q)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?ut:ht)(e,t)):P(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?pt:dt)(e,t)):P(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ft(e,t)):P(this.node(),e).ease},end:function(){var t,e,n=this,o=n._id,i=n.size();return new Promise((function(r,s){var a={value:s},l={value:function(){0==--i&&r()}};n.each((function(){var n=A(this,o),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var Dt={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Lt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Dt.time=E(),Dt;return n}o.b.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,o,i,r=t.__transition,s=!0;if(r){for(i in e=null==e?null:e+"",r)(n=r[i]).name===e?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete r[i]):s=!1;s&&delete t.__transition}}(this,t)}))},o.b.prototype.transition=function(t){var e,n;t instanceof kt?(e=t._id,t=t._name):(e=Rt(),(n=Dt).time=E(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var s,a=o[r],l=a.length,c=0;c<l;++c)(s=a[c])&&L(s,t,e,c,a,n||Lt(s,e));return new kt(o,this._parents,t,e)}},sRdV:function(t,e,n){"use strict";t.exports=function(t){var e={};e.src_Any=n("y8fO").source,e.src_Cc=n("p7ys").source,e.src_Z=n("T8I8").source,e.src_P=n("fKCf").source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},t9fZ:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n("mrSG"),i=n("FFOo");function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}r.prototype=Object.create(Error.prototype);var s=r,a=n("G5J1");function l(t){return function(e){return 0===t?Object(a.b)():e.lift(new c(t))}}var c=function(){function t(t){if(this.total=t,this.total<0)throw new s}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.total))},t}(),u=function(t){function e(e,n){var o=t.call(this,e)||this;return o.total=n,o.count=0,o}return o.__extends(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},tepu:function(t,e,n){"use strict";function o(t,e){t&&r.hasOwnProperty(t.type)&&r[t.type](t,e)}var i={Feature:function(t,e){o(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)o(n[i].geometry,e)}},r={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)t=n[o],e.point(t[0],t[1],t[2])},LineString:function(t,e){s(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)s(n[o],e,0)},Polygon:function(t,e){a(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)a(n[o],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)o(n[i],e)}};function s(t,e,n){var o,i=-1,r=t.length-n;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function a(t,e){var n=-1,o=t.length;for(e.polygonStart();++n<o;)s(t[n],e,1);e.polygonEnd()}e.a=function(t,e){t&&i.hasOwnProperty(t.type)?i[t.type](t,e):o(t,e)}},uCr6:function(t,e,n){"use strict";function o(){this.reset()}e.a=function(){return new o},o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(t){r(i,t,this.t),r(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function r(t,e,n){var o=t.s=e+n,i=o-e,r=o-i;t.t=e-r+(n-i)}},vBe5:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return u})),n.d(e,"i",(function(){return f})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return g}));var o=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return o(e(t),n)}),{left:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}};var r=i(o),s=r.right,a=(r.left,s);var l=function(t){return null===t?NaN:+t},c=Array.prototype,u=(c.slice,c.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var o=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++o<i;)r[o]=t+o*n;return r}),h=Math.sqrt(50),p=Math.sqrt(10),d=Math.sqrt(2),f=function(t,e,n){var o,i,r,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((o=e<t)&&(i=t,t=e,e=i),0===(s=m(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),r=new Array(i=Math.ceil(e-t+1));++a<i;)r[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),r=new Array(i=Math.ceil(t-e+1));++a<i;)r[a]=(t-a)/s;return o&&r.reverse(),r};function m(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=h?10:r>=p?5:r>=d?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=h?10:r>=p?5:r>=d?2:1)}function g(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=h?i*=10:r>=p?i*=5:r>=d&&(i*=2),e<t?-i:i}var v=function(t,e,n){if(null==n&&(n=l),o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,r=Math.floor(i),s=+n(t[r],r,t);return s+(+n(t[r+1],r+1,t)-s)*(i-r)}},b=function(t){for(var e,n,o,i=t.length,r=-1,s=0;++r<i;)s+=t[r].length;for(n=new Array(s);--i>=0;)for(e=(o=t[i]).length;--e>=0;)n[--s]=o[e];return n}},vHEj:function(t,e,n){"use strict";var o,i,r,s,a=n("IYKK"),l=n("tepu"),c=n("uCr6"),u=n("R0y8"),h=n("mPOO"),p=Object(c.a)(),d=Object(c.a)(),f={point:h.a,lineStart:h.a,lineEnd:h.a,polygonStart:function(){f.lineStart=m,f.lineEnd=b},polygonEnd:function(){f.lineStart=f.lineEnd=f.point=h.a,p.add(Object(u.a)(d)),d.reset()},result:function(){var t=p/2;return p.reset(),t}};function m(){f.point=g}function g(t,e){f.point=v,o=r=t,i=s=e}function v(t,e){d.add(s*t-r*e),r=t,s=e}function b(){v(o,i)}var y,w,E,C,x=f,M=n("SMTj"),_=0,S=0,k=0,R=0,T=0,D=0,L=0,O=0,A=0,P={point:z,lineStart:N,lineEnd:H,polygonStart:function(){P.lineStart=I,P.lineEnd=B},polygonEnd:function(){P.point=z,P.lineStart=N,P.lineEnd=H},result:function(){var t=A?[L/A,O/A]:D?[R/D,T/D]:k?[_/k,S/k]:[NaN,NaN];return _=S=k=R=T=D=L=O=A=0,t}};function z(t,e){_+=t,S+=e,++k}function N(){P.point=F}function F(t,e){P.point=j,z(E=t,C=e)}function j(t,e){var n=t-E,o=e-C,i=Object(u.r)(n*n+o*o);R+=i*(E+t)/2,T+=i*(C+e)/2,D+=i,z(E=t,C=e)}function H(){P.point=z}function I(){P.point=V}function B(){W(y,w)}function V(t,e){P.point=W,z(y=E=t,w=C=e)}function W(t,e){var n=t-E,o=e-C,i=Object(u.r)(n*n+o*o);R+=i*(E+t)/2,T+=i*(C+e)/2,D+=i,L+=(i=C*t-E*e)*(E+t),O+=i*(C+e),A+=3*i,z(E=t,C=e)}var G=P;function Y(t){this._context=t}Y.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,u.t)}},result:h.a};var $,X,q,U,J,K=Object(c.a)(),Z={point:h.a,lineStart:function(){Z.point=Q},lineEnd:function(){$&&tt(X,q),Z.point=h.a},polygonStart:function(){$=!0},polygonEnd:function(){$=null},result:function(){var t=+K;return K.reset(),t}};function Q(t,e){Z.point=tt,X=U=t,q=J=e}function tt(t,e){U-=t,J-=e,K.add(Object(u.r)(U*U+J*J)),U=t,J=e}var et=Z;function nt(){this._string=[]}function ot(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}nt.prototype={_radius:4.5,_circle:ot(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=ot(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};e.a=function(t,e){var n,o,i=4.5;function r(t){return t&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),Object(l.a)(t,n(o))),o.result()}return r.area=function(t){return Object(l.a)(t,n(x)),x.result()},r.measure=function(t){return Object(l.a)(t,n(et)),et.result()},r.bounds=function(t){return Object(l.a)(t,n(M.a)),M.a.result()},r.centroid=function(t){return Object(l.a)(t,n(G)),G.result()},r.projection=function(e){return arguments.length?(n=null==e?(t=null,a.a):(t=e).stream,r):t},r.context=function(t){return arguments.length?(o=null==t?(e=null,new nt):new Y(e=t),"function"!=typeof i&&o.pointRadius(i),r):e},r.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(o.pointRadius(+t),+t),r):i},r.projection(t).context(e)}},xXU7:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("6blF"),i=n("T1DM"),r=n("/21U");function s(t,e){return void 0===t&&(t=0),void 0===e&&(e=i.a),(!Object(r.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=i.a),new o.a((function(n){return n.add(e.schedule(a,t,{subscriber:n,counter:0,period:t})),n}))}function a(t){var e=t.subscriber,n=t.counter,o=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:o},o)}},xpj1:function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},y8fO:function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},yue5:function(t,e,n){var o=n("/9aa");t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,s=o(t),a=void 0!==e,l=null===e,c=e==e,u=o(e);if(!l&&!u&&!s&&t>e||s&&a&&c&&!l&&!u||i&&a&&c||!n&&c||!r)return 1;if(!i&&!s&&!u&&t<e||u&&n&&r&&!i&&!s||l&&n&&r||!a&&r||!c)return-1}return 0}},ziQ1:function(t,e,n){"use strict";n.d(e,"a",(function(){return $})),n.d(e,"b",(function(){return X}));var o=n("vBe5");function i(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}n("bwSX");var r=Array.prototype,s=r.map,a=r.slice;var l=n("FmoU"),c=n("42CK"),u=function(t,e){e||(e=[]);var n,o=t?Math.min(e.length,t.length):0,i=e.slice();return function(r){for(n=0;n<o;++n)i[n]=t[n]*(1-r)+e[n]*r;return i}};function h(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function p(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(i),s=new Array(o);for(n=0;n<i;++n)r[n]=b(t[n],e[n]);for(;n<o;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=r[n](t);return s}}var d=function(t,e){var n=new Date;return t=+t,e=+e,function(o){return n.setTime(t*(1-o)+e*o),n}},f=n("4xfg"),m=function(t,e){var n,o={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?o[n]=b(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},g=n("kO9b"),v=n("xpj1"),b=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?Object(v.a)(e):("number"===o?f.a:"string"===o?(n=Object(l.a)(e))?(e=n,c.a):g.a:e instanceof l.a?c.a:e instanceof Date?d:h(e)?u:Array.isArray(e)?p:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?m:f.a)(t,e)},y=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},w=function(t){return+t},E=[0,1];function C(t){return t}function x(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function M(t){var e,n=t[0],o=t[t.length-1];return n>o&&(e=n,n=o,o=e),function(t){return Math.max(n,Math.min(o,t))}}function _(t,e,n){var o=t[0],i=t[1],r=e[0],s=e[1];return i<o?(o=x(i,o),r=n(s,r)):(o=x(o,i),r=n(r,s)),function(t){return r(o(t))}}function S(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=x(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=Object(o.b)(t,e,1,i)-1;return s[n](r[n](e))}}function k(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R(){var t,e,n,o,i,r,l=E,c=E,u=b,h=C;function p(){return o=Math.min(l.length,c.length)>2?S:_,i=r=null,d}function d(e){return isNaN(e=+e)?n:(i||(i=o(l.map(t),c,u)))(t(h(e)))}return d.invert=function(n){return h(e((r||(r=o(c,l.map(t),f.a)))(n)))},d.domain=function(t){return arguments.length?(l=s.call(t,w),h===C||(h=M(l)),p()):l.slice()},d.range=function(t){return arguments.length?(c=a.call(t),p()):c.slice()},d.rangeRound=function(t){return c=a.call(t),u=y,p()},d.clamp=function(t){return arguments.length?(h=t?M(l):C,d):h!==C},d.interpolate=function(t){return arguments.length?(u=t,p()):u},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,o){return t=n,e=o,p()}}function T(t,e){return R()(t,e)}var D=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L(t){if(!(e=D.exec(t)))throw new Error("invalid format: "+t);var e;return new O({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function O(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}L.prototype=O.prototype,O.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var A,P,z,N,F=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},j=function(t){return(t=F(Math.abs(t)))?t[1]:NaN},H=function(t,e){var n=F(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},I={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return H(100*t,e)},r:H,s:function(t,e){var n=F(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(A=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=o.length;return r===s?o:r>s?o+new Array(r-s+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+F(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},B=function(t){return t},V=Array.prototype.map,W=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];P=function(t){var e,n,o=void 0===t.grouping||void 0===t.thousands?B:(e=V.call(t.grouping,Number),n=t.thousands+"",function(t,o){for(var i=t.length,r=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>o&&(a=Math.max(1,o-l)),r.push(t.substring(i-=a,i+a)),!((l+=a+1)>o));)a=e[s=(s+1)%e.length];return r.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?B:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(V.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=L(t)).fill,n=t.align,h=t.sign,p=t.symbol,d=t.zero,f=t.width,m=t.comma,g=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):I[b]||(void 0===g&&(g=12),v=!0,b="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===p?i:"#"===p&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===p?r:/[%p]/.test(b)?l:"",E=I[b],C=/[defgprs%]/.test(b);function x(t){var i,r,l,p=y,x=w;if("c"===b)x=E(t)+x,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:E(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,o=1,i=-1;o<n;++o)switch(t[o]){case".":i=e=o;break;case"0":0===i&&(i=o),e=o;break;default:if(!+t[o])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==h&&(M=!1),p=(M?"("===h?h:c:"-"===h||"("===h?"":h)+p,x=("s"===b?W[8+A/3]:"")+x+(M&&"("===h?")":""),C)for(i=-1,r=t.length;++i<r;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?s+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}m&&!d&&(t=o(t,1/0));var _=p.length+t.length+x.length,S=_<f?new Array(f-_+1).join(e):"";switch(m&&d&&(t=o(S+t,S.length?f-x.length:1/0),S=""),n){case"<":t=p+t+x+S;break;case"=":t=p+S+t+x;break;case"^":t=S.slice(0,_=S.length>>1)+p+t+x+S.slice(_);break;default:t=S+p+t+x}return a(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=L(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(j(e)/3))),i=Math.pow(10,-o),r=W[8+o/3];return function(t){return n(i*t)+r}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),z=P.format,N=P.formatPrefix;var G=function(t,e,n,i){var r,s=Object(o.h)(t,e,n);switch((i=L(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(j(e)/3)))-j(Math.abs(t)))}(s,a))||(i.precision=r),N(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,j(e)-j(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-j(Math.abs(t)))}(s))||(i.precision=r-2*("%"===i.type))}return z(i)};function Y(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(o.i)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var o=e();return G(o[0],o[o.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),s=0,a=r.length-1,l=r[s],c=r[a];return c<l&&(i=l,l=c,c=i,i=s,s=a,a=i),(i=Object(o.g)(l,c,n))>0?(l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i,i=Object(o.g)(l,c,n)):i<0&&(l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i,i=Object(o.g)(l,c,n)),i>0?(r[s]=Math.floor(l/i)*i,r[a]=Math.ceil(c/i)*i,e(r)):i<0&&(r[s]=Math.ceil(l*i)/i,r[a]=Math.floor(c*i)/i,e(r)),t},t}function $(){var t=T(C,C);return t.copy=function(){return k(t,$())},i.apply(t,arguments),Y(t)}function X(){var t,e=[],n=[],r=[];function s(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=Object(o.e)(e,t/i);return l}function l(e){return isNaN(e=+e)?t:n[Object(o.b)(r,e)]}return l.invertExtent=function(t){var o=n.indexOf(t);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},l.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,r=t.length;i<r;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(o.a),s()},l.range=function(t){return arguments.length?(n=a.call(t),s()):n.slice()},l.unknown=function(e){return arguments.length?(t=e,l):t},l.quantiles=function(){return r.slice()},l.copy=function(){return X().domain(e).range(n).unknown(t)},i.apply(l,arguments)}var q=new Date,U=new Date;function J(t,e,n,o){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,o,r){var s,a=[];if(n=i.ceil(n),r=null==r?1:Math.floor(r),!(n<o&&r>0))return a;do{a.push(s=new Date(+n)),e(n,r),t(n)}while(s<n&&n<o);return a},i.filter=function(n){return J((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,o){if(t>=t)if(o<0)for(;++o<=0;)for(;e(t,-1),!n(t););else for(;--o>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,o){return q.setTime(+e),U.setTime(+o),t(q),t(U),Math.floor(n(q,U))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(o?function(e){return o(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var K=J((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));K.every=function(t){return isFinite(t=Math.floor(t))&&t>0?J((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Z=K,Q=(K.range,J((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));Q.range;function tt(t){return J((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var et=tt(0),nt=tt(1),ot=tt(2),it=tt(3),rt=tt(4),st=tt(5),at=tt(6),lt=(et.range,nt.range,ot.range,it.range,rt.range,st.range,at.range,J((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),ct=lt,ut=(lt.range,J((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()}))),ht=(ut.range,J((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()}))),pt=(ht.range,J((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()}))),dt=(pt.range,J((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));dt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?J((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):dt:null};dt.range;function ft(t){return J((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var mt=ft(0),gt=ft(1),vt=ft(2),bt=ft(3),yt=ft(4),wt=ft(5),Et=ft(6),Ct=(mt.range,gt.range,vt.range,bt.range,yt.range,wt.range,Et.range,J((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),xt=Ct,Mt=(Ct.range,J((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Mt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?J((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var _t=Mt;Mt.range;function St(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Tt,Dt={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Ot=/^%/,At=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function zt(t){return t.replace(At,"\\$&")}function Nt(t){return new RegExp("^(?:"+t.map(zt).join("|")+")","i")}function Ft(t){for(var e={},n=-1,o=t.length;++n<o;)e[t[n].toLowerCase()]=n;return e}function jt(t,e,n){var o=Lt.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function Ht(t,e,n){var o=Lt.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function It(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function Bt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function Vt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function Wt(t,e,n){var o=Lt.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function Gt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function Yt(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function $t(t,e,n){var o=Lt.exec(e.slice(n,n+1));return o?(t.q=3*o[0]-3,n+o[0].length):-1}function Xt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function qt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function Ut(t,e,n){var o=Lt.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function Jt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function Kt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function Zt(t,e,n){var o=Lt.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function Qt(t,e,n){var o=Lt.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function te(t,e,n){var o=Lt.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function ee(t,e,n){var o=Ot.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function ne(t,e,n){var o=Lt.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function oe(t,e,n){var o=Lt.exec(e.slice(n));return o?(t.s=+o[0],n+o[0].length):-1}function ie(t,e){return Pt(t.getDate(),e,2)}function re(t,e){return Pt(t.getHours(),e,2)}function se(t,e){return Pt(t.getHours()%12||12,e,2)}function ae(t,e){return Pt(1+ct.count(Z(t),t),e,3)}function le(t,e){return Pt(t.getMilliseconds(),e,3)}function ce(t,e){return le(t,e)+"000"}function ue(t,e){return Pt(t.getMonth()+1,e,2)}function he(t,e){return Pt(t.getMinutes(),e,2)}function pe(t,e){return Pt(t.getSeconds(),e,2)}function de(t){var e=t.getDay();return 0===e?7:e}function fe(t,e){return Pt(et.count(Z(t)-1,t),e,2)}function me(t,e){var n=t.getDay();return t=n>=4||0===n?rt(t):rt.ceil(t),Pt(rt.count(Z(t),t)+(4===Z(t).getDay()),e,2)}function ge(t){return t.getDay()}function ve(t,e){return Pt(nt.count(Z(t)-1,t),e,2)}function be(t,e){return Pt(t.getFullYear()%100,e,2)}function ye(t,e){return Pt(t.getFullYear()%1e4,e,4)}function we(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function Ee(t,e){return Pt(t.getUTCDate(),e,2)}function Ce(t,e){return Pt(t.getUTCHours(),e,2)}function xe(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function Me(t,e){return Pt(1+xt.count(_t(t),t),e,3)}function _e(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function Se(t,e){return _e(t,e)+"000"}function ke(t,e){return Pt(t.getUTCMonth()+1,e,2)}function Re(t,e){return Pt(t.getUTCMinutes(),e,2)}function Te(t,e){return Pt(t.getUTCSeconds(),e,2)}function De(t){var e=t.getUTCDay();return 0===e?7:e}function Le(t,e){return Pt(mt.count(_t(t)-1,t),e,2)}function Oe(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yt(t):yt.ceil(t),Pt(yt.count(_t(t),t)+(4===_t(t).getUTCDay()),e,2)}function Ae(t){return t.getUTCDay()}function Pe(t,e){return Pt(gt.count(_t(t)-1,t),e,2)}function ze(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function Ne(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function Fe(){return"+0000"}function je(){return"%"}function He(t){return+t}function Ie(t){return Math.floor(+t/1e3)}!function(t){Tt=function(t){var e=t.dateTime,n=t.date,o=t.time,i=t.periods,r=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Nt(i),u=Ft(i),h=Nt(r),p=Ft(r),d=Nt(s),f=Ft(s),m=Nt(a),g=Ft(a),v=Nt(l),b=Ft(l),y={a:function(t){return s[t.getDay()]},A:function(t){return r[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:ie,e:ie,f:ce,H:re,I:se,j:ae,L:le,m:ue,M:he,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:He,s:Ie,S:pe,u:de,U:fe,V:me,w:ge,W:ve,x:null,X:null,y:be,Y:ye,Z:we,"%":je},w={a:function(t){return s[t.getUTCDay()]},A:function(t){return r[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ee,e:Ee,f:Se,H:Ce,I:xe,j:Me,L:_e,m:ke,M:Re,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:He,s:Ie,S:Te,u:De,U:Le,V:Oe,w:Ae,W:Pe,x:null,X:null,y:ze,Y:Ne,Z:Fe,"%":je},E={a:function(t,e,n){var o=d.exec(e.slice(n));return o?(t.w=f[o[0].toLowerCase()],n+o[0].length):-1},A:function(t,e,n){var o=h.exec(e.slice(n));return o?(t.w=p[o[0].toLowerCase()],n+o[0].length):-1},b:function(t,e,n){var o=v.exec(e.slice(n));return o?(t.m=b[o[0].toLowerCase()],n+o[0].length):-1},B:function(t,e,n){var o=m.exec(e.slice(n));return o?(t.m=g[o[0].toLowerCase()],n+o[0].length):-1},c:function(t,n,o){return M(t,e,n,o)},d:qt,e:qt,f:te,H:Jt,I:Jt,j:Ut,L:Qt,m:Xt,M:Kt,p:function(t,e,n){var o=c.exec(e.slice(n));return o?(t.p=u[o[0].toLowerCase()],n+o[0].length):-1},q:$t,Q:ne,s:oe,S:Zt,u:Ht,U:It,V:Bt,w:jt,W:Vt,x:function(t,e,o){return M(t,n,e,o)},X:function(t,e,n){return M(t,o,e,n)},y:Gt,Y:Wt,Z:Yt,"%":ee};function C(t,e){return function(n){var o,i,r,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(i=Dt[o=t.charAt(++a)])?o=t.charAt(++a):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),s.push(o),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function x(t,e){return function(n){var o,i,r=Rt(1900,void 0,1);if(M(r,t,n+="",0)!=n.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(e&&!("Z"in r)&&(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||r.V>53)return null;"w"in r||(r.w=1),"Z"in r?(i=(o=kt(Rt(r.y,0,1))).getUTCDay(),o=i>4||0===i?gt.ceil(o):gt(o),o=xt.offset(o,7*(r.V-1)),r.y=o.getUTCFullYear(),r.m=o.getUTCMonth(),r.d=o.getUTCDate()+(r.w+6)%7):(i=(o=St(Rt(r.y,0,1))).getDay(),o=i>4||0===i?nt.ceil(o):nt(o),o=ct.offset(o,7*(r.V-1)),r.y=o.getFullYear(),r.m=o.getMonth(),r.d=o.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),i="Z"in r?kt(Rt(r.y,0,1)).getUTCDay():St(Rt(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(i+5)%7:r.w+7*r.U-(i+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,kt(r)):St(r)}}function M(t,e,n,o){for(var i,r,s=0,a=e.length,l=n.length;s<a;){if(o>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(r=E[i in Dt?e.charAt(s++):i])||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}return y.x=C(n,y),y.X=C(o,y),y.c=C(e,y),w.x=C(n,w),w.X=C(o,w),w.c=C(e,w),{format:function(t){var e=C(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=C(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}(t),Tt.format,Tt.parse,Tt.utcFormat,Tt.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Be=J((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Ve=(Be.range,J((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()}))),We=(Ve.range,J((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})));We.range}}]);